---
layout: page
section: QPU 命令その 1
title: MEASUREMENT 命令
description: 量子ビットから 0 または 1 を読み出す
prev: WRITE 命令
prev_url: ./write_operation.html
next: CLONE 命令!?
next_url: ./no_cloning_theorem.html
---

<p>
  MEASUREMENT 命令
  <measurement-gate class="operation-xs inline-block"></measurement-gate> は量子ビットから 0 または
  1 ({% ket 0 %} または {% ket 1 %}) の値を読み出します。 この読み出す操作 (Measurement)
  を測定または観測と呼びます {% nmargin_note measurement %}本チュートリアルでは全体を通して
  Measurement の訳語に測定を使います。{% endnmargin_note %}。
  量子コンピュータの計算結果を何らかの形で利用するには、必ず
  <measurement-gate class="operation-xs inline-block"></measurement-gate> を実行する必要があります。
</p>

<h2>単純な状態の測定</h2>

<p>
  量子ビット状態が {% ket 0 %} または {% ket 1 %} の場合に
  <measurement-gate class="operation-xs inline-block"></measurement-gate>
  を作用させた結果は次の通りです。 それぞれ測定すると、そのまま同じ {% ket 0 %} と {% ket 1 %}
  が返されます。
</p>

<div class="my-5 flex overflow-x-auto md:mr-auto md:w-7/12">
  <div class="flex flex-col">
    <div class="mb-8 flex flex-row items-center space-x-4">
      <div class="flex flex-row items-center">
        <div class="flex flex-row">
          {{ 1 | qubit_circle: 0, 'lg' }} {{ 0 | qubit_circle: 1, 'lg' }}
        </div>
        <div class="relative h-8 w-16">
          <div class="absolute inset-0 flex h-8 w-16 items-center text-zinc-300">
            {% include qubit_transition_arrow.svg %}
          </div>
          <measurement-gate class="absolute inset-0 mx-auto"></measurement-gate>
        </div>
      </div>
      <div class="flex flex-row">
        {{ 1 | qubit_circle: 0, 'lg' }} {{ 0 | qubit_circle: 1, 'lg' }}
      </div>
    </div>

    <div class="flex flex-row items-center space-x-4">
      <div class="flex flex-row items-center">
        <div class="flex flex-row">
          {{ 0 | qubit_circle: 0, 'lg' }} {{ 1 | qubit_circle: 1, 'lg' }}
        </div>
        <div class="relative h-8 w-16">
          <div class="absolute inset-0 flex h-8 w-16 items-center text-zinc-300">
            {% include qubit_transition_arrow.svg %}
          </div>
          <measurement-gate class="absolute inset-0 mx-auto"></measurement-gate>
        </div>
      </div>
      <div class="flex flex-row">
        {{ 0 | qubit_circle: 0, 'lg' }} {{ 1 | qubit_circle: 1, 'lg' }}
      </div>
    </div>
  </div>
</div>

<h2>重ね合わせ状態の測定</h2>

<p>
  量子ビットが重ね合わせ状態にある場合、0 と 1 が出る確率は {% ket 0 %} と {% ket 1 %} の確率
  (青い円の面積 = 振幅の大きさの 2 乗) に応じて決まります。
  このように、測定の結果にはランダム性があります。
</p>

<div class="my-5 flex overflow-x-auto">
  <div class="flex flex-col">
    <div class="mb-8 flex flex-row items-center space-x-1">
      <div class="flex flex-row">
        {{ '0.25 + 0.43301i' | qubit_circle: 0, 'lg' }} {{ '0.43301 - 0.75i' | qubit_circle: 1, 'lg'
        }}
      </div>
      <div class="flex flex-row items-center">
        {% include minus.svg class="h-6 w-6 fill-current text-gray-400" %}
        <measurement-gate></measurement-gate>
        {% include arrow_right.svg class="h-6 w-6 fill-current text-gray-400" %}
      </div>
      <div class="flex flex-col">
        <div class="mb-8 flex flex-row">
          <div class="my-auto mr-4 text-purple-600">25%</div>
          <div class="flex flex-row">
            {{ 1 | qubit_circle: 0, 'lg' }} {{ 0 | qubit_circle: 1, 'lg' }}
          </div>
        </div>
        <div class="flex flex-row">
          <div class="my-auto mr-4 text-purple-600">75%</div>
          <div class="flex flex-row">
            {{ 0 | qubit_circle: 0, 'lg' }} {{ 1 | qubit_circle: 1, 'lg' }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<p>
  測定によって量子ビットの振幅の大きさと位相の情報は破壊されるので、<measurement-gate
    class="operation-xs inline-block"
  ></measurement-gate>
  は <write-gate data-value="0" class="operation-xs inline-block"></write-gate> や
  <write-gate data-value="1" class="operation-xs inline-block"></write-gate>
  と同じく逆演算を持ちません。
  また、位相と振幅の大きさは互いに独立したパラメータなので、位相の値は測定結果にまったく何の影響も及ぼしません。
</p>

<h2>量子乱数ジェネレータ</h2>

<p>
  <measurement-gate class="operation-xs inline-block"></measurement-gate> とこれまでに学んだ
  <write-gate data-value="0" class="operation-xs inline-block"></write-gate> や
  <write-gate data-value="1" class="operation-xs inline-block"></write-gate>、<h-gate
    class="operation-xs inline-block"
  ></h-gate>
  を組合わせることで、最初の量子アプリケーション「量子乱数ジェネレータ」を作ることができます。
  <write-gate data-value="0" class="operation-xs inline-block"></write-gate> で {% ket 0 %}
  に初期化した量子ビットを
  <h-gate class="operation-xs inline-block"></h-gate> で重ね合わせ状態にし、<measurement-gate
    class="operation-xs inline-block"
  ></measurement-gate>
  で測定することで 0 または 1 をランダムに得ることができます。
</p>

<div class="mini-qni">
  <quantum-simulator class="flex flex-col" data-service-worker="/serviceworker.js">
    <circuit-editor>
      <div
        class="absolute top-px right-px z-40 rounded-bl-2xl rounded-tr-md bg-white drop-shadow-xl"
      >
        <inspector-button
          data-target="circuit-editor.inspectorButton"
          class="inline-block h-10 w-10 p-1"
        >
          <div class="flex h-full w-full items-center justify-center rounded-xl hover:bg-gray-200">
            {% include mixer_horizontal.svg class="h-4 w-4 text-gray-700" %}
          </div>
        </inspector-button>
      </div>

      <quantum-circuit
        class="mb-10"
        data-target="quantum-simulator.circuit circuit-editor.circuit"
        data-min-wire-count="1"
        data-max-wire-count="1"
        data-min-step-count="8"
        data-json='{"cols":[["|0>"],["H"],["Measure"]]}'
      >
      </quantum-circuit>

      <circle-notation
        id="circle-notation"
        data-target="quantum-simulator.circleNotation"
        data-qubit-circle-popup-template-id="qubit-circle-popup"
        class="border-swan z-40 flex w-min flex-row justify-center rounded-xl border-2 border-b-4 bg-white"
        data-padding-X="16"
        data-padding-Y="20"
      >
      </circle-notation>
    </circuit-editor>

    {% include run_circuit_button.html %}
  </quantum-simulator>
</div>

<p>
  重ね合わせ状態を測定して得られる量子乱数は、従来のコンピュータで計算的に生成する疑似乱数と異なり、原理的にまったく予測できない完璧な乱数です。
  単なる乱数生成と言ってもその用途は広く、セキュリティ分野での安全な暗号鍵の生成はもちろん、モンテカルロ法といった乱数を使ったアルゴリズムの速度や精度向上にもつながります。
  実際に、量子乱数の生成はすでにサービス化もされています{% nmargin_note quantum-origin %}<a
    href="https://www.quantumbusinessmagazine.com/post/cambrid"
    >Cambridge Quantum社、量子乱数生成サービス「Quantum Origin」を発表</a
  >{% endnmargin_note %}。
</p>
