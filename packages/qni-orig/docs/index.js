!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/packs/",n(n.s=83)}([function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return o})),n.d(e,"i",(function(){return i.a})),n.d(e,"b",(function(){return a.a})),n.d(e,"j",(function(){return d})),n.d(e,"e",(function(){return O})),n.d(e,"c",(function(){return k})),n.d(e,"h",(function(){return E})),n.d(e,"g",(function(){return S})),n.d(e,"d",(function(){return _.a})),n.d(e,"k",(function(){return _.b})),n.d(e,"f",(function(){return P}));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"isMobile",value:function(){return!window.matchMedia("(min-width: 460px)").matches}}],(n=null)&&r(e.prototype,n),o&&r(e,o),t}(),i=n(24),a=n(38),u=n(29);function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var p=[Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray];function d(t,e){if(t===e||b(t)&&b(e))return!0;var n=function(t,e){if(!y(t)&&Object(u.a)(t,"isEqualTo")&&"function"==typeof t.isEqualTo)return t.isEqualTo(e);if(!y(e)&&Object(u.a)(e,"isEqualTo")&&"function"==typeof e.isEqualTo)return e.isEqualTo(t);return}(t,e);return void 0!==n?n:!(y(t)||y(e)||!function(t,e){return typeof t==typeof e}(t,e))&&(t instanceof Map&&e instanceof Map?function(t,e){if(t.size!==e.size)return!1;var n,r=c(t);try{for(r.s();!(n=r.n()).done;){var o=s(n.value,2),i=o[0],a=o[1];if(!e.has(i))return!1;var u=e.get(i);if(!d(a,u))return!1}}catch(t){r.e(t)}finally{r.f()}return!0}(t,e):t instanceof Set&&e instanceof Set?v(t,e):h(t)&&h(e)?function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!d(t[n],e[n]))return!1;return!0}(t,e):function(t,e){var n=m(t);if(!v(n,m(e)))return!1;var r,o=c(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i!==Symbol.iterator&&!d(t[i],e[i]))return!1}}catch(t){o.e(t)}finally{o.f()}var a=void 0!==t[Symbol.iterator],u=void 0!==e[Symbol.iterator];if(a!==u)return!1;if(a&&u&&!function(t,e){var n,r=e[Symbol.iterator](),o=c(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=r.next();if(a.done||!d(i,a.value))return!1}}catch(t){o.e(t)}finally{o.f()}return r.next().done}(t,e))return!1;return!0}(t,e))}function h(t){return Array.isArray(t)||!p.every((function(e){return!(t instanceof e)}))}function b(t){return"number"==typeof t&&isNaN(t)}function y(t){return null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t}function v(t,e){if(t.size!==e.size)return!1;var n,r=c(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!e.has(o))return!1}}catch(t){r.e(t)}finally{r.f()}return!0}function m(t){var e=new Set;for(var n in t)Object(u.a)(t,n)&&e.add(n);return e}function g(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var O=[{character:"½",ref:"½",expanded:"1/2",value:.5},{character:"¼",ref:"¼",expanded:"1/4",value:1/4},{character:"¾",ref:"¾",expanded:"3/4",value:3/4},{character:"⅓",ref:"⅓",expanded:"1/3",value:1/3},{character:"⅔",ref:"⅔",expanded:"2/3",value:2/3},{character:"⅕",ref:"⅕",expanded:"1/5",value:.2},{character:"⅖",ref:"⅖",expanded:"2/5",value:.4},{character:"⅗",ref:"⅗",expanded:"3/5",value:.6},{character:"⅘",ref:"⅘",expanded:"4/5",value:.8},{character:"⅙",ref:"⅙",expanded:"1/6",value:1/6},{character:"⅚",ref:"⅚",expanded:"5/6",value:5/6},{character:"⅐",ref:"⅐",expanded:"1/7",value:1/7},{character:"⅛",ref:"⅛",expanded:"1/8",value:1/8},{character:"⅜",ref:"⅜",expanded:"3/8",value:3/8},{character:"⅝",ref:"⅝",expanded:"5/8",value:5/8},{character:"⅞",ref:"⅞",expanded:"7/8",value:7/8},{character:"⅑",ref:"⅑",expanded:"1/9",value:1/9},{character:"⅒",ref:"⅒",expanded:"1/10",value:.1}],k=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.allowAbbreviation=void 0,this.maxAbbreviationError=void 0,this.fixedDigits=void 0,this.itemSeparator=void 0,this.allowAbbreviation=e,this.maxAbbreviationError=n,this.fixedDigits=r,this.itemSeparator=o}var e,n,r;return e=t,n=[{key:"formatFloat",value:function(t){return this.allowAbbreviation?this.abbreviateFloat(t,this.maxAbbreviationError,this.fixedDigits):void 0!==this.fixedDigits?t.toFixed(this.fixedDigits):String(t)}},{key:"abbreviateFloat",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(Math.abs(e)<n)return"0";if(e<0)return"-"+this.abbreviateFloat(-e,n,r);var o=t.matchUnicodeFraction((function(t){return Math.abs(t.value-e)<=n}));if(void 0!==o)return o.character;var i=t.matchUnicodeFraction((function(t){return Math.abs(Math.sqrt(t.value)-e)<=n}));return void 0!==i?"√"+i.character:e%1!=0&&void 0!==r?e.toFixed(r):e.toString()}}],r=[{key:"parseFloat",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(e){if(0===e.length)throw new Error("Not a number: '"+e+"'");if("-"===e[0])return-t.parseFloat(e.substr(1));if("√"===e[0])return Math.sqrt(t.parseFloat(e.substr(1)));var n=t.matchUnicodeFraction((function(t){return t.character===e}));if(void 0!==n)return n.value;var r=parseFloat(e);if(isNaN(r))throw new Error("Not a number: '"+e+"'");return r}))},{key:"simplifyByRounding",value:function(e,n){if(e<0)return-t.simplifyByRounding(-e,n);var r=e%1;if(r<=n||1-r<=n)return Math.round(e);var o=t.matchUnicodeFraction((function(t){return Math.abs(t.value-e)<=n}));if(void 0!==o)return o.value;var i=t.matchUnicodeFraction((function(t){return Math.abs(Math.sqrt(t.value)-e)<=n}));return void 0!==i?Math.sqrt(i.value):e}},{key:"matchUnicodeFraction",value:function(t){var e,n=g(O);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t(r))return r}}catch(t){n.e(t)}finally{n.f()}}}],n&&x(e.prototype,n),r&&x(e,r),t}();k.CONSISTENT=new k(!1,0,2,", "),k.EXACT=new k(!0,0,void 0,", "),k.MINIFIED=new k(!0,0,void 0,","),k.SIMPLIFIED=new k(!0,5e-4,3,", ");var j=n(12),A={classes:{gate:"gate","gate:write":"write-gate","gate:hadamard":"hadamard-gate","gate:not":"not-gate","gate:y":"y-gate","gate:z":"z-gate","gate:phase":"phase-gate","gate:control":"control-gate","gate:swap":"swap-gate","gate:rootNot":"rnot-gate","gate:rx":"rx-gate","gate:ry":"ry-gate","gate:rz":"rz-gate","gate:measure":"measure-gate","display:bloch":"bloch-display","display:qubitLabel":"qubit-label","qubitLabel:value":"qubit-label__value",connectable:"connectable","connectable:lowerBit":"connectable--lower-bit","connectable:upperBit":"connectable--upper-bit",circuitBlock:"circuit-block",circuitStep:"circuit-step","circuitStep:body":"circuit-step__body","circuitStep:state:done":"circuit-step--done","circuitStep:type:shadow":"circuit-step--shadow","circuitStep:type:shadowSource":"circuit-step--shadow-source",circuitBreakpoint:"circuit-breakpoint","circuitBreakpoint:state:active":"circuit-breakpoint--active",draggable:"draggable","draggable:state:dragging":"draggable--dragging","draggable:state:dropped":"draggable--dropped","draggable:type:circuit":"draggable--circuit","draggable:type:palette":"draggable--palette",dropzone:"dropzone","dropzone:state:active":"dropzone--active","dropzone:state:occupied":"dropzone--occupied","dropzone:type:circuit":"dropzone--circuit","dropzone:type:palette":"dropzone--palette","dropzone:type:trash":"dropzone--trash","gate:mixin:ifable":"gate--ifable","gate:mixin:phiable":"gate--phiable","gate:mixin:thetable":"gate--thetable","gate:state:disabled":"gate--disabled","wireable:inactive":"wireable--inactive","wireable:inputInactive":"wireable--input-inactive","wireable:outputInactive":"wireable--output-inactive",angleSlider:"angle-slider","angleSlider:state:active":"angle-slider-active"},attributes:{"draggable:x":"data-draggable-x","draggable:y":"data-draggable-y","instruction:controls":"data-controls","instruction:if":"data-if","instruction:theta":"data-theta","instruction:phi":"data-phi","instruction:flag":"data-flag","instruction:valueable:value":"data-value"}};function E(t){var e=A.classes[t];if(!e)throw new j.a("className for ".concat(t," not found"));return e}function S(t){var e=A.attributes[t];if(!e)throw new j.a("attrName for ".concat(t," not found"));return e}var _=n(35);function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var P=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"need",value:function(t,e,n){if(!0!==t){var r=void 0===n?"(not provided)":"[".concat(Array.prototype.slice.call(n).join(", "),"]");throw new Error("Precondition failed\n\nMessage: "+(void 0===e?"(not provided)":e)+"\n\nArgs: "+r)}}},{key:"notNull",value:function(e){t.need(null!=e,"notNull")}},{key:"snappedCosSin",value:function(t){var e=Math.PI/4,n=Math.round(t/e);if(n*e===t){var r=Math.sqrt(.5);return[[1,0],[r,r],[0,1],[-r,r],[-1,0],[-r,-r],[0,-1],[r,-r]][7&n]}return[Math.cos(t),Math.sin(t)]}}],(n=null)&&z(e.prototype,n),r&&z(e,r),t}()},function(t,e,n){"use strict";var r=n(42),o=n(10);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=function(t){return!!t&&"object"==i(t)},u=function(t){return"function"==typeof t};e.a={window:function(t){return t===o.d||Object(r.a)(t)},docFrag:function(t){return a(t)&&11===t.nodeType},object:a,func:u,number:function(t){return"number"==typeof t},bool:function(t){return"boolean"==typeof t},string:function(t){return"string"==typeof t},element:function(t){if(!t||"object"!=i(t))return!1;var e=o.a(t)||o.d;return/object|function/.test(i(e.Element))?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName},plainObject:function(t){return a(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return a(t)&&void 0!==t.length&&u(t.splice)}}},function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"n",(function(){return u})),n.d(e,"o",(function(){return c})),n.d(e,"p",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return h})),n.d(e,"b",(function(){return b})),n.d(e,"l",(function(){return y})),n.d(e,"a",(function(){return v})),n.d(e,"m",(function(){return m})),n.d(e,"f",(function(){return g})),n.d(e,"e",(function(){return w}));var r=n(3),o=n(0),i="1",a="H",u="X",c="Y",s="Z",l="P",f="X^½",p="Rx",d="Ry",h="Rz",b="•",y="Swap",v="Bloch",m="Write",g="Measure",w={create:function(t){if(!t)return new r.d;var e=t.classList;if(e.contains(Object(o.h)("gate:write")))return new r.m(t);if(e.contains(Object(o.h)("gate:hadamard")))return new r.c(t);if(e.contains(Object(o.h)("gate:not")))return new r.n(t);if(e.contains(Object(o.h)("gate:y")))return new r.o(t);if(e.contains(Object(o.h)("gate:z")))return new r.p(t);if(e.contains(Object(o.h)("gate:phase")))return new r.f(t);if(e.contains(Object(o.h)("gate:control")))return new r.b(t);if(e.contains(Object(o.h)("gate:swap")))return new r.l(t);if(e.contains(Object(o.h)("gate:rootNot")))return new r.h(t);if(e.contains(Object(o.h)("gate:rx")))return new r.i(t);if(e.contains(Object(o.h)("gate:ry")))return new r.j(t);if(e.contains(Object(o.h)("gate:rz")))return new r.k(t);if(e.contains(Object(o.h)("gate:measure")))return new r.e(t);if(e.contains(Object(o.h)("display:bloch")))return new r.a(t);throw new Error("Unknown instruction: ".concat(t.outerHTML))}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return Q})),n.d(e,"c",(function(){return St})),n.d(e,"d",(function(){return zt})),n.d(e,"e",(function(){return Gt})),n.d(e,"n",(function(){return Jt})),n.d(e,"f",(function(){return pe})),n.d(e,"g",(function(){return ge})),n.d(e,"h",(function(){return Ee})),n.d(e,"i",(function(){return $e})),n.d(e,"j",(function(){return tn})),n.d(e,"k",(function(){return cn})),n.d(e,"l",(function(){return bn})),n.d(e,"m",(function(){return On})),n.d(e,"o",(function(){return zn})),n.d(e,"p",(function(){return Dn})),n.d(e,"q",(function(){return E})),n.d(e,"r",(function(){return rt})),n.d(e,"s",(function(){return q})),n.d(e,"t",(function(){return pt})),n.d(e,"u",(function(){return gt})),n.d(e,"v",(function(){return ie})),n.d(e,"w",(function(){return F})),n.d(e,"x",(function(){return Re}));var r=n(2),o=n(20);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(l,t);var e,n,r,s=c(l);function l(){return i(this,l),s.apply(this,arguments)}return e=l,(n=[{key:"bit",get:function(){return this.circuitDropzone.bit}},{key:"circuitDropzone",get:function(){return new o.b(this.element.parentElement)}}])&&a(e.prototype,n),r&&a(e,r),l}(n(18).a),p=n(0);function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(a,t);var e,n,o,i=y(a);function a(){return d(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return{type:r.a}}},{key:"toJson",value:function(){return'"'.concat(r.a,'"')}}])&&h(e.prototype,n),o&&h(e,o),a}(f);function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=A(t);if(e){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}g.elementClassName=Object(p.h)("display:bloch");var E=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.connectWith&&"function"==typeof t.disconnectFromAll};function S(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(i,t);var e,n,r,o=k(i);function i(){return w(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"connectWith",value:function(t){this.isConnectedWithLowerBit(t)?this.connectWithLowerBit():this.disconnectFromLowerBit(),this.isConnectedWithUpperBit(t)?this.connectWithUpperBit():this.disconnectFromUpperBit()}},{key:"disconnectFromAll",value:function(){this.disconnectFromLowerBit(),this.disconnectFromUpperBit()}},{key:"isConnectedWithLowerBit",value:function(t){var e=this;return t.some((function(t){return t<e.bit}))}},{key:"isConnectedWithUpperBit",value:function(t){var e=this;return t.some((function(t){return t>e.bit}))}},{key:"connectWithLowerBit",value:function(){this.element.setAttribute("data-wire-top",""),this.classList.add(Object(p.h)("connectable:lowerBit"))}},{key:"connectWithUpperBit",value:function(){this.element.setAttribute("data-wire-bottom",""),this.classList.add(Object(p.h)("connectable:upperBit"))}},{key:"disconnectFromLowerBit",value:function(){this.element.removeAttribute("data-wire-top"),this.classList.remove(Object(p.h)("connectable:lowerBit"))}},{key:"disconnectFromUpperBit",value:function(){this.element.removeAttribute("data-wire-bottom"),this.classList.remove(Object(p.h)("connectable:upperBit"))}}])&&x(e.prototype,n),r&&x(e,r),i}(t)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var q=function(t){return"object"==typeof t&&null!==t&&"boolean"==typeof t.disabled};function M(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(i,t);var e,n,r,o=C(i);function i(){return _(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"disabled",get:function(){return this.classList.contains(Object(p.h)("gate:state:disabled"))},set:function(t){var e=Object(p.h)("gate:state:disabled");t?(this.element.setAttribute("data-disabled",""),this.classList.add(e)):(this.element.removeAttribute("data-disabled"),this.classList.remove(e))}}])&&z(e.prototype,n),r&&z(e,r),i}(t)}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F=function(t){return"object"==typeof t&&null!==t&&"object"==typeof t.targets};function H(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(i,t);var e,n,r,o=L(i);function i(){return D(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"targets",get:function(){var t=this.element.getAttribute("data-targets");return t?t.split(",").map((function(t){return parseInt(t)})).sort():[]},set:function(t){this.element.setAttribute("data-targets",t.sort().join())}}])&&B(e.prototype,n),r&&B(e,r),i}(t)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=X(t);if(e){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(a,t);var e,n,o,i=$(a);function a(){return G(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return{type:r.b,targets:this.targets}}},{key:"toJson",value:function(){return'"'.concat(r.b,'"')}}])&&V(e.prototype,n),o&&V(e,o),a}(H(S(M(f))));function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nt(t);if(e){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Q.elementClassName=Object(p.h)("gate:control");var rt=function(t){return"object"==typeof t&&null!==t&&"object"==typeof t.controls};function ot(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(i,t);var e,n,r,o=tt(i);function i(){return J(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"controls",get:function(){var t=this.element.getAttribute(Object(p.g)("instruction:controls"));return t?t.split(",").map((function(t){return parseInt(t)})).sort():[]},set:function(t){this.element.setAttribute(Object(p.g)("instruction:controls"),t.sort().join())}}])&&K(e.prototype,n),r&&K(e,r),i}(t)}function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lt(t);if(e){var o=lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return st(this,n)}}function st(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lt(t){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ft=/^[A-Z][0-9A-Z_]*$/i,pt=function(t){return"object"==typeof t&&null!==t&&"object"==typeof t.flag||"string"==typeof t.flag};function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mt(t);if(e){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gt=function(t){return"object"==typeof t&&null!==t&&"object"==typeof t.if||"string"==typeof t.if};function wt(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(i,t);var e,n,r,o=yt(i);function i(){return dt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"if",get:function(){var t=this.element.getAttribute(Object(p.g)("instruction:if"));return t&&p.f.need(ft.test(t),'Invalid if variable name: "'.concat(t,'"')),t},set:function(t){var e=Object(p.g)("instruction:if");if(null===t)this.element.removeAttribute(e),this.element.dataset.gateLabel="";else{if(!ft.test(t))throw new Error('Invalid if variable name: "'.concat(t,'"'));this.element.setAttribute(e,t),this.element.dataset.gateLabel="if ".concat(t)}}}])&&ht(e.prototype,n),r&&ht(e,r),i}(t)}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Et(t);if(e){var o=Et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(a,t);var e,n,o,i=jt(a);function a(){return xt(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return{type:r.c,controls:this.controls,if:this.if}}},{key:"toJson",value:function(){return this.if?'"'.concat(r.c,"<").concat(this.if,'"'):'"'.concat(r.c,'"')}}])&&Ot(e.prototype,n),o&&Ot(e,o),a}(S(ot(M(wt(f)))));function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}St.elementClassName=Object(p.h)("gate:hadamard");var zt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"serialize",value:function(){return{type:r.d}}},{key:"toJson",value:function(){return r.d}}])&&_t(e.prototype,n),o&&_t(e,o),t}(),Pt=n(12);function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dt(t);if(e){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mt(this,n)}}function Mt(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bt(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(i,t);var e,n,r,o=qt(i);function i(){return Ct(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"dataValue",get:function(){var t=Object(p.g)("instruction:valueable:value");return this.element.getAttribute(t)},set:function(t){var e=Object(p.g)("instruction:valueable:value");t?this.element.setAttribute(e,t):this.element.removeAttribute(e)}}])&&Tt(e.prototype,n),r&&Tt(e,r),i}(t)}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ht(t);if(e){var o=Ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ft(this,n)}}function Ft(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(a,t);var e,n,o,i=Ut(a);function a(){return It(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return{type:r.f,flag:this.flag}}},{key:"toJson",value:function(){return this.flag?'"'.concat(r.f,">").concat(this.flag,'"'):'"'.concat(r.f,'"')}},{key:"value",get:function(){var t=this.dataValue;return null!==t?parseInt(t):null},set:function(t){if(null===t)throw new Pt.a("Cannot set Measure value null");this.dataValue=t.toString()}}])&&Lt(e.prototype,n),o&&Lt(e,o),a}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(i,t);var e,n,r,o=ct(i);function i(){return it(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"flag",get:function(){var t=this.element.getAttribute(Object(p.g)("instruction:flag"));return t&&p.f.need(ft.test(t),'Invalid flag name: "'.concat(t,'"')),t},set:function(t){var e=Object(p.g)("instruction:flag");if(null===t)this.element.removeAttribute(e),this.element.dataset.gateLabel="";else{if(!ft.test(t))throw new Error('Invalid flag name: "'.concat(t,'"'));this.element.setAttribute(e,t),this.element.dataset.gateLabel=t}}}])&&at(e.prototype,n),r&&at(e,r),i}(Bt(f)));function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qt(t);if(e){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Gt.elementClassName=Object(p.h)("gate:measure");var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(a,t);var e,n,o,i=Yt(a);function a(){return Vt(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return{type:r.n,controls:this.controls,if:this.if}}},{key:"toJson",value:function(){return this.if?'"'.concat(r.n,"<").concat(this.if,'"'):'"'.concat(r.n,'"')}}])&&Wt(e.prototype,n),o&&Wt(e,o),a}(ot(S(M(wt(f)))));Jt.elementClassName=Object(p.h)("gate:not");var Kt=n(7);function Zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oe(t);if(e){var o=oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ie=function(t){return"object"==typeof t&&null!==t&&"string"==typeof t.phi&&"string"==typeof t.angle&&"number"==typeof t.radian};function ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fe(t);if(e){var o=fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fe(t){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(a,t);var e,n,o,i=se(a);function a(){return ae(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"cphaseTargetInstructions",value:function(){var t=this.circuitDropzone.circuitStep.instructions;return this.targets.map((function(e){return t[e]}))}},{key:"serialize",value:function(){return{type:r.g,phi:this.phi,controls:this.controls,targets:this.targets,if:null}}},{key:"toJson",value:function(){var t=this.phi.replace(/pi/g,"π").replace(/\//g,"_");return'"'.concat(r.g,"(").concat(t,')"')}}])&&ue(e.prototype,n),o&&ue(e,o),a}(function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ee(t,e)}(i,t);var e,n,r,o=ne(i);function i(){return Zt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"phi",get:function(){var t=this.element.getAttribute(Object(p.g)("instruction:phi"));return p.f.notNull(t),Object(Kt.d)(t),t},set:function(t){Object(Kt.d)(t),this.element.setAttribute(Object(p.g)("instruction:phi"),t),this.element.dataset.gateLabel=t.replace(/pi/g,"π")}},{key:"angle",get:function(){return this.phi},set:function(t){this.phi=t}},{key:"radian",get:function(){var t=this.element.getAttribute(Object(p.g)("instruction:phi"));return p.f.notNull(t),Object(Kt.d)(t)}}])&&te(e.prototype,n),r&&te(e,r),i}(t)}(ot(H(S(f)))));function de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function he(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function be(t,e){return(be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=me(t);if(e){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe.elementClassName=Object(p.h)("gate:phase");var ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&be(t,e)}(i,t);var e,n,r,o=ye(i);function i(){return de(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"serialize",value:function(){return{type:"QubitLabel",value:this.value}}},{key:"toJson",value:function(){return'"'.concat("QubitLabel",'"')}},{key:"value",get:function(){var t=this.dataValue;if(!t)throw new Pt.a("Couldn't get QubitLabel value");return t},set:function(t){this.dataValue=t,this.valueEl.textContent=t}},{key:"valueEl",get:function(){return this.fetchElement("qubitLabel:value")}},{key:"fetchElement",value:function(t){var e=Object(p.h)(t),n=this.element.getElementsByClassName(e).item(0);if(!n)throw new Error(".${className} not found");return n}}])&&he(e.prototype,n),r&&he(e,r),i}(Bt(f));function we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oe(t,e){return(Oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ke(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ae(t);if(e){var o=Ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return je(this,n)}}function je(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}ge.elementClassName=Object(p.h)("display:qubitLabel");var Ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oe(t,e)}(a,t);var e,n,o,i=ke(a);function a(){return we(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return{type:r.h,controls:this.controls,if:this.if}}},{key:"toJson",value:function(){return this.if?'"'.concat(r.h,"<").concat(this.if,'"'):'"'.concat(r.h,'"')}}])&&xe(e.prototype,n),o&&xe(e,o),a}(ot(S(M(wt(f)))));function Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ze(t,e){return(ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Te(t);if(e){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Ee.elementClassName=Object(p.h)("gate:rootNot");var Re=function(t){return"object"==typeof t&&null!==t&&"string"==typeof t.theta&&"string"==typeof t.angle&&"number"==typeof t.radian};function qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function De(t,e){return(De=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Le(t);if(e){var o=Le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ie(this,n)}}function Ie(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Le(t){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&De(t,e)}(i,t);var e,n,r,o=Be(i);function i(){return qe(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"_serialize",value:function(t){return{type:t,theta:this.theta,controls:this.controls,targets:this.targets,if:this.if}}},{key:"_toJson",value:function(t){var e=this.theta.replace(/pi/g,"π").replace(/\//g,"_");return this.if?'"'.concat(t,"(").concat(e,")<").concat(this.if,'"'):'"'.concat(t,"(").concat(e,')"')}}])&&Me(e.prototype,n),r&&Me(e,r),i}(function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ze(t,e)}(i,t);var e,n,r,o=Pe(i);function i(){return Se(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"theta",get:function(){var t=this.element.getAttribute(Object(p.g)("instruction:theta"));return p.f.notNull(t),Object(Kt.e)(t,Kt.c),t},set:function(t){Object(Kt.e)(t,Kt.c),this.element.setAttribute(Object(p.g)("instruction:theta"),t),this.element.dataset.gateLabel=t.replace(/pi/g,"π")}},{key:"angle",get:function(){return this.theta},set:function(t){this.theta=t}},{key:"radian",get:function(){var t=this.element.getAttribute(Object(p.g)("instruction:theta"));return p.f.notNull(t),Kt.a.from(Object(Kt.e)(t,Kt.c)).real}}])&&_e(e.prototype,n),r&&_e(e,r),i}(t)}(ot(H(S(M(wt(f)))))));function Ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=We(t);if(e){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&He(t,e)}(a,t);var e,n,o,i=Ge(a);function a(){return Ue(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return this._serialize(r.i)}},{key:"toJson",value:function(){return this._toJson(r.i)}}])&&Fe(e.prototype,n),o&&Fe(e,o),a}(Ne);function Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qe(t,e){return(Qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ze(t);if(e){var o=Ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ke(this,n)}}function Ke(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ze(t){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}$e.elementClassName=Object(p.h)("gate:rx");var tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qe(t,e)}(a,t);var e,n,o,i=Je(a);function a(){return Ye(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return this._serialize(r.j)}},{key:"toJson",value:function(){return this._toJson(r.j)}}])&&Xe(e.prototype,n),o&&Xe(e,o),a}(Ne);function en(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rn(t,e){return(rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function on(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=un(t);if(e){var o=un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return an(this,n)}}function an(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}tn.elementClassName=Object(p.h)("gate:ry");var cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rn(t,e)}(a,t);var e,n,o,i=on(a);function a(){return en(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return this._serialize(r.k)}},{key:"toJson",value:function(){return this._toJson(r.k)}}])&&nn(e.prototype,n),o&&nn(e,o),a}(Ne);function sn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ln(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fn(t,e){return(fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dn(this,n)}}function dn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function hn(t){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}cn.elementClassName=Object(p.h)("gate:rz");var bn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fn(t,e)}(a,t);var e,n,o,i=pn(a);function a(){return sn(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return{type:r.l,targets:this.swapTargets,controls:this.controls}}},{key:"toJson",value:function(){return'"'.concat(r.l,'"')}},{key:"phi",get:function(){var t=this.element.getAttribute(Object(p.g)("instruction:phi"));return p.f.notNull(t),t}},{key:"swapTargets",get:function(){var t=this.targets;return 2!==t.length?[]:[t[0],t[1]]}}])&&ln(e.prototype,n),o&&ln(e,o),a}(ot(H(S(M(f)))));function yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mn(t,e){return(mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xn(t);if(e){var o=xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wn(this,n)}}function wn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xn(t){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}bn.elementClassName=Object(p.h)("gate:swap");var On=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mn(t,e)}(a,t);var e,n,o,i=gn(a);function a(){return yn(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return{type:r.m,value:this.value}}},{key:"toJson",value:function(){return'"|'.concat(this.value,'>"')}},{key:"value",get:function(){var t=Object(p.g)("instruction:valueable:value"),e=this.element.getAttribute(t);return p.f.notNull(e),p.f.need("0"===e||"1"===e,"Must be 0 or 1"),parseInt(e)}}])&&vn(e.prototype,n),o&&vn(e,o),a}(f);function kn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function An(t,e){return(An=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function En(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_n(t);if(e){var o=_n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sn(this,n)}}function Sn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _n(t){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}On.elementClassName=Object(p.h)("gate:write");var zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&An(t,e)}(a,t);var e,n,o,i=En(a);function a(){return kn(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return{type:r.o,controls:this.controls,if:this.if}}},{key:"toJson",value:function(){return this.if?'"'.concat(r.o,"<").concat(this.if,'"'):'"'.concat(r.o,'"')}}])&&jn(e.prototype,n),o&&jn(e,o),a}(ot(S(M(wt(f)))));function Pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tn(t,e){return(Tn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mn(t);if(e){var o=Mn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qn(this,n)}}function qn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Mn(t){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}zn.elementClassName=Object(p.h)("gate:y");var Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tn(t,e)}(a,t);var e,n,o,i=Rn(a);function a(){return Pn(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"serialize",value:function(){return{type:r.p,controls:this.controls,if:this.if}}},{key:"toJson",value:function(){return this.if?'"'.concat(r.p,"<").concat(this.if,'"'):'"'.concat(r.p,'"')}}])&&Cn(e.prototype,n),o&&Cn(e,o),a}(ot(S(M(wt(f)))));Dn.elementClassName=Object(p.h)("gate:z")},function(t,e,n){t.exports=n(54)},function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"h",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"i",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return p})),n.d(e,"g",(function(){return h})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return v})),n.d(e,"j",(function(){return m}));var r=n(15),o=n(11),i=n(1),a=n(10);function u(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function c(t,e){for(;i.a.element(t);){if(l(t,e))return t;t=s(t)}return null}function s(t){var e=t.parentNode;if(i.a.docFrag(e)){for(;(e=e.host)&&i.a.docFrag(e););return e}return e}function l(t,e){return a.d!==a.c&&(e=e.replace(/\/deep\//g," ")),t[r.a.prefixedMatchesSelector](e)}var f=function(t){return t.parentNode||t.host};function p(t){for(var e,n,r,i=[],u=0;u<t.length;u++){var c=t[u],s=t[e];if(c&&u!==e)if(s){var l=f(c),p=f(s);if(l!==c.ownerDocument)if(p!==c.ownerDocument)if(l!==p){var h=void 0;if(i=i.length?i:d(s),s instanceof o.a.HTMLElement&&c instanceof o.a.SVGElement&&!(c instanceof o.a.SVGSVGElement)){if(c===p)continue;h=c.ownerSVGElement}else h=c;for(var b=d(h,s.ownerDocument),y=0;b[y]&&b[y]===i[y];)y++;var v=[b[y-1],b[y],i[y]];if(v[0])for(var m=v[0].lastChild;m;){if(m===v[1]){e=u,i=b;break}if(m===v[2])break;m=m.previousSibling}}else n=c,r=s,(parseInt(a.a(n).getComputedStyle(n).zIndex,10)||0)>=(parseInt(a.a(r).getComputedStyle(r).zIndex,10)||0)&&(e=u);else e=u}else e=u}return e}function d(t,e){for(var n,r=[],o=t;(n=f(o))&&o!==e&&n!==o.ownerDocument;)r.unshift(o),o=n;return r}function h(t,e,n){for(;i.a.element(t);){if(l(t,e))return!0;if((t=s(t))===n)return l(t,e)}return!1}function b(t){return t.correspondingUseElement||t}function y(t){var e=t instanceof o.a.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function v(t){var e,n=y(t);if(!r.a.isIOS7&&n){var o={x:(e=(e=a.a(t))||a.d).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop};n.left+=o.x,n.right+=o.x,n.top+=o.y,n.bottom+=o.y}return n}function m(t){return!!i.a.string(t)&&(o.a.document.querySelector(t),!0)}},function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return g})),n.d(e,"a",(function(){return x})),n.d(e,"e",(function(){return p})),n.d(e,"b",(function(){return I}));var r=n(23),o=n.n(r);function i(t){return new o.a(t.replace(/(\d+)pi/g,"$1").replace(/pi/g,"1")).valueOf()*Math.PI}var a=n(0),u=n(35);function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t){return function(t){for(var e=(t=c(t)).indexOf("e",1);-1!==e;e=t.indexOf("e",e+1)){var n=e-1,r=e+1;/[0-9]/.exec(t[n])&&(/[+-]/.exec(t[r]+"")&&(r+=1),/[0-9]/.exec(t[r]+"")&&(r+=1,t.splice(n,r-n,t.slice(n,r).join("")),e-=1))}return t}(Object(u.b)(t.toLowerCase().split(/\s/)).flatMap((function(t){return Object(u.b)(t).segmentBy((function(t){return""===t.trim()?" ":/[.0-9]/.exec(t)?"#":/[_a-z]/.exec(t)?"a":NaN})).map((function(t){return t.join("")}))})).filter((function(t){return""!==t.trim()})).toArray())}function p(t,e){var n=f(t).map((function(t){return function(t,e){if(/[0-9]+(\.[0-9]+)?/.exec(t))return parseFloat(t);if(e.has(t))return e.get(t);throw new a.b("Unrecognized token",{token:t})}(t,e)}));n.length>0&&void 0!==n[n.length-1].priority&&(n=n.slice(0,n.length-1));var r,o=[],i=[],u=function(t){return"("!==t&&void 0===t.priority},c=function(e){if("("===e)throw new a.b("Bad expression: unmatched '('",{text:t});if(i.length<2)throw new a.b("Bad expression: operated on nothing",{text:t});var n=i.pop(),r=i.pop();i.push(e.f(r,n))},l=function(){for(;;){if(0===o.length)throw new a.b("Bad expression: unmatched ')'",{text:t});var e=o.pop();if("("===e)break;c(e)}},p=function(t){for(;o.length>0&&i.length>=2&&void 0!==i[i.length-1];){var e=o[o.length-1];if(void 0===e.w||e.w<t)break;c(o.pop())}},d=function(n,r){var u=e.get("*");if(n&&void 0===r.binary_action&&")"!==r&&(p(u.priority),o.push({f:u.binary_action,w:u.priority})),n&&void 0!==r.binary_action)p(r.priority),o.push({f:r.binary_action,w:r.priority});else if(void 0!==r.unary_action)p(r.priority),i.push(void 0),o.push({f:function(t,e){return r.unary_action(e)},w:1/0});else if(void 0!==r.binary_action)throw new a.b("Bad expression: binary op in bad spot",{text:t})},h=!1,b=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(n);try{for(b.s();!(r=b.n()).done;){var y=r.value;d(h,y),h=u(y),"("===y?o.push("("):")"===y?l():h&&i.push(y)}}catch(t){b.e(t)}finally{b.f()}if(p(-1/0),1!==i.length||0!==o.length)throw new a.b("Incomplete expression",{text:t});return i[0]}function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=b(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=new Map,g=new Map,w=new Map,x=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.real=void 0,this.imag=void 0,this.real=e,this.imag=n}var e,n,r;return e=t,r=[{key:"from",value:function(e){if(e instanceof t)return e;if("number"==typeof e)return new t(e,0);throw new a.b("Unrecognized value type.",{v:e})}},{key:"parse",value:function(e){return t.from(p(e,w))}},{key:"polar",value:function(e,n){var r=h(a.f.snappedCosSin(n),2);return new t(e*r[0],e*r[1])}},{key:"realPartOf",value:function(e){if(e instanceof t)return e.real;if("number"==typeof e)return e;throw new a.b("Unrecognized value type.",{v:e})}},{key:"imagPartOf",value:function(e){if(e instanceof t)return e.imag;if("number"==typeof e)return 0;throw new a.b("Unrecognized value type.",{v:e})}},{key:"rootsOfQuadratic",value:function(e,n,r){if(e=t.from(e),n=t.from(n),r=t.from(r),e.isEqualTo(0)){if(!n.isEqualTo(0))return[r.times(-1).dividedBy(n)];if(!r.isEqualTo(0))return[];throw Error("Degenerate")}var o=n.times(n).minus(e.times(r).times(4)).sqrts(),i=n.times(-1),a=e.times(2);return o.map((function(t){return i.minus(t).dividedBy(a)}))}}],(n=[{key:"isApproximatelyEqualTo",value:function(e,n){if(e instanceof t||"number"==typeof e){var r=this.minus(t.from(e));return Math.abs(r.real)<=n&&Math.abs(r.imag)<=n&&r.abs()<=n}return!1}},{key:"norm2",value:function(){return this.real*this.real+this.imag*this.imag}},{key:"abs",value:function(){return Math.sqrt(this.norm2())}},{key:"isEqualTo",value:function(e){return e instanceof t?this.real===e.real&&this.imag===e.imag:"number"==typeof e&&this.real===e&&0===this.imag}},{key:"unit",value:function(){var e=this.norm2();return e<1e-5?t.polar(1,this.phase()):this.dividedBy(Math.sqrt(e))}},{key:"plus",value:function(e){var n=t.from(e);return new t(this.real+n.real,this.imag+n.imag)}},{key:"minus",value:function(e){var n=t.from(e);return new t(this.real-n.real,this.imag-n.imag)}},{key:"times",value:function(e){var n=t.from(e);return new t(this.real*n.real-this.imag*n.imag,this.real*n.imag+this.imag*n.real)}},{key:"dividedBy",value:function(e){var n=t.from(e),r=n.norm2();if(0===r)throw new Error("Division by Zero");var o=this.times(n.conjugate());return new t(o.real/r,o.imag/r)}},{key:"sqrts",value:function(){var e=[this.real,this.imag],n=e[0],r=e[1],o=Math.sqrt(Math.sqrt(n*n+r*r));if(0===o)return[t.ZERO];if(0===r&&n<0)return[new t(0,o),new t(0,-o)];var i=this.phase()/2,a=t.polar(o,i);return[a,a.times(-1)]}},{key:"conjugate",value:function(){return new t(this.real,-this.imag)}},{key:"toString",value:function(t){return(t=t||a.c.EXACT).allowAbbreviation?this.toStringAllowSingleValue(t):this.toStringBothValues(t)}},{key:"neg",value:function(){return new t(-this.real,-this.imag)}},{key:"raisedTo",value:function(e){return.5===e&&0===this.imag&&this.real>=0?new t(Math.sqrt(this.real),0):t.ZERO.isEqualTo(e)?t.ONE:this.isEqualTo(t.ZERO)?t.ZERO:this.ln().times(t.from(e)).exp()}},{key:"exp",value:function(){return t.polar(Math.exp(this.real),this.imag)}},{key:"cos",value:function(){var e=this.times(t.I);return e.exp().plus(e.neg().exp()).times(.5)}},{key:"sin",value:function(){var e=this.times(t.I);return e.exp().minus(e.neg().exp()).dividedBy(new t(0,2))}},{key:"tan",value:function(){return this.sin().dividedBy(this.cos())}},{key:"ln",value:function(){return new t(Math.log(this.abs()),this.phase())}},{key:"phase",value:function(){return Math.atan2(this.imag,this.real)}},{key:"toStringAllowSingleValue",value:function(t){return Math.abs(this.imag)<=t.maxAbbreviationError?t.formatFloat(this.real):Math.abs(this.real)<=t.maxAbbreviationError?Math.abs(this.imag-1)<=t.maxAbbreviationError?"i":Math.abs(this.imag+1)<=t.maxAbbreviationError?"-i":t.formatFloat(this.imag)+"i":this.toStringBothValues(t)}},{key:"toStringBothValues",value:function(t){var e=this.imag>=0?"+":"-",n=t.allowAbbreviation&&Math.abs(Math.abs(this.imag)-1)<=t.maxAbbreviationError?"":t.formatFloat(Math.abs(this.imag));return(t.allowAbbreviation||void 0===t.fixedDigits||this.real<0?"":"+")+t.formatFloat(this.real)+e+n+"i"}}])&&v(e.prototype,n),r&&v(e,r),t}();x.ZERO=new x(0,0),x.ONE=new x(1,0),x.I=new x(0,1),m.set("i",x.I),m.set("e",x.from(Math.E)),m.set("pi",x.from(Math.PI)),m.set("(","("),m.set(")",")");var O,k=d(a.e);try{for(k.s();!(O=k.n()).done;){var j=O.value,A=j.character,E=j.value;m.set(A,E)}}catch(t){k.e(t)}finally{k.f()}m.set("sqrt",{unary_action:function(t){return x.from(t).raisedTo(.5)},priority:4}),m.set("exp",{unary_action:function(t){return x.from(t).exp()},priority:4}),m.set("ln",{unary_action:function(t){return x.from(t).ln()},priority:4}),m.set("^",{binary_action:function(t,e){return x.from(t).raisedTo(e)},priority:3}),m.set("*",{binary_action:function(t,e){return x.from(t).times(e)},priority:2}),m.set("/",{binary_action:function(t,e){return x.from(t).dividedBy(e)},priority:2}),m.set("-",{unary_action:function(t){return x.from(t).neg()},binary_action:function(t,e){return x.from(t).minus(e)},priority:1}),m.set("+",{unary_action:function(t){return t},binary_action:function(t,e){return x.from(t).plus(e)},priority:1}),m.set("√",m.get("sqrt")),w.set("cos",{unary_action:function(t){return new x(Math.PI/180,0).times(t).cos()},priority:4}),w.set("sin",{unary_action:function(t){return new x(Math.PI/180,0).times(t).sin()},priority:4}),w.set("asin",{unary_action:function(t){if(0!==x.imagPartOf(t))throw new a.b("asin input out of range",{e:t});return x.from(180*Math.asin(x.realPartOf(t))/Math.PI)},priority:4}),w.set("acos",{unary_action:function(t){if(0!==x.imagPartOf(t))throw new a.b("acos input out of range",{e:t});return x.from(180*Math.acos(x.realPartOf(t))/Math.PI)},priority:4}),w.set("arccos",w.get("acos")),w.set("arcsin",w.get("asin")),g.set("cos",{unary_action:function(t){return x.from(t).cos()},priority:4}),g.set("sin",{unary_action:function(t){return x.from(t).sin()},priority:4}),g.set("tan",{unary_action:function(t){return x.from(t).tan()},priority:4}),g.set("asin",{unary_action:function(t){if(0!==x.imagPartOf(t))throw new a.b("asin input out of range",{e:t});return x.from(Math.asin(x.realPartOf(t)))},priority:4}),g.set("acos",{unary_action:function(t){if(0!==x.imagPartOf(t))throw new a.b("acos input out of range",{e:t});return x.from(Math.acos(x.realPartOf(t)))},priority:4}),g.set("atan",{unary_action:function(t){if(0!==x.imagPartOf(t))throw new a.b("atan input out of range",{e:t});return x.from(Math.atan(x.realPartOf(t)))},priority:4});var S,_=d(m.entries());try{for(_.s();!(S=_.n()).done;){var z=h(S.value,2),P=z[0],C=z[1];w.set(P,C),g.set(P,C)}}catch(t){_.e(t)}finally{_.f()}function T(t){return function(t){if(Array.isArray(t))return D(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||M(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||M(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=M(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){u=!0,i=t})),f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function M(t,e){if(t){if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=void 0,this.height=void 0,this.buffer=void 0,e*n*2!==r.length)throw new a.b("width*height*2 !== buffer.length",{width:e,height:n,len:r.length});this.width=e,this.height=n,this.buffer=r}var e,n,r;return e=t,r=[{key:"PHASE",value:function(e){var n=i(e),r=x.from(Math.E);return t.square(1,0,0,r.raisedTo(x.I.times(n)))}},{key:"RNOT",get:function(){var e=x.I,n=e.neg();return t.square(e.plus(1),n.plus(1),n.plus(1),e.plus(1)).times(.5)}},{key:"RX",value:function(e){var n=p(e,g),r=x.I.neg(),o=Math.cos(n/2),i=Math.sin(n/2);return t.square(o,r.times(i),r.times(i),o)}},{key:"RY",value:function(e){var n=p(e,g),r=Math.cos(n/2),o=Math.sin(n/2);return t.square(r,-o,o,r)}},{key:"RZ",value:function(e){var n=p(e,g),r=x.from(Math.E),o=x.I;return t.square(r.raisedTo(o.neg().times(n/2)),0,0,r.raisedTo(o.times(n/2)))}},{key:"fromRows",value:function(e){a.f.need(e.length>0,"non-zero height",e);var n=Object(a.k)(e),r=e.length,o=n.map((function(t){return t.length})).distinct().single(null);if(null===o)throw new a.b("Inconsistent row widths.",{rows:e});var i,u=new Float64Array(o*r*2),c=0,s=q(e);try{for(s.s();!(i=s.n()).done;){var l,f=q(i.value);try{for(f.s();!(l=f.n()).done;){var p=l.value;u[c]=x.realPartOf(p),u[c+1]=x.imagPartOf(p),c+=2}}catch(t){f.e(t)}finally{f.f()}}}catch(t){s.e(t)}finally{s.f()}return new t(o,r,u)}},{key:"generate",value:function(e,n,r){for(var o=new Float64Array(e*n*2),i=0;i<n;i++)for(var a=0;a<e;a++){var u=2*(i*e+a),c=r(i,a);o[u]=x.realPartOf(c),o[u+1]=x.imagPartOf(c)}return new t(e,n,o)}},{key:"solo",value:function(e){return new t(1,1,new Float64Array([x.realPartOf(e),x.imagPartOf(e)]))}},{key:"square",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];a.f.need(Array.isArray(n),"Array.isArray(coefs)",n);var o=Math.round(Math.sqrt(n.length));return a.f.need(o*o===n.length,"Matrix.square: non-square number of arguments"),t.generate(o,o,(function(t,e){return n[t*o+e]}))}},{key:"col",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a.f.need(Array.isArray(n),"Array.isArray(coefs)",n),t.generate(1,n.length,(function(t){return n[t]}))}},{key:"row",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a.f.need(Array.isArray(n),"Array.isArray(coefs)",n),t.generate(n.length,1,(function(t,e){return n[e]}))}},{key:"identity",value:function(e){if(!Number.isInteger(e)||e<=0)throw new a.b("Bad size",{size:e});for(var n=new Float64Array(e*e*2),r=0;r<e;r++)n[r*(e+1)*2]=1;return new t(e,e,n)}},{key:"generateDiagonal",value:function(e,n){for(var r=new Float64Array(e*e*2),o=0;o<e;o++){var i=o*(e+1)*2,a=n(o);r[i]=x.realPartOf(a),r[i+1]=x.imagPartOf(a)}return new t(e,e,r)}},{key:"zero",value:function(e,n){return new t(e,n,new Float64Array(e*n*2))}},{key:"rotation",value:function(e){var n=Math.cos(e),r=Math.sin(e);return t.square(n,-r,r,n)}},{key:"fromAngleAxisPhaseRotation",value:function(e,n,r){var o=R(n,3),i=o[0],u=o[1],c=o[2];a.f.need(Math.abs(i*i+u*u+c*c-1)<1e-6,"Not a unit axis.");var s=t.PAULI_X.times(i).plus(t.PAULI_Y.times(u)).plus(t.PAULI_Z.times(c)),l=R(a.f.snappedCosSin(-e/2),2),f=l[0],p=l[1];return t.identity(2).times(f).plus(s.times(new x(0,p))).times(x.polar(1,r))}}],(n=[{key:"getColumn",value:function(t){a.f.need(t>=0&&t<=this.width,"colIndex >= 0 && colIndex <= this.width");for(var e=[],n=0;n<this.height;n++)e.push(this.cell(t,n));return e}},{key:"isUnitary",value:function(e){var n=this.width;return this.height===n&&this.times(this.adjoint()).isApproximatelyEqualTo(t.identity(n),e)}},{key:"adjoint",value:function(){for(var e=this.height,n=this.width,r=new Float64Array(e*n*2),o=0;o<n;o++)for(var i=0;i<e;i++){var a=2*(i*this.width+o),u=2*(o*e+i);r[u]=this.buffer[a],r[u+1]=-this.buffer[a+1]}return new t(e,n,r)}},{key:"times",value:function(e){return e instanceof t?this.timesMatrix(e):this.timesScalar(e)}},{key:"timesMatrix",value:function(e){if(this.width!==e.height)throw new a.b("Incompatible sizes.",{this:this,other:e});for(var n=e.width,r=this.height,o=this.width,i=new Float64Array(n*r*2),u=0;u<r;u++)for(var c=0;c<n;c++)for(var s=2*(u*n+c),l=0;l<o;l++){var f=2*(u*o+l),p=2*(l*n+c),d=this.buffer[f],h=this.buffer[f+1],b=e.buffer[p],y=e.buffer[p+1],v=d*b-h*y,m=d*y+b*h;i[s]+=v,i[s+1]+=m}return new t(n,r,i)}},{key:"timesScalar",value:function(e){for(var n=new Float64Array(this.buffer.length),r=x.realPartOf(e),o=x.imagPartOf(e),i=0;i<n.length;i+=2){var a=this.buffer[i],u=this.buffer[i+1];n[i]=a*r-u*o,n[i+1]=a*o+u*r}return new t(this.width,this.height,n)}},{key:"isEqualTo",value:function(e){var n=this;if(this===e)return!0;if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&a.d.range(this.buffer.length).every((function(t){return n.buffer[t]===r.buffer[t]}))}},{key:"isApproximatelyEqualTo",value:function(e,n){return e instanceof t&&this.width===e.width&&this.height===e.height&&Math.sqrt(this.minus(e).norm2())<=n}},{key:"minus",value:function(e){var n=this.width,r=this.height,o=this.buffer,i=e.buffer;a.f.need(e.width===n&&e.height===r,"Matrix.minus: compatible sizes");for(var u=new Float64Array(this.buffer.length),c=0;c<u.length;c++)u[c]=o[c]-i[c];return new t(n,r,u)}},{key:"norm2",value:function(){var t,e=0,n=q(this.buffer);try{for(n.s();!(t=n.n()).done;){var r=t.value;e+=r*r}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.c.EXACT,e=this.rows().map((function(e){return e.map((function(e){return e.toString(t)})).join(t.itemSeparator)})).join("}".concat(t.itemSeparator,"{"));return"{{".concat(e,"}}")}},{key:"rows",value:function(){var t=this;return a.d.range(this.height).map((function(e){return a.d.range(t.width).map((function(n){return t.cell(n,e)})).toArray()})).toArray()}},{key:"cell",value:function(t,e){if(t<0||e<0||t>=this.width||e>=this.height)throw new a.b("Cell out of range",{col:t,row:e,width:this.width,height:this.height});var n=2*(this.width*e+t);return new x(this.buffer[n],this.buffer[n+1])}},{key:"set",value:function(t,e,n){if(t<0||e<0||t>=this.width||e>=this.height)throw new a.b("Cell out of range",{col:t,row:e,width:this.width,height:this.height});var r=2*(this.width*e+t);this.buffer[r]=n.real,this.buffer[r+1]=n.imag}},{key:"isApproximatelyHermitian",value:function(t){if(this.width!==this.height)return!1;for(var e=0;e<this.width;e++)for(var n=0;n<this.height;n++){var r=2*(this.width*n+e),o=2*(this.width*e+n);if(Math.abs(this.buffer[r]-this.buffer[o])>t)return!1;if(Math.abs(this.buffer[r+1]+this.buffer[o+1])>t)return!1}return!0}},{key:"plus",value:function(e){var n=this.width,r=this.height,o=this.buffer,i=e.buffer;a.f.need(e.width===n&&e.height===r,"Matrix.plus: compatible sizes");for(var u=new Float64Array(this.buffer.length),c=0;c<u.length;c++)u[c]=o[c]+i[c];return new t(n,r,u)}},{key:"tensorProduct",value:function(e){for(var n=this.width,r=this.height,o=e.width,i=e.height,a=n*o,u=r*i,c=new Float64Array(a*u*2),s=0;s<r;s++)for(var l=0;l<i;l++)for(var f=0;f<n;f++)for(var p=0;p<o;p++){var d=2*(s*n+f),h=2*(l*o+p),b=2*((s*i+l)*a+(f*o+p)),y=this.buffer[d],v=this.buffer[d+1],m=e.buffer[h],g=e.buffer[h+1],w=y*m-v*g,x=y*g+v*m;c[b]=w,c[b+1]=x}return new t(a,u,c)}},{key:"timesQubitOperation",value:function(e,n,r,o){a.f.need(0==(r&1<<n),"Matrix.timesQubitOperation: self-controlled"),a.f.need(2===e.width&&2===e.height,"Matrix.timesQubitOperation: not 2x2");var i=this.width,u=this.height,c=this.buffer,s=R(e.buffer,8),l=s[0],f=s[1],p=s[2],d=s[3],h=s[4],b=s[5],y=s[6],v=s[7];a.f.need(u>=2<<n,"Matrix.timesQubitOperation: qubit index out of range");for(var m=new Float64Array(c),g=0,w=0;w<u;w++)for(var x=0!=(r&w^o),O=0!=(w&1<<n),k=0;k<i;k++){if(!x&&!O){var j=g+2*(1<<n)*i,A=m[g],E=m[g+1],S=m[j],_=m[j+1];m[g]=A*l-E*f+S*p-_*d,m[g+1]=A*f+E*l+S*d+_*p,m[j]=A*h-E*b+S*y-_*v,m[j+1]=A*b+E*h+S*v+_*y}g+=2}return new t(i,u,m)}},{key:"singularValueDecomposition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(this.width!==this.height)throw new a.b("Expected a square matrix.",this);for(var r=2===this.width?this._unordered_singularValueDecomposition_2x2():this._unordered_singularValueDecomposition_iterative(e,n),o=r.U,i=r.S,u=r.V,c=a.d.range(this.width).sortedBy((function(t){return-i.cell(t,t).norm2()})).toArray(),s=0;s<i.width;s++){var l=c.indexOf(s);if(s!==l){o._inline_colMix_postMultiply(s,l,t.PAULI_X),u._inline_rowMix_preMultiply(s,l,t.PAULI_X);var f=s*(i.width+1)*2,p=l*(i.width+1)*2,d=[i.buffer[p],i.buffer[f]];i.buffer[f]=d[0],i.buffer[p]=d[1];var h=[i.buffer[p+1],i.buffer[f+1]];i.buffer[f+1]=h[0],i.buffer[p+1]=h[1];var b=[c[s],c[l]];c[l]=b[0],c[s]=b[1]}}for(var y=0;y<i.width;y++)o._inline_colScale_postMultiply(y,i.cell(y,y).unit());return{U:o,S:i=t.generateDiagonal(i.width,(function(t){return i.cell(t,t).abs()})),V:u}}},{key:"_unordered_singularValueDecomposition_2x2",value:function(){var e=t.identity(2),n=this.lqDecomposition(),r=n.L,o=n.Q,i=r.cell(0,0).unit(),a=r.cell(0,1).unit();e._inline_colScale_postMultiply(0,i),e._inline_colScale_postMultiply(1,a),r._inline_rowScale_preMultiply(0,i.conjugate()),r._inline_rowScale_preMultiply(1,a.conjugate());var u=r.cell(1,1).unit();r._inline_colScale_postMultiply(1,u.conjugate()),o._inline_rowScale_preMultiply(1,u);var c=R(r.buffer,7),s=c[0],l=c[2],f=c[4],p=c[6],d=s+p,h=l+f,b=l-f,y=s-p,v=Math.atan2(h,d)/2,m=Math.atan2(b,y)/2,g=Math.sqrt(d*d+h*h)/2,w=Math.sqrt(y*y+b*b)/2;return e._inline_colMix_postMultiply(0,1,t.rotation(v-m)),o._inline_rowMix_preMultiply(0,1,t.rotation(v+m)),{U:e,S:r=t.square(g+w,0,0,g-w),V:o}}},{key:"_unordered_singularValueDecomposition_iterative",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=t.identity(this.width),o=this._clone(),i=t.identity(this.width),a=0;!o.isDiagonal(e)&&a++<n;){var u=o.qrDecomposition(),c=u.Q,s=u.R,l=s.lqDecomposition(),f=l.L,p=l.Q;r=r.times(c),o=f,i=p.times(i)}return{U:r,S:o,V:i}}},{key:"_inline_colMix_postMultiply",value:function(t,e,n){for(var r=R(n._2x2Breakdown(),4),o=r[0],i=r[1],a=r[2],u=r[3],c=0;c<this.width;c++){var s=this.cell(t,c),l=this.cell(e,c),f=s.times(o).plus(l.times(a)),p=s.times(i).plus(l.times(u)),d=2*(c*this.width+t),h=2*(c*this.width+e);this.buffer[d]=f.real,this.buffer[d+1]=f.imag,this.buffer[h]=p.real,this.buffer[h+1]=p.imag}}},{key:"_2x2Breakdown",value:function(){return[new x(this.buffer[0],this.buffer[1]),new x(this.buffer[2],this.buffer[3]),new x(this.buffer[4],this.buffer[5]),new x(this.buffer[6],this.buffer[7])]}},{key:"_inline_rowMix_preMultiply",value:function(t,e,n){for(var r=R(n._2x2Breakdown(),4),o=r[0],i=r[1],a=r[2],u=r[3],c=0;c<this.width;c++){var s=this.cell(c,t),l=this.cell(c,e),f=s.times(o).plus(l.times(i)),p=s.times(a).plus(l.times(u)),d=2*(t*this.width+c),h=2*(e*this.width+c);this.buffer[d]=f.real,this.buffer[d+1]=f.imag,this.buffer[h]=p.real,this.buffer[h+1]=p.imag}}},{key:"_inline_colScale_postMultiply",value:function(t,e){for(var n=0;n<this.height;n++){var r=this.cell(t,n).times(e),o=2*(n*this.width+t);this.buffer[o]=r.real,this.buffer[o+1]=r.imag}}},{key:"lqDecomposition",value:function(){var t=this.adjoint().qrDecomposition(),e=t.Q;return{L:t.R.adjoint(),Q:e.adjoint()}}},{key:"qrDecomposition",value:function(){if(this.width!==this.height)throw new a.b("Expected a square matrix.",this);for(var e=t.identity(this.width),n=this._clone(),r=0;r<this.height;r++){for(var o=0;o<r&&o<this.width;o++){var i=n.cell(o,r),u=n.cell(o,o),c=u.abs(),s=i.abs();if(0!==s){var l=-Math.atan2(s,c),f=Math.cos(l),p=Math.sin(l),d=u.unit().conjugate(),h=i.unit().conjugate(),b=t.square(d.times(f),h.times(-p),d.times(p),h.times(f));n._inline_rowMix_preMultiply(o,r,b),e._inline_colMix_postMultiply(o,r,b.adjoint())}}var y=n.cell(r,r).unit();n._inline_rowScale_preMultiply(r,y.conjugate()),e._inline_colScale_postMultiply(r,y)}return{Q:e,R:n}}},{key:"_clone",value:function(){return new t(this.width,this.height,this.buffer.slice())}},{key:"_inline_rowScale_preMultiply",value:function(t,e){for(var n=0;n<this.width;n++){var r=this.cell(n,t).times(e),o=2*(t*this.width+n);this.buffer[o]=r.real,this.buffer[o+1]=r.imag}}},{key:"isDiagonal",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=0;e<this.width;e++)for(var n=0;n<this.height;n++)if(n!==e){var r=2*(this.width*n+e),o=Math.abs(this.buffer[r]),i=Math.abs(this.buffer[r+1]),a=Math.max(o,i);if(isNaN(a)||a>t)return!1}return this.width===this.height}},{key:"trace",value:function(){for(var t=0,e=0,n=2*this.width+2,r=0;r<this.buffer.length;r+=n)t+=this.buffer[r],e+=this.buffer[r+1];return new x(t,e)}},{key:"qubitDensityMatrixToBlochVector",value:function(){if(2!==this.width||2!==this.height)throw new a.b("Need a 2x2 density matrix.",this);if(!this.isApproximatelyHermitian(.01))throw new a.b("Density matrix should be Hermitian.",this);if(!this.trace().isApproximatelyEqualTo(1,.01))throw new a.b("Density matrix should have unit trace.",this);var t=R(this.buffer,8),e=t[0],n=(t[1],t[2]),r=t[3],o=t[4],i=t[5],u=t[6];return t[7],[o+n,i-r,e-u]}},{key:"qubitDensityMatrix",value:function(e){for(var n=this,r=T(Array(Math.log2(this.height)).keys()).filter((function(t){return t!==e})),o=function(t,e){return e.sort().reverse().reduce((function(t,e){var n=t>>e+1;return(n<<=e)|(1<<e)-1&t}),t)},i=t.zero(2,2),a=function(e){for(var a=function(a){if(!r.every((function(t){return(e>>t&1)==(a>>t&1)})))return"continue";var u=n.cell(0,a).times(n.cell(0,e).conjugate());if(u.isEqualTo(0))return"continue";var c=0===o(a,r)?t.col(1,0):t.col(0,1),s=0===o(e,r)?t.row(1,0):t.row(0,1),l=c.times(s);i=i.plus(l.times(u))},u=0;u<n.height;u++)a(u)},u=0;u<this.height;u++)a(u);return i}},{key:"qubitOperationToAngleAxisRotation",value:function(){a.f.need(2===this.width&&2===this.height,"Need a 2x2 matrix."),a.f.need(this.isUnitary(.01),"Need a unitary matrix.");var t=R(this._2x2Breakdown(),4),e=t[0],n=t[1],r=t[2],o=t[3],i=e.plus(o),u=n.plus(r).dividedBy(x.I),c=n.minus(r),s=e.minus(o).dividedBy(x.I),l=Object(a.k)([i,u,c,s]).maxBy((function(t){return t.abs()})).unit().times(2),f=Math.min(1,Math.max(-1,i.dividedBy(l).real)),p=u.dividedBy(l).real,d=c.dividedBy(l).real,h=s.dividedBy(l).real,b=-2*Math.acos(f),y=Math.sqrt(p*p+d*d+h*h);return y<1e-7?{axis:[1,0,0],angle:0,phase:l.phase()}:(p/=y,d/=y,h/=y,b<=-Math.PI&&(b+=2*Math.PI,l=l.times(-1)),p+d+h<0&&(p=-p,d=-d,h=-h,b=-b),{axis:[p,d,h],angle:b,phase:l.phase()})}},{key:"isUpperTriangular",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=0;e<this.height;e++)for(var n=0;n<e&&n<this.width;n++){var r=2*(e*this.width+n),o=this.buffer[r],i=this.buffer[r+1];if(isNaN(o)||isNaN(i)||o*o+i*i>t*t)return!1}return!0}},{key:"isLowerTriangular",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=0;e<this.height;e++)for(var n=e+1;n<this.width;n++){var r=2*(e*this.width+n),o=this.buffer[r],i=this.buffer[r+1];if(isNaN(o)||isNaN(i)||o*o+i*i>t*t)return!1}return!0}}])&&B(e.prototype,n),r&&B(e,r),t}();I.H=I.square(1,1,1,-1).times(Math.sqrt(.5)),I.PAULI_X=I.square(0,1,1,0),I.PAULI_Y=I.square(0,new x(0,-1),x.I,0),I.PAULI_Z=I.square(1,0,0,-1)},function(t,e,n){"use strict";var r,o,i=n(15),a=n(25),u=n(11),c=n(5),s=n(1),l=0,f=function(t){if(r=t.requestAnimationFrame,o=t.cancelAnimationFrame,!r)for(var e=0,n=["ms","moz","webkit","o"];e<n.length;e++){var i=n[e];r=t[i+"RequestAnimationFrame"],o=t[i+"CancelAnimationFrame"]||t[i+"CancelRequestAnimationFrame"]}r=r&&r.bind(t),o=o&&o.bind(t),r||(r=function(e){var n=Date.now(),r=Math.max(0,16-(n-l)),o=t.setTimeout((function(){e(n+r)}),r);return l=n+r,o},o=function(t){return clearTimeout(t)})},p=n(10),d=n(13),h=n(27);function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){var n,r=y(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(t.immediatePropagationStopped)break;o(t)}}catch(t){r.e(t)}finally{r.f()}}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=Object(c.a)({},e||{})}var e,n,r;return e=t,(n=[{key:"fire",value:function(t){var e,n=this.global;(e=this.types[t.type])&&m(t,e),!t.propagationStopped&&n&&(e=n[t.type])&&m(t,e)}},{key:"on",value:function(t,e){var n=Object(h.a)(t,e);for(t in n)this.types[t]=d.e(this.types[t]||[],n[t])}},{key:"off",value:function(t,e){var n=Object(h.a)(t,e);for(t in n){var r=this.types[t];if(r&&r.length){var o,i=y(n[t]);try{for(i.s();!(o=i.n()).done;){var a=o.value,u=r.indexOf(a);-1!==u&&r.splice(u,1)}}catch(t){i.e(t)}finally{i.f()}}}}},{key:"getRect",value:function(t){return null}}])&&b(e.prototype,n),r&&b(e,r),t}(),w=n(28),x=n(26),O=n(43),k={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=P(t);if(e){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return z(t)}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(i,t);var e,n,r,o=S(i);function i(t,e,n,r,a,u,s){var l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(l=o.call(this,t)).target=void 0,l.currentTarget=void 0,l.relatedTarget=null,l.screenX=void 0,l.screenY=void 0,l.button=void 0,l.buttons=void 0,l.ctrlKey=void 0,l.shiftKey=void 0,l.altKey=void 0,l.metaKey=void 0,l.page=void 0,l.client=void 0,l.delta=void 0,l.rect=void 0,l.x0=void 0,l.y0=void 0,l.t0=void 0,l.dt=void 0,l.duration=void 0,l.clientX0=void 0,l.clientY0=void 0,l.velocity=void 0,l.speed=void 0,l.swipe=void 0,l.timeStamp=void 0,l.axes=void 0,l.preEnd=void 0,a=a||t.element;var f=t.interactable,p=(f&&f.options||k).deltaSource,d=Object(w.a)(f,a,n),h="start"===r,b="end"===r,y=h?z(l):t.prevEvent,v=h?t.coords.start:b?{page:y.page,client:y.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;return l.page=Object(c.a)({},v.page),l.client=Object(c.a)({},v.client),l.rect=Object(c.a)({},t.rect),l.timeStamp=v.timeStamp,b||(l.page.x-=d.x,l.page.y-=d.y,l.client.x-=d.x,l.client.y-=d.y),l.ctrlKey=e.ctrlKey,l.altKey=e.altKey,l.shiftKey=e.shiftKey,l.metaKey=e.metaKey,l.button=e.button,l.buttons=e.buttons,l.target=a,l.currentTarget=a,l.preEnd=u,l.type=s||n+(r||""),l.interactable=f,l.t0=h?t.pointers[t.pointers.length-1].downTime:y.t0,l.x0=t.coords.start.page.x-d.x,l.y0=t.coords.start.page.y-d.y,l.clientX0=t.coords.start.client.x-d.x,l.clientY0=t.coords.start.client.y-d.y,l.delta=h||b?{x:0,y:0}:{x:l[p].x-y[p].x,y:l[p].y-y[p].y},l.dt=t.coords.delta.timeStamp,l.duration=l.timeStamp-l.t0,l.velocity=Object(c.a)({},t.coords.velocity[p]),l.speed=Object(x.a)(l.velocity.x,l.velocity.y),l.swipe=b||"inertiastart"===r?l.getSwipe():null,l}return e=i,(n=[{key:"getSwipe",value:function(){var t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,r=202.5<=e&&e<337.5;return{up:r,down:!r&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&A(e.prototype,n),r&&A(e,r),i}(O.a);Object.defineProperties(C.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var T=n(6),R=n(21),q=n(9);function M(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(0===t.indexOf(n)&&t.substr(n.length)in e.phases)return!0;return!1}function D(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var U=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new g,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=n.actions,this.target=e,this._context=n.context||r,this._win=Object(p.a)(Object(T.j)(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}var e,n,r;return e=t,(n=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(t,e){return s.a.func(e.onstart)&&this.on(t+"start",e.onstart),s.a.func(e.onmove)&&this.on(t+"move",e.onmove),s.a.func(e.onend)&&this.on(t+"end",e.onend),s.a.func(e.oninertiastart)&&this.on(t+"inertiastart",e.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,e,n){(s.a.array(e)||s.a.object(e))&&this.off(t,e),(s.a.array(n)||s.a.object(n))&&this.on(t,n)}},{key:"setPerAction",value:function(t,e){var n=this._defaults;for(var r in e){var o=r,i=this.options[t],u=e[o];"listeners"===o&&this.updatePerActionListeners(t,i.listeners,u),s.a.array(u)?i[o]=d.d(u):s.a.plainObject(u)?(i[o]=Object(c.a)(i[o]||{},Object(a.a)(u)),s.a.object(n.perAction[o])&&"enabled"in n.perAction[o]&&(i[o].enabled=!1!==u.enabled)):s.a.bool(u)&&s.a.object(n.perAction[o])?i[o].enabled=u:i[o]=u}}},{key:"getRect",value:function(t){return t=t||(s.a.element(this.target)?this.target:null),s.a.string(this.target)&&(t=t||this._context.querySelector(this.target)),Object(T.d)(t)}},{key:"rectChecker",value:function(t){var e=this;return s.a.func(t)?(this._rectChecker=t,this.getRect=function(t){var n=Object(c.a)({},e._rectChecker(t));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===t?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(t,e){if(Object(T.j)(e)||s.a.object(e)){for(var n in this.options[t]=e,this._actions.map)this.options[n][t]=e;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||Object(T.h)(this._context,t)}},{key:"testIgnoreAllow",value:function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)}},{key:"testAllow",value:function(t,e,n){return!t||!!s.a.element(n)&&(s.a.string(t)?Object(T.g)(n,t,e):!!s.a.element(t)&&Object(T.h)(t,n))}},{key:"testIgnore",value:function(t,e,n){return!(!t||!s.a.element(n))&&(s.a.string(t)?Object(T.g)(n,t,e):!!s.a.element(t)&&Object(T.h)(t,n))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,e,n,r){s.a.object(e)&&!s.a.array(e)&&(r=n,n=null);var o="on"===t?"add":"remove",a=Object(h.a)(e,n);for(var u in a){"wheel"===u&&(u=i.a.wheelEvent);var c,l=I(a[u]);try{for(l.s();!(c=l.n()).done;){var f=c.value;M(u,this._actions)?this.events[t](u,f):s.a.string(this.target)?this._scopeEvents[o+"Delegate"](this.target,this._context,u,f,r):this._scopeEvents[o](this.target,u,f,r)}}catch(t){l.e(t)}finally{l.f()}}return this}},{key:"on",value:function(t,e,n){return this._onOff("on",t,e,n)}},{key:"off",value:function(t,e,n){return this._onOff("off",t,e,n)}},{key:"set",value:function(t){var e=this._defaults;for(var n in s.a.object(t)||(t={}),this.options=Object(a.a)(e.base),this._actions.methodDict){var r=n,o=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,Object(c.a)(Object(c.a)({},e.perAction),e.actions[r])),this[o](t[r])}for(var i in t)s.a.func(this[i])&&this[i](t[i]);return this}},{key:"unset",value:function(){if(s.a.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var e=this._scopeEvents.delegatedEvents[t],n=e.length-1;n>=0;n--){var r=e[n],o=r.selector,i=r.context,a=r.listeners;o===this.target&&i===this._context&&e.splice(n,1);for(var u=a.length-1;u>=0;u--)this._scopeEvents.removeDelegate(this.target,this._context,t,a[u][0],a[u][1])}else this._scopeEvents.remove(this.target,"all")}}])&&N(e.prototype,n),r&&N(e,r),t}();function F(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var V=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=e,e.addListeners({"interactable:unset":function(t){var e=t.interactable,r=e.target,o=e._context,i=s.a.string(r)?n.selectorMap[r]:r[n.scope.id],a=d.c(i,(function(t){return t.context===o}));i[a]&&(i[a].context=null,i[a].interactable=null),i.splice(a,1)}})}var e,n,r;return e=t,(n=[{key:"new",value:function(t,e){e=Object(c.a)(e||{},{actions:this.scope.actions});var n=new this.scope.Interactable(t,e,this.scope.document,this.scope.events),r={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),s.a.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(r)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:t,options:e,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(t,e){var n=e&&e.context||this.scope.document,r=s.a.string(t),o=r?this.selectorMap[t]:t[this.scope.id];if(!o)return null;var i=d.b(o,(function(e){return e.context===n&&(r||e.interactable.inContext(t))}));return i&&i.interactable}},{key:"forEachMatch",value:function(t,e){var n,r=F(this.list);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=void 0;if((s.a.string(o.target)?s.a.element(t)&&T.f(t,o.target):t===o.target)&&o.inContext(t)&&(i=e(o)),void 0!==i)return i}}catch(t){r.e(t)}finally{r.f()}}}])&&G(e.prototype,n),r&&G(e,r),t}(),W=n(37);function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||X(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=X(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function X(t,e){if(t){if("string"==typeof t)return Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(t,e):void 0}}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var K=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=e,Object(W.a)(this,e)}var e,n,r;return e=t,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&J(e.prototype,n),r&&J(e,r),t}();function Z(t){if(!s.a.object(t))return{capture:!!t,passive:!1};var e=Object(c.a)({},t);return e.capture=!!t.capture,e.passive=!!t.passive,e}var tt={id:"events",install:function(t){var e,n=[],r={},o=[],i={add:a,remove:u,addDelegate:function(t,e,n,i,u){var s=Z(u);if(!r[n]){r[n]=[];var f,p=Y(o);try{for(p.s();!(f=p.n()).done;){var h=f.value;a(h,n,c),a(h,n,l,!0)}}catch(t){p.e(t)}finally{p.f()}}var b=r[n],y=d.b(b,(function(n){return n.selector===t&&n.context===e}));y||(y={selector:t,context:e,listeners:[]},b.push(y)),y.listeners.push([i,s])},removeDelegate:function(t,e,n,o,i){var a,s=Z(i),f=r[n],p=!1;if(f)for(a=f.length-1;a>=0;a--){var d=f[a];if(d.selector===t&&d.context===e){for(var h=d.listeners,b=h.length-1;b>=0;b--){var y=$(h[b],2),v=y[0],m=y[1],g=m.capture,w=m.passive;if(v===o&&g===s.capture&&w===s.passive){h.splice(b,1),h.length||(f.splice(a,1),u(e,n,c),u(e,n,l,!0)),p=!0;break}}if(p)break}}},delegateListener:c,delegateUseCapture:l,delegatedEvents:r,documents:o,targets:n,supportsOptions:!1,supportsPassive:!1};function a(t,e,r,o){var a=Z(o),u=d.b(n,(function(e){return e.eventTarget===t}));u||(u={eventTarget:t,events:{}},n.push(u)),u.events[e]||(u.events[e]=[]),t.addEventListener&&!d.a(u.events[e],r)&&(t.addEventListener(e,r,i.supportsOptions?a:a.capture),u.events[e].push(r))}function u(t,e,r,o){var a=Z(o),c=d.c(n,(function(e){return e.eventTarget===t})),s=n[c];if(s&&s.events)if("all"!==e){var l=!1,f=s.events[e];if(f){if("all"===r){for(var p=f.length-1;p>=0;p--)u(t,e,f[p],a);return}for(var h=0;h<f.length;h++)if(f[h]===r){t.removeEventListener(e,r,i.supportsOptions?a:a.capture),f.splice(h,1),0===f.length&&(delete s.events[e],l=!0);break}}l&&!Object.keys(s.events).length&&n.splice(c,1)}else for(e in s.events)s.events.hasOwnProperty(e)&&u(t,e,"all")}function c(t,e){for(var n=Z(e),o=new K(t),i=r[t.type],a=$(q.b(t),1)[0],u=a;s.a.element(u);){for(var c=0;c<i.length;c++){var l=i[c],f=l.selector,p=l.context;if(T.f(u,f)&&T.h(p,a)&&T.h(p,u)){var d=l.listeners;o.currentTarget=u;var h,b=Y(d);try{for(b.s();!(h=b.n()).done;){var y=$(h.value,2),v=y[0],m=y[1],g=m.capture,w=m.passive;g===n.capture&&w===n.passive&&v(o)}}catch(t){b.e(t)}finally{b.f()}}}u=T.i(u)}}function l(t){return c(t,!0)}return null==(e=t.document)||e.createElement("div").addEventListener("test",null,{get capture(){return i.supportsOptions=!0},get passive(){return i.supportsPassive=!0}}),t.events=i,i}},et=n(16);var nt,rt,ot,it=function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=e,this.pointer=n,this.event=r,this.downTime=o,this.downTarget=i};function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(rt=nt||(nt={})).interactable="",rt.element="",rt.prepared="",rt.pointerIsDown="",rt.pointerWasMoved="",rt._proxy="",function(t){t.start="",t.move="",t.end="",t.stop="",t.interacting=""}(ot||(ot={}));var ut=0,ct=function(){function t(e){var n=this,r=e.pointerType,o=e.scopeFire;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=Object(R.b)((function(t){this.move(t)}),"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:q.f(),prev:q.f(),cur:q.f(),delta:q.f(),velocity:q.f()},this._id=ut++,this._scopeFire=o,this.pointerType=r;var i=this;this._proxy={};var a=function(t){Object.defineProperty(n._proxy,t,{get:function(){return i[t]}})};for(var u in nt)a(u);var c=function(t){Object.defineProperty(n._proxy,t,{value:function(){return i[t].apply(i,arguments)}})};for(var s in ot)c(s);this._scopeFire("interactions:new",{interaction:this})}var e,n,r;return e=t,(n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(t,e,n){var r=this.updatePointer(t,e,n,!0),o=this.pointers[r];this._scopeFire("interactions:down",{pointer:t,event:e,eventTarget:n,pointerIndex:r,pointerInfo:o,type:"down",interaction:this})}},{key:"start",value:function(t,e,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===t.name?2:1)||!e.options[t.name].enabled)&&(Object(R.a)(this.prepared,t),this.interactable=e,this.element=n,this.rect=e.getRect(n),this.edges=this.prepared.edges?Object(c.a)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,e,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,e,n,!1);var r,o,i=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,o=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Object(x.a)(r,o)>this.pointerMoveTolerance);var a=this.getPointerIndex(t),u={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:e,type:"move",eventTarget:n,dx:r,dy:o,duplicate:i,interaction:this};i||q.i(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",u),i||this.simulation||(this.interacting()&&(u.type=null,this.move(u)),this.pointerWasMoved&&q.a(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||q.k(this.coords.delta),(t=Object(c.a)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}},{key:"pointerUp",value:function(t,e,n,r){var o=this.getPointerIndex(t);-1===o&&(o=this.updatePointer(t,e,n,!1));var i=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire("interactions:"+i,{pointer:t,pointerIndex:o,pointerInfo:this.pointers[o],event:e,eventTarget:n,type:i,curEventTarget:r,interaction:this}),this.simulation||this.end(e),this.removePointer(t,e)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var e;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,!0===e&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var e=q.d(t);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:d.c(this.pointers,(function(t){return t.id===e}))}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,e,n,r){var o=q.d(t),i=this.getPointerIndex(t),a=this.pointers[i];return r=!1!==r&&(r||/(down|start)$/i.test(e.type)),a?a.pointer=t:(a=new it(o,t,e,null,null),i=this.pointers.length,this.pointers.push(a)),q.j(this.coords.cur,this.pointers.map((function(t){return t.pointer})),this._now()),q.h(this.coords.delta,this.coords.prev,this.coords.cur),r&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=n,W.a(this.downPointer,t),this.interacting()||(q.a(this.coords.start,this.coords.cur),q.a(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=!1)),this._updateLatestPointer(t,e,n),this._scopeFire("interactions:update-pointer",{pointer:t,event:e,eventTarget:n,down:r,pointerInfo:a,pointerIndex:i,interaction:this}),i}},{key:"removePointer",value:function(t,e){var n=this.getPointerIndex(t);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:t,event:e,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(t,e,n){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,e,n,r){return new C(this,t,this.prepared.name,e,this.element,n,r)}},{key:"_fireEvent",value:function(t){this.interactable.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var e=t.event,n=t.phase,r=t.preEnd,o=t.type,i=this.rect;if(i&&"move"===n&&(et.a(this.edges,i,this.coords.delta[this.interactable.options.deltaSource]),i.width=i.right-i.left,i.height=i.bottom-i.top),!1===this._scopeFire("interactions:before-action-"+n,t))return!1;var a=t.iEvent=this._createPreparedEvent(e,n,r,o);return this._scopeFire("interactions:action-"+n,t),"start"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-"+n,t),!0}},{key:"_now",value:function(){return Date.now()}}])&&at(e.prototype,n),r&&at(e,r),t}();function st(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ft(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):s.a.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function pt(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}var dt={id:"core/interactablePreventDefault",install:function(t){var e=t.Interactable;e.prototype.preventDefault=ft,e.prototype.checkAndPreventDefault=function(e){return function(t,e,n){var r=t.options.preventDefault;if("never"!==r)if("always"!==r){if(e.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){var o=Object(p.a)(n.target).document,i=e.getDocOptions(o);if(!i||!i.events||!1!==i.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||s.a.element(n.target)&&Object(T.f)(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}else n.preventDefault()}(this,t,e)},t.interactions.docEvents.push({type:"dragstart",listener:function(e){var n,r=st(t.interactions.list);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.element&&(o.element===e.target||Object(T.h)(o.element,e.target)))return void o.interactable.checkAndPreventDefault(e)}}catch(t){r.e(t)}finally{r.f()}}})},listeners:["down","move","up","cancel"].reduce((function(t,e){return t["interactions:"+e]=pt,t}),{})};function ht(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yt={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){var e,n=ht(yt.methodOrder);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=yt[r](t);if(o)return o}}catch(t){n.e(t)}finally{n.f()}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,r=t.eventTarget,o=t.scope;if(!/down|start/i.test(n))return null;var i,a=ht(o.interactions.list);try{for(a.s();!(i=a.n()).done;){var u=i.value,c=r;if(u.simulation&&u.simulation.allowResume&&u.pointerType===e)for(;c;){if(c===u.element)return u;c=T.i(c)}}}catch(t){a.e(t)}finally{a.f()}return null},mouseOrPen:function(t){var e,n=t.pointerId,r=t.pointerType,o=t.eventType,i=t.scope;if("mouse"!==r&&"pen"!==r)return null;var a,u=ht(i.interactions.list);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(c.pointerType===r){if(c.simulation&&!vt(c,n))continue;if(c.interacting())return c;e||(e=c)}}}catch(t){u.e(t)}finally{u.f()}if(e)return e;var s,l=ht(i.interactions.list);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(!(f.pointerType!==r||/down/i.test(o)&&f.simulation))return f}}catch(t){l.e(t)}finally{l.f()}return null},hasPointer:function(t){var e,n=t.pointerId,r=ht(t.scope.interactions.list);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(vt(o,n))return o}}catch(t){r.e(t)}finally{r.f()}return null},idle:function(t){var e,n=t.pointerType,r=ht(t.scope.interactions.list);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(1===o.pointers.length){var i=o.interactable;if(i&&(!i.options.gesture||!i.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&n===o.pointerType)return o}}catch(t){r.e(t)}finally{r.f()}return null}};function vt(t,e){return t.pointers.some((function(t){return t.id===e}))}var mt=yt;function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=At(t);if(e){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Et(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_t(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function St(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||_t(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(t,e){if(t){if("string"==typeof t)return zt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(t,e):void 0}}function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pt=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ct(t,e){return function(n){var r=e.interactions.list,o=q.e(n),a=St(q.b(n),2),u=a[0],c=a[1],s=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();var l,f=Et(n.changedTouches);try{for(f.s();!(l=f.n()).done;){var p=l.value,d={pointer:p,pointerId:q.d(p),pointerType:o,eventType:n.type,eventTarget:u,curEventTarget:c,scope:e},h=Tt(d);s.push([d.pointer,d.eventTarget,d.curEventTarget,h])}}catch(t){f.e(t)}finally{f.f()}}else{var b=!1;if(!i.a.supportsPointerEvent&&/mouse/.test(n.type)){for(var y=0;y<r.length&&!b;y++)b="mouse"!==r[y].pointerType&&r[y].pointerIsDown;b=b||e.now()-e.prevTouchTime<500||0===n.timeStamp}if(!b){var v={pointer:n,pointerId:q.d(n),pointerType:o,eventType:n.type,curEventTarget:c,eventTarget:u,scope:e},m=Tt(v);s.push([v.pointer,v.eventTarget,v.curEventTarget,m])}}for(var g=0,w=s;g<w.length;g++){var x=St(w[g],4),O=x[0],k=x[1],j=x[2];x[3][t](O,n,k,j)}}}function Tt(t){var e=t.pointerType,n=t.scope,r={interaction:mt.search(t),searchDetails:t};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:e})}function Rt(t,e){var n=t.doc,r=t.scope,o=t.options,i=r.interactions.docEvents,a=r.events,u=a[e];for(var c in r.browser.isIOS&&!o.events&&(o.events={passive:!1}),a.delegatedEvents)u(n,c,a.delegateListener),u(n,c,a.delegateUseCapture,!0);var s,l=o&&o.events,f=Et(i);try{for(f.s();!(s=f.n()).done;){var p=s.value;u(n,p.type,p.listener,l)}}catch(t){f.e(t)}finally{f.f()}}var qt={id:"core/interactions",install:function(t){var e,n={},r=Et(Pt);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o]=Ct(o,t)}}catch(t){r.e(t)}finally{r.f()}var a,c=i.a.pEventTypes;function s(){var e,n=Et(t.interactions.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.pointerIsDown&&"touch"===r.pointerType&&!r._interacting){var o,i=Et(r.pointers);try{var a=function(){var e=o.value;t.documents.some((function(t){var n=t.doc;return Object(T.h)(n,e.downTarget)}))||r.removePointer(e.pointer,e.event)};for(i.s();!(o=i.n()).done;)a()}catch(t){i.e(t)}finally{i.f()}}}}catch(t){n.e(t)}finally{n.f()}}(a=u.a.PointerEvent?[{type:c.down,listener:s},{type:c.down,listener:n.pointerDown},{type:c.move,listener:n.pointerMove},{type:c.up,listener:n.pointerUp},{type:c.cancel,listener:n.pointerUp}]:[{type:"mousedown",listener:n.pointerDown},{type:"mousemove",listener:n.pointerMove},{type:"mouseup",listener:n.pointerUp},{type:"touchstart",listener:s},{type:"touchstart",listener:n.pointerDown},{type:"touchmove",listener:n.pointerMove},{type:"touchend",listener:n.pointerUp},{type:"touchcancel",listener:n.pointerUp}]).push({type:"blur",listener:function(e){var n,r=Et(t.interactions.list);try{for(r.s();!(n=r.n()).done;){n.value.documentBlur(e)}}catch(t){r.e(t)}finally{r.f()}}}),t.prevTouchTime=0,t.Interaction=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(a,e);var n,r,o,i=kt(a);function a(){return wt(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(e){t.interactions.pointerMoveTolerance=e}},{key:"_now",value:function(){return t.now()}}])&&xt(n.prototype,r),o&&xt(n,o),a}(ct),t.interactions={list:[],new:function(e){e.scopeFire=function(e,n){return t.fire(e,n)};var n=new t.Interaction(e);return t.interactions.list.push(n),n},listeners:n,docEvents:a,pointerMoveTolerance:1},t.usePlugin(dt)},listeners:{"scope:add-document":function(t){return Rt(t,"add")},"scope:remove-document":function(t){return Rt(t,"remove")},"interactable:unset":function(t,e){for(var n=t.interactable,r=e.interactions.list.length-1;r>=0;r--){var o=e.interactions.list[r];o.interactable===n&&(o.stop(),e.fire("interactions:destroy",{interaction:o}),o.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(r,1))}}},onDocSignal:Rt,doOnInteractions:Ct,methodNames:Pt};function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function It(t,e,n){return(It="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ft(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ft(t);if(e){var o=Ft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ut(this,n)}}function Ut(t,e){if(e&&("object"===Mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e,n){return e&&Gt(t.prototype,e),n&&Gt(t,n),t}function Wt(t){return t&&t.replace(/\/.*$/,"")}var $t=new(function(){function t(){var e,n,r=this;Ht(this,t),this.id="__interact_scope_"+Math.floor(100*Math.random()),this.isInitialized=!1,this.listenerMaps=[],this.browser=i.a,this.defaults=Object(a.a)(k),this.Eventable=g,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(e=this,(n=function t(n,r){var o=e.interactables.get(n,r);return o||((o=e.interactables.new(n,r)).events.global=t.globalEvents),o}).getPointerAverage=q.g,n.getTouchBBox=q.m,n.getTouchDistance=q.n,n.getTouchAngle=q.l,n.getElementRect=T.d,n.getElementClientRect=T.c,n.matchesSelector=T.f,n.closest=T.a,n.globalEvents={},n.version="1.10.11",n.scope=e,n.use=function(t,e){return this.scope.usePlugin(t,e),this},n.isSet=function(t,e){return!!this.scope.interactables.get(t,e&&e.context)},n.on=Object(R.b)((function(t,e,n){if(s.a.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s.a.array(t)){var r,o=D(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;this.on(i,e,n)}}catch(t){o.e(t)}finally{o.f()}return this}if(s.a.object(t)){for(var a in t)this.on(a,t[a],e);return this}return M(t,this.scope.actions)?this.globalEvents[t]?this.globalEvents[t].push(e):this.globalEvents[t]=[e]:this.scope.events.add(this.scope.document,t,e,{options:n}),this}),"The interact.on() method is being deprecated"),n.off=Object(R.b)((function(t,e,n){if(s.a.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s.a.array(t)){var r,o=D(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;this.off(i,e,n)}}catch(t){o.e(t)}finally{o.f()}return this}if(s.a.object(t)){for(var a in t)this.off(a,t[a],e);return this}var u;return M(t,this.scope.actions)?t in this.globalEvents&&-1!==(u=this.globalEvents[t].indexOf(e))&&this.globalEvents[t].splice(u,1):this.scope.events.remove(this.scope.document,t,e,n),this}),"The interact.off() method is being deprecated"),n.debug=function(){return this.scope},n.supportsTouch=function(){return i.a.supportsTouch},n.supportsPointerEvent=function(){return i.a.supportsPointerEvent},n.stop=function(){var t,e=D(this.scope.interactions.list);try{for(e.s();!(t=e.n()).done;)t.value.stop()}catch(t){e.e(t)}finally{e.f()}return this},n.pointerMoveTolerance=function(t){return s.a.number(t)?(this.scope.interactions.pointerMoveTolerance=t,this):this.scope.interactions.pointerMoveTolerance},n.addDocument=function(t,e){this.scope.addDocument(t,e)},n.removeDocument=function(t){this.scope.removeDocument(t)},n),this.InteractEvent=C,this.Interactable=void 0,this.interactables=new V(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(t){return r.removeDocument(t.target)};var o=this;this.Interactable=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(n,t);var e=Nt(n);function n(){return Ht(this,n),e.apply(this,arguments)}return Vt(n,[{key:"_defaults",get:function(){return o.defaults}},{key:"set",value:function(t){return It(Ft(n.prototype),"set",this).call(this,t),o.fire("interactable:set",{options:t,interactable:this}),this}},{key:"unset",value:function(){It(Ft(n.prototype),"unset",this).call(this),o.interactables.list.splice(o.interactables.list.indexOf(this),1),o.fire("interactable:unset",{interactable:this})}}]),n}(U)}return Vt(t,[{key:"addListeners",value:function(t,e){this.listenerMaps.push({id:e,map:t})}},{key:"fire",value:function(t,e){var n,r=Dt(this.listenerMaps);try{for(r.s();!(n=r.n()).done;){var o=n.value.map[t];if(o&&!1===o(e,this,t))return!1}}catch(t){r.e(t)}finally{r.f()}}},{key:"init",value:function(t){return this.isInitialized?this:(n=t,(e=this).isInitialized=!0,s.a.window(n)&&p.b(n),u.a.init(n),i.a.init(n),f(n),e.window=n,e.document=n.document,e.usePlugin(qt),e.usePlugin(tt),e);var e,n}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||-1!==this._plugins.list.indexOf(t)}},{key:"usePlugin",value:function(t,e){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){for(var n=0,r=this.listenerMaps.length,o=t.before.reduce((function(t,e){return t[e]=!0,t[Wt(e)]=!0,t}),{});n<r;n++){var i=this.listenerMaps[n].id;if(o[i]||o[Wt(i)])break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,e){if(-1!==this.getDocIndex(t))return!1;var n=p.a(t);e=e?Object(c.a)({},e):{},this.documents.push({doc:t,options:e}),this.events.documents.push(t),t!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:e})}},{key:"removeDocument",value:function(t){var e=this.getDocIndex(t),n=p.a(t),r=this.documents[e].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(e,1),this.events.documents.splice(e,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:r})}},{key:"getDocIndex",value:function(t){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return-1}},{key:"getDocOptions",value:function(t){var e=this.getDocIndex(t);return-1===e?null:this.documents[e].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}()),Yt=$t.interactStatic,Xt=(e.a=Yt,"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0);$t.init(Xt)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"k",(function(){return d})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return v})),n.d(e,"j",(function(){return m})),n.d(e,"g",(function(){return w})),n.d(e,"m",(function(){return x})),n.d(e,"n",(function(){return O})),n.d(e,"l",(function(){return k})),n.d(e,"e",(function(){return j})),n.d(e,"b",(function(){return A})),n.d(e,"f",(function(){return E}));var r=n(15),o=n(11),i=n(6),a=n(26),u=n(1);function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function f(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp}function p(t,e){var n=Math.max(e.timeStamp/1e3,.001);t.page.x=e.page.x/n,t.page.y=e.page.y/n,t.client.x=e.client.x/n,t.client.y=e.client.y/n,t.timeStamp=n}function d(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0}function h(t){return t instanceof o.a.Event||t instanceof o.a.Touch}function b(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n}function y(t,e){return e=e||{x:0,y:0},r.a.isOperaMobile&&h(t)?(b("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):b("page",t,e),e}function v(t){return u.a.number(t.pointerId)?t.pointerId:t.identifier}function m(t,e,n){var o=e.length>1?w(e):e[0];y(o,t.page),function(t,e){e=e||{},r.a.isOperaMobile&&h(t)?b("screen",t,e):b("client",t,e)}(o,t.client),t.timeStamp=n}function g(t){var e=[];return u.a.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function w(t){var e,n={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=c(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;for(var i in n)n[i]+=o[i]}}catch(t){r.e(t)}finally{r.f()}for(var a in n)n[a]/=t.length;return n}function x(t){if(!t.length)return null;var e=g(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),o=Math.max(e[0].pageX,e[1].pageX),i=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,right:o,bottom:i,width:o-n,height:i-r}}function O(t,e){var n=e+"X",r=e+"Y",o=g(t),i=o[0][n]-o[1][n],u=o[0][r]-o[1][r];return Object(a.a)(i,u)}function k(t,e){var n=e+"X",r=e+"Y",o=g(t),i=o[1][n]-o[0][n],a=o[1][r]-o[0][r];return 180*Math.atan2(a,i)/Math.PI}function j(t){return u.a.string(t.pointerType)?t.pointerType:u.a.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof o.a.Touch?"touch":"mouse"}function A(t){var e=u.a.func(t.composedPath)?t.composedPath():t.path;return[i.b(e?e[0]:t.target),i.b(t.currentTarget)]}function E(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r,o,i=n(42);function a(t){r=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),o=t}function u(t){return Object(i.a)(t)?t:(t.ownerDocument||t).defaultView||o.window}"undefined"!=typeof window&&window&&a(window)},function(t,e,n){"use strict";var r={init:function(t){var e=t;r.document=e.document,r.DocumentFragment=e.DocumentFragment||o,r.SVGElement=e.SVGElement||o,r.SVGSVGElement=e.SVGSVGElement||o,r.SVGElementInstance=e.SVGElementInstance||o,r.Element=e.Element||o,r.HTMLElement=e.HTMLElement||r.Element,r.Event=e.Event,r.Touch=e.Touch||o,r.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function o(){}e.a=r},function(t,e,n){"use strict";function r(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){var e="function"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,t)})(t)}function a(t,e,n){return(a=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&c(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return l}));var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,t);var e,n,i=(e=a,n=u(),function(){var t,o=s(e);if(n){var i=s(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return r(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=i.call(this,t),Object.setPrototypeOf(o(e),a.prototype),e}return a}(i(Error))},function(t,e,n){"use strict";function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s}));var i=function(t,e){return-1!==t.indexOf(e)},a=function(t,e){var n,o=r(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;t.push(i)}}catch(t){o.e(t)}finally{o.f()}return t},u=function(t){return a([],t)},c=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1},s=function(t,e){return t[c(t,e)]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));n(31),n(30),n(33),n(32);var r=n(22),o=n(19),i=n(34),a=n(0),u=n(2);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.draggable=void 0,this.dropzone=void 0,this.draggable=e,this.dropzone=n}var e,n,r;return e=t,(n=[{key:"create",value:function(){if(!this.dropzone.isEqualTo(this.draggable.dropzone)){var t=this.draggable.source;a.f.notNull(t);var e=t.clonePlainDraggableElement();this.disableAction(e),this.dropzone.element.insertBefore(e,this.dropzone.element.firstChild),e.classList.remove(Object(a.h)("draggable:type:palette")),e.setAttribute("data-draggable-shadow",""),e.classList.remove(Object(a.h)("gate:state:disabled")),e.classList.remove(Object(a.h)("connectable:lowerBit")),e.classList.remove(Object(a.h)("connectable:upperBit")),e.classList.contains(Object(a.h)("gate:measure"))&&e.setAttribute("data-value","")}}},{key:"remove",value:function(){this.dropzone.element.removeChild(this.element)}},{key:"toPlainDraggableElement",value:function(){var t=this.element;return t.removeAttribute("data-draggable-shadow"),t.classList.remove(Object(a.h)("draggable:type:palette")),t.classList.add(Object(a.h)("draggable:type:circuit")),this.enableAction(t),t}},{key:"element",get:function(){var t=Object(a.h)("draggable"),e=this.dropzone.element.getElementsByClassName(t).item(0);return a.f.notNull(e),e}},{key:"instruction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element;return u.e.create(t)}},{key:"disableAction",value:function(t){var e=t.getAttribute("data-action");t.setAttribute("data-action-disabled",e||""),t.setAttribute("data-action","")}},{key:"enableAction",value:function(t){t.setAttribute("data-action",t.getAttribute("data-action-disabled")||"")}}])&&c(e.prototype,n),r&&c(e,r),t}(),l=n(18),f=n(12),p=n(8);function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(l,t);var e,n,r,c=y(l);function l(){var t;d(this,l);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=c.call.apply(c,[this].concat(n)))._circuitStep=void 0,t}return e=l,(n=[{key:"setInteract",value:function(t){this.unsetInteract(),Object(p.a)(this.element).dropzone({accept:".".concat(Object(a.h)("draggable")),overlap:"pointer",ondragenter:t.onDragEnter,ondragleave:t.onDragLeave,ondrop:t.onDrop,checker:function(t,e,n,r,o,i,u){return n&&!o.classList.contains(Object(a.h)("dropzone:state:occupied"))}})}},{key:"enter",value:function(t){this.active=!0,new s(t,this).create()}},{key:"leave",value:function(t){this.active=!1,this.element!==t.dropzone.element&&new s(t,this).remove()}},{key:"drop",value:function(t){if(this.active=!1,this.occupied=!0,this.element!==t.dropzone.element){var e=new s(t,this).toPlainDraggableElement();return new o.a(e).element}}},{key:"draggable",get:function(){var t=this.draggableElement();return t?new o.a(t):null}},{key:"circuitStep",get:function(){if(this._circuitStep)return this._circuitStep;var t=Object(a.h)("circuitStep"),e=this.element.closest(".".concat(t));if(!e)throw new f.a(".".concat(t," not found"));return this._circuitStep=new i.a(e),this._circuitStep}},{key:"bit",get:function(){return this.circuitStep.dropzones.map((function(t){return t.element})).indexOf(this.element)}},{key:"instruction",get:function(){var t=this.draggable;return t&&!t.isGrabbed()?t.instruction:u.e.create()}},{key:"clear",value:function(){var t,e;this.occupied=!1,null===(t=this.draggable)||void 0===t||t.remove(),null===(e=this.draggableSource)||void 0===e||e.remove()}},{key:"remove",value:function(){var t;this.unsetInteract(),null===(t=this.element.parentNode)||void 0===t||t.removeChild(this.element)}},{key:"connectWithLowerBit",value:function(){this.element.classList.add(Object(a.h)("connectable:lowerBit"))}},{key:"connectWithUpperBit",value:function(){this.element.classList.add(Object(a.h)("connectable:upperBit"))}},{key:"disconnectFromLowerBit",value:function(){this.element.classList.remove(Object(a.h)("connectable:lowerBit"))}},{key:"disconnectFromUpperBit",value:function(){this.element.classList.remove(Object(a.h)("connectable:upperBit"))}},{key:"wireActive",set:function(t){var e=this.element.classList,n=Object(a.h)("wireable:inactive");t?e.remove(n):e.add(n)}},{key:"inputWireActive",set:function(t){var e=this.element.classList,n=Object(a.h)("wireable:inputInactive");this.wireActive=!0,t?e.remove(n):e.add(n)}},{key:"outputWireActive",set:function(t){var e=this.element.classList,n=Object(a.h)("wireable:outputInactive");t?e.remove(n):e.add(n)}},{key:"isInPage",value:function(){return this.element!==document.body&&document.body.contains(this.element)}},{key:"unsetInteract",value:function(){Object(p.a)(this.element).unset()}}])&&h(e.prototype,n),r&&h(e,r),l}(Object(r.b)(Object(r.c)(l.a)));g.elementClassName=Object(a.h)("dropzone:type:circuit")},function(t,e,n){"use strict";var r=n(11),o=n(1),i={init:function(t){var e=r.a.Element,n=t.navigator||{};i.supportsTouch="ontouchstart"in t||o.a.func(t.DocumentTouch)&&r.a.document instanceof t.DocumentTouch,i.supportsPointerEvent=!1!==n.pointerEnabled&&!!r.a.PointerEvent,i.isIOS=/iP(hone|od|ad)/.test(n.platform),i.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),i.isIe9=/MSIE 9/.test(n.userAgent),i.isOperaMobile="Opera"===n.appName&&i.supportsTouch&&/Presto/.test(n.userAgent),i.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",i.pEventTypes=i.supportsPointerEvent?r.a.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,i.wheelEvent=r.a.document&&"onmousewheel"in r.a.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};e.a=i},function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"a",(function(){return p}));var r=n(6),o=n(5),i=n(1);function a(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e,n,o){var u=t;return i.a.string(u)?u=function(t,e,n){return"parent"===t?Object(r.i)(n):"self"===t?e.getRect(n):Object(r.a)(n,t)}(u,e,n):i.a.func(u)&&(u=u.apply(void 0,a(o))),i.a.element(u)&&(u=Object(r.d)(u)),u}function s(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}}function l(t){return!t||"left"in t&&"top"in t||((t=Object(o.a)({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t}function f(t){return!t||"x"in t&&"y"in t||((t=Object(o.a)({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t}function p(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top}},function(t,e,n){"use strict";function r(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function o(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function i(t){var e=o(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function a(t){return t instanceof o(t).Element||t instanceof Element}function u(t){return t instanceof o(t).HTMLElement||t instanceof HTMLElement}function c(t){return"undefined"!=typeof ShadowRoot&&(t instanceof o(t).ShadowRoot||t instanceof ShadowRoot)}function s(t){return t?(t.nodeName||"").toLowerCase():null}function l(t){return((a(t)?t.ownerDocument:t.document)||window.document).documentElement}function f(t){return r(l(t)).left+i(t).scrollLeft}function p(t){return o(t).getComputedStyle(t)}function d(t){var e=p(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function h(t,e,n){void 0===n&&(n=!1);var a,c,p=u(e),h=u(e)&&function(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return 1!==n||1!==r}(e),b=l(e),y=r(t,h),v={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(p||!p&&!n)&&(("body"!==s(e)||d(b))&&(v=(a=e)!==o(a)&&u(a)?{scrollLeft:(c=a).scrollLeft,scrollTop:c.scrollTop}:i(a)),u(e)?((m=r(e,!0)).x+=e.clientLeft,m.y+=e.clientTop):b&&(m.x=f(b))),{x:y.left+v.scrollLeft-m.x,y:y.top+v.scrollTop-m.y,width:y.width,height:y.height}}function b(t){var e=r(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function y(t){return"html"===s(t)?t:t.assignedSlot||t.parentNode||(c(t)?t.host:null)||l(t)}function v(t,e){var n;void 0===e&&(e=[]);var r=function t(e){return["html","body","#document"].indexOf(s(e))>=0?e.ownerDocument.body:u(e)&&d(e)?e:t(y(e))}(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),a=o(r),c=i?[a].concat(a.visualViewport||[],d(r)?r:[]):r,l=e.concat(c);return i?l:l.concat(v(y(c)))}function m(t){return["table","td","th"].indexOf(s(t))>=0}function g(t){return u(t)&&"fixed"!==p(t).position?t.offsetParent:null}function w(t){for(var e=o(t),n=g(t);n&&m(n)&&"static"===p(n).position;)n=g(n);return n&&("html"===s(n)||"body"===s(n)&&"static"===p(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&u(t)&&"fixed"===p(t).position)return null;for(var n=y(t);u(n)&&["html","body"].indexOf(s(n))<0;){var r=p(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}n.d(e,"a",(function(){return Jt})),n.d(e,"c",(function(){return ut}));var x="top",O="bottom",k="right",j="left",A=[x,O,k,j],E=A.reduce((function(t,e){return t.concat([e+"-start",e+"-end"])}),[]),S=[].concat(A,["auto"]).reduce((function(t,e){return t.concat([e,e+"-start",e+"-end"])}),[]),_=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function z(t){var e=new Map,n=new Set,r=[];return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||function t(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var o=e.get(r);o&&t(o)}})),r.push(o)}(t)})),r}var P={placement:"bottom",modifiers:[],strategy:"absolute"};function C(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function T(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,o=e.defaultOptions,i=void 0===o?P:o;return function(t,e,n){void 0===n&&(n=i);var o,u,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},P,i),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},s=[],l=!1,f={state:c,setOptions:function(n){var o="function"==typeof n?n(c.options):n;p(),c.options=Object.assign({},i,c.options,o),c.scrollParents={reference:a(t)?v(t):t.contextElement?v(t.contextElement):[],popper:v(e)};var u=function(t){var e=z(t);return _.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,c.options.modifiers)));return c.orderedModifiers=u.filter((function(t){return t.enabled})),c.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var i=o({state:c,name:e,instance:f,options:r});s.push(i||function(){})}})),f.update()},forceUpdate:function(){if(!l){var t=c.elements,e=t.reference,n=t.popper;if(C(e,n)){c.rects={reference:h(e,w(n),"fixed"===c.options.strategy),popper:b(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(t){return c.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var o=c.orderedModifiers[r],i=o.fn,a=o.options,u=void 0===a?{}:a,s=o.name;"function"==typeof i&&(c=i({state:c,options:u,name:s,instance:f})||c)}else c.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(t){f.forceUpdate(),t(c)}))},function(){return u||(u=new Promise((function(t){Promise.resolve().then((function(){u=void 0,t(o())}))}))),u}),destroy:function(){p(),l=!0}};if(!C(t,e))return f;function p(){s.forEach((function(t){return t()})),s=[]}return f.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),f}}var R={passive:!0};var q={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=void 0===i||i,u=r.resize,c=void 0===u||u,s=o(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&l.forEach((function(t){t.addEventListener("scroll",n.update,R)})),c&&s.addEventListener("resize",n.update,R),function(){a&&l.forEach((function(t){t.removeEventListener("scroll",n.update,R)})),c&&s.removeEventListener("resize",n.update,R)}},data:{}};function M(t){return t.split("-")[0]}function D(t){return t.split("-")[1]}function B(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function I(t){var e,n=t.reference,r=t.element,o=t.placement,i=o?M(o):null,a=o?D(o):null,u=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case x:e={x:u,y:n.y-r.height};break;case O:e={x:u,y:n.y+n.height};break;case k:e={x:n.x+n.width,y:c};break;case j:e={x:n.x-r.width,y:c};break;default:e={x:n.x,y:n.y}}var s=i?B(i):null;if(null!=s){var l="y"===s?"height":"width";switch(a){case"start":e[s]=e[s]-(n[l]/2-r[l]/2);break;case"end":e[s]=e[s]+(n[l]/2-r[l]/2)}}return e}var L={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=I({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},N=Math.max,U=Math.min,F=Math.round,H={top:"auto",right:"auto",bottom:"auto",left:"auto"};function G(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.variation,u=t.offsets,c=t.position,s=t.gpuAcceleration,f=t.adaptive,d=t.roundOffsets,h=!0===d?function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:F(F(e*r)/r)||0,y:F(F(n*r)/r)||0}}(u):"function"==typeof d?d(u):u,b=h.x,y=void 0===b?0:b,v=h.y,m=void 0===v?0:v,g=u.hasOwnProperty("x"),A=u.hasOwnProperty("y"),E=j,S=x,_=window;if(f){var z=w(n),P="clientHeight",C="clientWidth";z===o(n)&&"static"!==p(z=l(n)).position&&"absolute"===c&&(P="scrollHeight",C="scrollWidth"),z=z,i!==x&&(i!==j&&i!==k||"end"!==a)||(S=O,m-=z[P]-r.height,m*=s?1:-1),i!==j&&(i!==x&&i!==O||"end"!==a)||(E=k,y-=z[C]-r.width,y*=s?1:-1)}var T,R=Object.assign({position:c},f&&H);return s?Object.assign({},R,((T={})[S]=A?"0":"",T[E]=g?"0":"",T.transform=(_.devicePixelRatio||1)<=1?"translate("+y+"px, "+m+"px)":"translate3d("+y+"px, "+m+"px, 0)",T)):Object.assign({},R,((e={})[S]=A?m+"px":"",e[E]=g?y+"px":"",e.transform="",e))}var V={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];u(o)&&s(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],o=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});u(r)&&s(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};var W={left:"right",right:"left",bottom:"top",top:"bottom"};function $(t){return t.replace(/left|right|bottom|top/g,(function(t){return W[t]}))}var Y={start:"end",end:"start"};function X(t){return t.replace(/start|end/g,(function(t){return Y[t]}))}function Q(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&c(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function J(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function K(t,e){return"viewport"===e?J(function(t){var e=o(t),n=l(t),r=e.visualViewport,i=n.clientWidth,a=n.clientHeight,u=0,c=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(u=r.offsetLeft,c=r.offsetTop)),{width:i,height:a,x:u+f(t),y:c}}(t)):u(e)?function(t){var e=r(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):J(function(t){var e,n=l(t),r=i(t),o=null==(e=t.ownerDocument)?void 0:e.body,a=N(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),u=N(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-r.scrollLeft+f(t),s=-r.scrollTop;return"rtl"===p(o||n).direction&&(c+=N(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:u,x:c,y:s}}(l(t)))}function Z(t,e,n){var r="clippingParents"===e?function(t){var e=v(y(t)),n=["absolute","fixed"].indexOf(p(t).position)>=0&&u(t)?w(t):t;return a(n)?e.filter((function(t){return a(t)&&Q(t,n)&&"body"!==s(t)})):[]}(t):[].concat(e),o=[].concat(r,[n]),i=o[0],c=o.reduce((function(e,n){var r=K(t,n);return e.top=N(r.top,e.top),e.right=U(r.right,e.right),e.bottom=U(r.bottom,e.bottom),e.left=N(r.left,e.left),e}),K(t,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function tt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function et(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function nt(t,e){void 0===e&&(e={});var n=e,o=n.placement,i=void 0===o?t.placement:o,u=n.boundary,c=void 0===u?"clippingParents":u,s=n.rootBoundary,f=void 0===s?"viewport":s,p=n.elementContext,d=void 0===p?"popper":p,h=n.altBoundary,b=void 0!==h&&h,y=n.padding,v=void 0===y?0:y,m=tt("number"!=typeof v?v:et(v,A)),g="popper"===d?"reference":"popper",w=t.rects.popper,j=t.elements[b?g:d],E=Z(a(j)?j:j.contextElement||l(t.elements.popper),c,f),S=r(t.elements.reference),_=I({reference:S,element:w,strategy:"absolute",placement:i}),z=J(Object.assign({},w,_)),P="popper"===d?z:S,C={top:E.top-P.top+m.top,bottom:P.bottom-E.bottom+m.bottom,left:E.left-P.left+m.left,right:P.right-E.right+m.right},T=t.modifiersData.offset;if("popper"===d&&T){var R=T[i];Object.keys(C).forEach((function(t){var e=[k,O].indexOf(t)>=0?1:-1,n=[x,O].indexOf(t)>=0?"y":"x";C[t]+=R[n]*e}))}return C}function rt(t,e,n){return N(t,U(e,n))}function ot(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function it(t){return[x,k,O,j].some((function(e){return t[e]>=0}))}var at=T({defaultModifiers:[q,L,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,u=n.roundOffsets,c=void 0===u||u,s={placement:M(e.placement),variation:D(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,G(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,G(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},V,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=void 0===o?[0,0]:o,a=S.reduce((function(t,n){return t[n]=function(t,e,n){var r=M(t),o=[j,x].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=i[0],u=i[1];return a=a||0,u=(u||0)*o,[j,k].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}(n,e.rects,i),t}),{}),u=a[e.placement],c=u.x,s=u.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=s),e.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,u=void 0===a||a,c=n.fallbackPlacements,s=n.padding,l=n.boundary,f=n.rootBoundary,p=n.altBoundary,d=n.flipVariations,h=void 0===d||d,b=n.allowedAutoPlacements,y=e.options.placement,v=M(y),m=c||(v===y||!h?[$(y)]:function(t){if("auto"===M(t))return[];var e=$(t);return[X(t),e,X(e)]}(y)),g=[y].concat(m).reduce((function(t,n){return t.concat("auto"===M(n)?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,u=n.flipVariations,c=n.allowedAutoPlacements,s=void 0===c?S:c,l=D(r),f=l?u?E:E.filter((function(t){return D(t)===l})):A,p=f.filter((function(t){return s.indexOf(t)>=0}));0===p.length&&(p=f);var d=p.reduce((function(e,n){return e[n]=nt(t,{placement:n,boundary:o,rootBoundary:i,padding:a})[M(n)],e}),{});return Object.keys(d).sort((function(t,e){return d[t]-d[e]}))}(e,{placement:n,boundary:l,rootBoundary:f,padding:s,flipVariations:h,allowedAutoPlacements:b}):n)}),[]),w=e.rects.reference,_=e.rects.popper,z=new Map,P=!0,C=g[0],T=0;T<g.length;T++){var R=g[T],q=M(R),B="start"===D(R),I=[x,O].indexOf(q)>=0,L=I?"width":"height",N=nt(e,{placement:R,boundary:l,rootBoundary:f,altBoundary:p,padding:s}),U=I?B?k:j:B?O:x;w[L]>_[L]&&(U=$(U));var F=$(U),H=[];if(i&&H.push(N[q]<=0),u&&H.push(N[U]<=0,N[F]<=0),H.every((function(t){return t}))){C=R,P=!1;break}z.set(R,H)}if(P)for(var G=function(t){var e=g.find((function(e){var n=z.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return C=e,"break"},V=h?3:1;V>0;V--){if("break"===G(V))break}e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,u=void 0!==a&&a,c=n.boundary,s=n.rootBoundary,l=n.altBoundary,f=n.padding,p=n.tether,d=void 0===p||p,h=n.tetherOffset,y=void 0===h?0:h,v=nt(e,{boundary:c,rootBoundary:s,padding:f,altBoundary:l}),m=M(e.placement),g=D(e.placement),A=!g,E=B(m),S="x"===E?"y":"x",_=e.modifiersData.popperOffsets,z=e.rects.reference,P=e.rects.popper,C="function"==typeof y?y(Object.assign({},e.rects,{placement:e.placement})):y,T={x:0,y:0};if(_){if(i||u){var R="y"===E?x:j,q="y"===E?O:k,I="y"===E?"height":"width",L=_[E],F=_[E]+v[R],H=_[E]-v[q],G=d?-P[I]/2:0,V="start"===g?z[I]:P[I],W="start"===g?-P[I]:-z[I],$=e.elements.arrow,Y=d&&$?b($):{width:0,height:0},X=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Q=X[R],J=X[q],K=rt(0,z[I],Y[I]),Z=A?z[I]/2-G-K-Q-C:V-K-Q-C,tt=A?-z[I]/2+G+K+J+C:W+K+J+C,et=e.elements.arrow&&w(e.elements.arrow),ot=et?"y"===E?et.clientTop||0:et.clientLeft||0:0,it=e.modifiersData.offset?e.modifiersData.offset[e.placement][E]:0,at=_[E]+Z-it-ot,ut=_[E]+tt-it;if(i){var ct=rt(d?U(F,at):F,L,d?N(H,ut):H);_[E]=ct,T[E]=ct-L}if(u){var st="x"===E?x:j,lt="x"===E?O:k,ft=_[S],pt=ft+v[st],dt=ft-v[lt],ht=rt(d?U(pt,at):pt,ft,d?N(dt,ut):dt);_[S]=ht,T[S]=ht-ft}}e.modifiersData[r]=T}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,u=M(n.placement),c=B(u),s=[j,k].indexOf(u)>=0?"height":"width";if(i&&a){var l=function(t,e){return tt("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:et(t,A))}(o.padding,n),f=b(i),p="y"===c?x:j,d="y"===c?O:k,h=n.rects.reference[s]+n.rects.reference[c]-a[c]-n.rects.popper[s],y=a[c]-n.rects.reference[c],v=w(i),m=v?"y"===c?v.clientHeight||0:v.clientWidth||0:0,g=h/2-y/2,E=l[p],S=m-f[s]-l[d],_=m/2-f[s]/2+g,z=rt(E,_,S),P=c;n.modifiersData[r]=((e={})[P]=z,e.centerOffset=z-_,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&Q(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,a=nt(e,{elementContext:"reference"}),u=nt(e,{altBoundary:!0}),c=ot(a,r),s=ot(u,o,i),l=it(c),f=it(s);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:s,isReferenceHidden:l,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),ut='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',ct={passive:!0,capture:!0},st=function(){return document.body};function lt(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function ft(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function pt(t,e){return"function"==typeof t?t.apply(void 0,e):t}function dt(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout((function(){t(r)}),e)};var n}function ht(t,e){var n=Object.assign({},t);return e.forEach((function(t){delete n[t]})),n}function bt(t){return[].concat(t)}function yt(t,e){-1===t.indexOf(e)&&t.push(e)}function vt(t){return t.split("-")[0]}function mt(t){return[].slice.call(t)}function gt(){return document.createElement("div")}function wt(t){return["Element","Fragment"].some((function(e){return ft(t,e)}))}function xt(t){return ft(t,"MouseEvent")}function Ot(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function kt(t){return wt(t)?[t]:function(t){return ft(t,"NodeList")}(t)?mt(t):Array.isArray(t)?t:mt(document.querySelectorAll(t))}function jt(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function At(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function Et(t){var e,n=bt(t)[0];return(null==n||null==(e=n.ownerDocument)?void 0:e.body)?n.ownerDocument:document}function St(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[r](e,n)}))}function _t(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=null==(r=null==n.getRootNode?void 0:n.getRootNode())?void 0:r.host}return!1}var zt={isTouch:!1},Pt=0;function Ct(){zt.isTouch||(zt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Tt))}function Tt(){var t=performance.now();t-Pt<20&&(zt.isTouch=!1,document.removeEventListener("mousemove",Tt)),Pt=t}function Rt(){var t=document.activeElement;if(Ot(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var qt=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var Mt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Dt=Object.assign({appendTo:st,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Mt,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Bt=Object.keys(Dt);function It(t){var e=(t.plugins||[]).reduce((function(e,n){var r,o=n.name,i=n.defaultValue;o&&(e[o]=void 0!==t[o]?t[o]:null!=(r=Dt[o])?r:i);return e}),{});return Object.assign({},t,{},e)}function Lt(t,e){var n=Object.assign({},e,{content:pt(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(It(Object.assign({},Dt,{plugins:e}))):Bt).reduce((function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},Dt.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function Nt(t,e){t.innerHTML=e}function Ut(t){var e=gt();return!0===t?e.className="tippy-arrow":(e.className="tippy-svg-arrow",wt(t)?e.appendChild(t):Nt(e,t)),e}function Ft(t,e){wt(e.content)?(Nt(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?Nt(t,e.content):t.textContent=e.content)}function Ht(t){var e=t.firstElementChild,n=mt(e.children);return{box:e,content:n.find((function(t){return t.classList.contains("tippy-content")})),arrow:n.find((function(t){return t.classList.contains("tippy-arrow")||t.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(t){return t.classList.contains("tippy-backdrop")}))}}function Gt(t){var e=gt(),n=gt();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=gt();function o(n,r){var o=Ht(e),i=o.box,a=o.content,u=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Ft(a,t.props),r.arrow?u?n.arrow!==r.arrow&&(i.removeChild(u),i.appendChild(Ut(r.arrow))):i.appendChild(Ut(r.arrow)):u&&i.removeChild(u)}return r.className="tippy-content",r.setAttribute("data-state","hidden"),Ft(r,t.props),e.appendChild(n),n.appendChild(r),o(t.props,t.props),{popper:e,onUpdate:o}}Gt.$$tippy=!0;var Vt=1,Wt=[],$t=[];function Yt(t,e){var n,r,o,i,a,u,c,s,l,f=Lt(t,Object.assign({},Dt,{},It((n=e,Object.keys(n).reduce((function(t,e){return void 0!==n[e]&&(t[e]=n[e]),t}),{}))))),p=!1,d=!1,h=!1,b=!1,y=[],v=dt(Y,f.interactiveDebounce),m=Vt++,g=(l=f.plugins).filter((function(t,e){return l.indexOf(t)===e})),w={id:m,reference:t,popper:gt(),popperInstance:null,props:f,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:g,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(i)},setProps:function(e){0;if(w.state.isDestroyed)return;q("onBeforeUpdate",[w,e]),W();var n=w.props,r=Lt(t,Object.assign({},w.props,{},e,{ignoreAttributes:!0}));w.props=r,V(),n.interactiveDebounce!==r.interactiveDebounce&&(B(),v=dt(Y,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?bt(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):r.triggerTarget&&t.removeAttribute("aria-expanded");D(),R(),k&&k(n,r);w.popperInstance&&(K(),tt().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})));q("onAfterUpdate",[w,e])},setContent:function(t){w.setProps({content:t})},show:function(){0;var t=w.state.isVisible,e=w.state.isDestroyed,n=!w.state.isEnabled,r=zt.isTouch&&!w.props.touch,o=lt(w.props.duration,0,Dt.duration);if(t||e||n||r)return;if(z().hasAttribute("disabled"))return;if(q("onShow",[w],!1),!1===w.props.onShow(w))return;w.state.isVisible=!0,_()&&(O.style.visibility="visible");R(),U(),w.state.isMounted||(O.style.transition="none");if(_()){var i=C(),a=i.box,u=i.content;jt([a,u],0)}c=function(){var t;if(w.state.isVisible&&!b){if(b=!0,O.offsetHeight,O.style.transition=w.props.moveTransition,_()&&w.props.animation){var e=C(),n=e.box,r=e.content;jt([n,r],o),At([n,r],"visible")}M(),D(),yt($t,w),null==(t=w.popperInstance)||t.forceUpdate(),w.state.isMounted=!0,q("onMount",[w]),w.props.animation&&_()&&function(t,e){H(t,e)}(o,(function(){w.state.isShown=!0,q("onShown",[w])}))}},function(){var t,e=w.props.appendTo,n=z();t=w.props.interactive&&e===st||"parent"===e?n.parentNode:pt(e,[n]);t.contains(O)||t.appendChild(O);K(),!1}()},hide:function(){0;var t=!w.state.isVisible,e=w.state.isDestroyed,n=!w.state.isEnabled,r=lt(w.props.duration,1,Dt.duration);if(t||e||n)return;if(q("onHide",[w],!1),!1===w.props.onHide(w))return;w.state.isVisible=!1,w.state.isShown=!1,b=!1,p=!1,_()&&(O.style.visibility="hidden");if(B(),F(),R(),_()){var o=C(),i=o.box,a=o.content;w.props.animation&&(jt([i,a],r),At([i,a],"hidden"))}M(),D(),w.props.animation?_()&&function(t,e){H(t,(function(){!w.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&e()}))}(r,w.unmount):w.unmount()},hideWithInteractivity:function(t){0;P().addEventListener("mousemove",v),yt(Wt,v),v(t)},enable:function(){w.state.isEnabled=!0},disable:function(){w.hide(),w.state.isEnabled=!1},unmount:function(){0;w.state.isVisible&&w.hide();if(!w.state.isMounted)return;Z(),tt().forEach((function(t){t._tippy.unmount()})),O.parentNode&&O.parentNode.removeChild(O);$t=$t.filter((function(t){return t!==w})),w.state.isMounted=!1,q("onHidden",[w])},destroy:function(){0;if(w.state.isDestroyed)return;w.clearDelayTimeouts(),w.unmount(),W(),delete t._tippy,w.state.isDestroyed=!0,q("onDestroy",[w])}};if(!f.render)return w;var x=f.render(w),O=x.popper,k=x.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+w.id,w.popper=O,t._tippy=w,O._tippy=w;var j=g.map((function(t){return t.fn(w)})),A=t.hasAttribute("aria-expanded");return V(),D(),R(),q("onCreate",[w]),f.showOnCreate&&et(),O.addEventListener("mouseenter",(function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()})),O.addEventListener("mouseleave",(function(t){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&(P().addEventListener("mousemove",v),v(t))})),w;function E(){var t=w.props.touch;return Array.isArray(t)?t:[t,0]}function S(){return"hold"===E()[0]}function _(){var t;return!!(null==(t=w.props.render)?void 0:t.$$tippy)}function z(){return s||t}function P(){var t=z().parentNode;return t?Et(t):document}function C(){return Ht(O)}function T(t){return w.state.isMounted&&!w.state.isVisible||zt.isTouch||a&&"focus"===a.type?0:lt(w.props.delay,t?0:1,Dt.delay)}function R(){O.style.pointerEvents=w.props.interactive&&w.state.isVisible?"":"none",O.style.zIndex=""+w.props.zIndex}function q(t,e,n){var r;(void 0===n&&(n=!0),j.forEach((function(n){n[t]&&n[t].apply(void 0,e)})),n)&&(r=w.props)[t].apply(r,e)}function M(){var e=w.props.aria;if(e.content){var n="aria-"+e.content,r=O.id;bt(w.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(w.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var o=e&&e.replace(r,"").trim();o?t.setAttribute(n,o):t.removeAttribute(n)}}))}}function D(){!A&&w.props.aria.expanded&&bt(w.props.triggerTarget||t).forEach((function(t){w.props.interactive?t.setAttribute("aria-expanded",w.state.isVisible&&t===z()?"true":"false"):t.removeAttribute("aria-expanded")}))}function B(){P().removeEventListener("mousemove",v),Wt=Wt.filter((function(t){return t!==v}))}function I(t){if(!zt.isTouch||!h&&"mousedown"!==t.type){var e=t.composedPath&&t.composedPath()[0]||t.target;if(!w.props.interactive||!_t(O,e)){if(_t(z(),e)){if(zt.isTouch)return;if(w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else q("onClickOutside",[w,t]);!0===w.props.hideOnClick&&(w.clearDelayTimeouts(),w.hide(),d=!0,setTimeout((function(){d=!1})),w.state.isMounted||F())}}}function L(){h=!0}function N(){h=!1}function U(){var t=P();t.addEventListener("mousedown",I,!0),t.addEventListener("touchend",I,ct),t.addEventListener("touchstart",N,ct),t.addEventListener("touchmove",L,ct)}function F(){var t=P();t.removeEventListener("mousedown",I,!0),t.removeEventListener("touchend",I,ct),t.removeEventListener("touchstart",N,ct),t.removeEventListener("touchmove",L,ct)}function H(t,e){var n=C().box;function r(t){t.target===n&&(St(n,"remove",r),e())}if(0===t)return e();St(n,"remove",u),St(n,"add",r),u=r}function G(e,n,r){void 0===r&&(r=!1),bt(w.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,r),y.push({node:t,eventType:e,handler:n,options:r})}))}function V(){var t;S()&&(G("touchstart",$,{passive:!0}),G("touchend",X,{passive:!0})),(t=w.props.trigger,t.split(/\s+/).filter(Boolean)).forEach((function(t){if("manual"!==t)switch(G(t,$),t){case"mouseenter":G("mouseleave",X);break;case"focus":G(qt?"focusout":"blur",Q);break;case"focusin":G("focusout",Q)}}))}function W(){y.forEach((function(t){var e=t.node,n=t.eventType,r=t.handler,o=t.options;e.removeEventListener(n,r,o)})),y=[]}function $(t){var e,n=!1;if(w.state.isEnabled&&!J(t)&&!d){var r="focus"===(null==(e=a)?void 0:e.type);a=t,s=t.currentTarget,D(),!w.state.isVisible&&xt(t)&&Wt.forEach((function(e){return e(t)})),"click"===t.type&&(w.props.trigger.indexOf("mouseenter")<0||p)&&!1!==w.props.hideOnClick&&w.state.isVisible?n=!0:et(t),"click"===t.type&&(p=!n),n&&!r&&nt(t)}}function Y(t){var e=t.target,n=z().contains(e)||O.contains(e);"mousemove"===t.type&&n||function(t,e){var n=e.clientX,r=e.clientY;return t.every((function(t){var e=t.popperRect,o=t.popperState,i=t.props.interactiveBorder,a=vt(o.placement),u=o.modifiersData.offset;if(!u)return!0;var c="bottom"===a?u.top.y:0,s="top"===a?u.bottom.y:0,l="right"===a?u.left.x:0,f="left"===a?u.right.x:0,p=e.top-r+c>i,d=r-e.bottom-s>i,h=e.left-n+l>i,b=n-e.right-f>i;return p||d||h||b}))}(tt().concat(O).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:f}:null})).filter(Boolean),t)&&(B(),nt(t))}function X(t){J(t)||w.props.trigger.indexOf("click")>=0&&p||(w.props.interactive?w.hideWithInteractivity(t):nt(t))}function Q(t){w.props.trigger.indexOf("focusin")<0&&t.target!==z()||w.props.interactive&&t.relatedTarget&&O.contains(t.relatedTarget)||nt(t)}function J(t){return!!zt.isTouch&&S()!==t.type.indexOf("touch")>=0}function K(){Z();var e=w.props,n=e.popperOptions,r=e.placement,o=e.offset,i=e.getReferenceClientRect,a=e.moveTransition,u=_()?Ht(O).arrow:null,s=i?{getBoundingClientRect:i,contextElement:i.contextElement||z()}:t,l=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(_()){var n=C().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}}];_()&&u&&l.push({name:"arrow",options:{element:u,padding:3}}),l.push.apply(l,(null==n?void 0:n.modifiers)||[]),w.popperInstance=at(s,O,Object.assign({},n,{placement:r,onFirstUpdate:c,modifiers:l}))}function Z(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function tt(){return mt(O.querySelectorAll("[data-tippy-root]"))}function et(t){w.clearDelayTimeouts(),t&&q("onTrigger",[w,t]),U();var e=T(!0),n=E(),o=n[0],i=n[1];zt.isTouch&&"hold"===o&&i&&(e=i),e?r=setTimeout((function(){w.show()}),e):w.show()}function nt(t){if(w.clearDelayTimeouts(),q("onUntrigger",[w,t]),w.state.isVisible){if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&p)){var e=T(!1);e?o=setTimeout((function(){w.state.isVisible&&w.hide()}),e):i=requestAnimationFrame((function(){w.hide()}))}}else F()}}function Xt(t,e){void 0===e&&(e={});var n=Dt.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",Ct,ct),window.addEventListener("blur",Rt);var r=Object.assign({},e,{plugins:n}),o=kt(t).reduce((function(t,e){var n=e&&Yt(e,r);return n&&t.push(n),t}),[]);return wt(t)?o[0]:o}Xt.defaultProps=Dt,Xt.setDefaultProps=function(t){Object.keys(t).forEach((function(e){Dt[e]=t[e]}))},Xt.currentInput=zt;var Qt=Object.assign({},V,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),Jt=function(t,e){var n;void 0===e&&(e={});var r,o=t,i=[],a=e.overrides,u=[],c=!1;function s(){i=o.map((function(t){return t.reference}))}function l(t){o.forEach((function(e){t?e.enable():e.disable()}))}function f(t){return o.map((function(e){var n=e.setProps;return e.setProps=function(o){n(o),e.reference===r&&t.setProps(o)},function(){e.setProps=n}}))}function p(t,e){var n=i.indexOf(e);if(e!==r){r=e;var u=(a||[]).concat("content").reduce((function(t,e){return t[e]=o[n].props[e],t}),{});t.setProps(Object.assign({},u,{getReferenceClientRect:"function"==typeof u.getReferenceClientRect?u.getReferenceClientRect:function(){return e.getBoundingClientRect()}}))}}l(!1),s();var d={fn:function(){return{onDestroy:function(){l(!0)},onHidden:function(){r=null},onClickOutside:function(t){t.props.showOnCreate&&!c&&(c=!0,r=null)},onShow:function(t){t.props.showOnCreate&&!c&&(c=!0,p(t,i[0]))},onTrigger:function(t,e){p(t,e.currentTarget)}}}},h=Xt(gt(),Object.assign({},ht(e,["overrides"]),{plugins:[d].concat(e.plugins||[]),triggerTarget:i,popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],[Qt])})})),b=h.show;h.show=function(t){if(b(),!r&&null==t)return p(h,i[0]);if(!r||null!=t){if("number"==typeof t)return i[t]&&p(h,i[t]);if(o.indexOf(t)>=0){var e=t.reference;return p(h,e)}return i.indexOf(t)>=0?p(h,t):void 0}},h.showNext=function(){var t=i[0];if(!r)return h.show(0);var e=i.indexOf(r);h.show(i[e+1]||t)},h.showPrevious=function(){var t=i[i.length-1];if(!r)return h.show(t);var e=i.indexOf(r),n=i[e-1]||t;h.show(n)};var y=h.setProps;return h.setProps=function(t){a=t.overrides||a,y(t)},h.setInstances=function(t){l(!0),u.forEach((function(t){return t()})),o=t,l(!1),s(),f(h),h.setProps({triggerTarget:i})},u=f(h),h};Xt.setDefaultProps({render:Gt});e.b=Xt},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=void 0,this.element=this.validateInstructionElementClassName(e,this.constructor.elementClassName)}var e,n,i;return e=t,(n=[{key:"classList",get:function(){return this.element.classList}},{key:"setClassName",value:function(t,e){var n=Object(r.h)(t);e?this.classList.add(n):this.classList.remove(n)}},{key:"isClassNamed",value:function(t){return this.element.classList.contains(Object(r.h)(t))}},{key:"removeElement",value:function(){var t;null===(t=this.element.parentNode)||void 0===t||t.removeChild(this.element)}},{key:"validateInstructionElementClassName",value:function(t,e){if(r.f.notNull(t),!t.classList.contains(e))throw new r.b("Invalid element",{element:t});return t}}])&&o(e.prototype,n),i&&o(e,i),t}();i.elementClassName=void 0},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(45),o=n(2),i=n(0),a=n(3);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(f,t);var e,n,r,i=l(f);function f(){return u(this,f),i.apply(this,arguments)}return e=f,(n=[{key:"grab",value:function(t){this.simulatorElement.dispatchEvent(new CustomEvent("userReleasedGate",{bubbles:!1})),this.createSource(),this.grabbed=!0;var e=this.instruction;Object(a.q)(e)&&e.disconnectFromAll(),this.moveToGrabbedPosition(t)}},{key:"remove",value:function(){this.unsetInteract(),this.removeElement()}},{key:"dropzone",get:function(){return this.getDropzone()}},{key:"instruction",get:function(){return o.e.create(this.element)}},{key:"startDragging",value:function(t){new f(t.target).dragging=!0}},{key:"dragMove",value:function(t){new f(t.target).move(t.dx,t.dy)}},{key:"endDragging",value:function(t){var e,n=new f(t.target);n.dragging=!1,null===(e=n.source)||void 0===e||e.remove(),n.isDropped?n.remove():n.moveTo(0,0),this.simulatorElement.dispatchEvent(new CustomEvent("userReleasedGate",{bubbles:!1}))}}])&&c(e.prototype,n),r&&c(e,r),f}(r.a);d.elementClassName=Object(i.h)("draggable:type:circuit")},function(t,e,n){"use strict";n.d(e,"a",(function(){return r.a})),n.d(e,"b",(function(){return o.a})),n.d(e,"c",(function(){return i.a})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return g.a})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return D}));var r=n(19),o=n(14),i=n(34),a=n(3),u=n(0);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements=void 0,this.elements=e}var e,n,r;return e=t,(n=[{key:"removable",get:function(){if(this.empty)return!0;var t=this.dropzones[0].instruction;return t instanceof a.m&&0==t.value&&this.dropzones.slice(1).every((function(t){return t.empty}))}},{key:"empty",get:function(){return this.dropzones.every((function(t){return t.empty}))}},{key:"clone",value:function(){return new t(this.elements.map((function(t){if(t.classList.contains(Object(u.h)("dropzone:type:circuit"))){var e=new o.a(t.cloneNode(!0));return e.clear(),e.element}return t.cloneNode(!0)})))}},{key:"clear",value:function(){return this.elements.forEach((function(t){if(t.classList.contains(Object(u.h)("dropzone"))){var e=new o.a(t);e.clear(),e.wireActive=!1}})),this}},{key:"dropzones",get:function(){return this.elements.slice(1).map((function(t){return new o.a(t)}))}},{key:"incrementQubitLabelValue",value:function(){return this.elements.forEach((function(t){if(t.classList.contains(Object(u.h)("display:qubitLabel"))){var e=new a.g(t);if(/^0x/.exec(e.value)){var n=parseInt(e.value);e.value="0x".concat((2*n).toString(16))}}})),this}},{key:"remove",value:function(){this.elements.forEach((function(t){var e;t.classList.contains(Object(u.h)("dropzone"))&&new o.a(t).unsetInteract(),null===(e=t.parentNode)||void 0===e||e.removeChild(t)}))}}])&&c(e.prototype,n),r&&c(e,r),t}(),l=n(12);function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(i,t);var e,n,r,o=h(i);function i(){return f(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"grab",value:function(t){this.simulatorElement.dispatchEvent(new CustomEvent("userGrabbingGate",{bubbles:!1})),this.createSource(),this.grabbed=!0,this.moveToGrabbedPosition(t)}},{key:"dropzone",get:function(){return this.getDropzone()}},{key:"startDragging",value:function(t){new i(t.target).dragging=!0}},{key:"dragMove",value:function(t){new i(t.target).move(t.dx,t.dy)}},{key:"endDragging",value:function(t){var e=new i(t.target);e.dragging=!1,e.moveTo(0,0),this.simulatorElement.dispatchEvent(new CustomEvent("userReleasedGate",{bubbles:!1}))}}])&&p(e.prototype,n),r&&p(e,r),i}(n(45).a);v.elementClassName=Object(u.h)("draggable:type:palette");var m={create:function(t){if(!t)throw new l.a("Event target not set");var e=t,n=e.classList;if(n.contains(Object(u.h)("draggable:type:circuit")))return new r.a(e);if(n.contains(Object(u.h)("draggable:type:palette")))return new v(e);throw new l.a("Unknown draggable: ".concat(e.outerHTML))}},g=n(39),w=(n(40),n(48)),x=n(46);function O(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||j(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=j(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function j(t,e){if(t){if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(t,e):void 0}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var S=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=void 0,this.circuit=void 0,this.element=e,this.circuit=new w.a,new x.a(this.trashDropzoneElement).setInteract({onDrop:this.trashGate.bind(this)});var n,r=k(this.circuit.dropzones);try{for(r.s();!(n=r.n()).done;){n.value.setInteract(this.circuitDropzoneHandlers())}}catch(t){r.e(t)}finally{r.f()}}var e,n,i;return e=t,(n=[{key:"clear",value:function(){history.pushState("","",'{"cols":[["|0>"],["H"],["Measure"]],"init":false}'),location.reload()}},{key:"updateUrl",value:function(){history.pushState("","",this.circuit.toJson())}},{key:"addNewQubit",value:function(){this.circuit.appendNewWire(this.circuitDropzoneHandlers())}},{key:"grabDraggable",value:function(){var t,e=k(this.circuit.steps.slice(2));try{for(e.s();!(t=e.n()).done;)t.value.prependShadow(this.circuitDropzoneHandlers())}catch(t){e.e(t)}finally{e.f()}}},{key:"grabDraggableOld",value:function(t,e){var n,r=k(this.circuit.steps.slice(2));try{for(r.s();!(n=r.n()).done;)n.value.prependShadow(this.circuitDropzoneHandlers())}catch(t){r.e(t)}finally{r.f()}t.grab(e)}},{key:"releaseDraggable",value:function(t){var e,n=m.create(t.target);n.unGrab(),null===(e=n.source)||void 0===e||e.remove(),this.removeEmptySteps(),n instanceof r.a&&n.dropzone.circuitStep.updateGateConnections()}},{key:"showGatePopup",value:function(t){(new D).show(t)}},{key:"trashGate",value:function(t){var e=m.create(t.relatedTarget);e.dropped=!0,e.dropzone.occupied=!1,e instanceof r.a&&(e.dropzone.circuitStep.updateGateConnections(),this.removeEmptySteps(),this.updateWires(),this.element.dispatchEvent(new CustomEvent("circuitUpdateEvent")))}},{key:"trashDropzoneElement",get:function(){var t=Object(u.h)("dropzone:type:trash"),e=this.element.getElementsByClassName(t).item(0);return u.f.notNull(e),e}},{key:"circuitDropzoneHandlers",value:function(){return{onDragEnter:this.onCircuitDropzoneDragEnter.bind(this),onDragLeave:this.onCircuitDropzoneDragLeave.bind(this),onDrop:this.onCircuitDropzoneDrop.bind(this)}}},{key:"onCircuitDropzoneDragEnter",value:function(t){var e=new o.a(t.target),n=m.create(t.relatedTarget);e.enter(n)}},{key:"onCircuitDropzoneDragLeave",value:function(t){var e=new o.a(t.target),n=m.create(t.relatedTarget);e.leave(n)}},{key:"onCircuitDropzoneDrop",value:function(t){var e=new o.a(t.target),n=m.create(t.relatedTarget),i=n.dropzone;if(this.circuit.wires[e.bit].empty&&!this.circuit.wires[e.bit].dropzones[0].isEqualTo(e)&&!(n.instruction instanceof a.m)){var u=this.newWriteDraggable(),c=this.circuit.steps[1].dropzones[e.bit];c.element.insertBefore(u.element,c.element.firstChild),c.occupied=!0,u.enableDnd()}var s=e.drop(n);s&&new r.a(s).enableDnd(),e.circuitStep.shadow=!1,n.dropped=!0,n.dropzone.element!==e.element&&(n.dropzone.occupied=!1,i instanceof o.a&&i.circuitStep.updateGateConnections(),e instanceof o.a&&e.circuitStep.updateGateConnections(),this.removeEmptySteps(),this.updateWires(),this.element.dispatchEvent(new CustomEvent("circuitUpdateEvent")))}},{key:"updateWires",value:function(){var t,e=Array(this.circuit.nqubit).fill(!1),n=Array(this.circuit.nqubit).fill(!1),r=k(this.circuit.steps);try{for(r.s();!(t=r.n()).done;){var o,i=k(t.value.dropzones.entries());try{var c=function(){var t=o.value,r=(s=O(t,2))[0],i=s[1];if(i.instruction instanceof a.m)e[r]=!0,n[r]=!0;else if(i.instruction instanceof a.e)e[r]=!1,n[r]=!1;else if(i.instruction instanceof a.l&&!i.instruction.disabled){var c=i.instruction.targets.find((function(t){return t!==r}));u.f.notNull(c),i.inputWireActive=n[r],i.outputWireActive=n[c],e[r]=n[c]}else i.wireActive=e[r]};for(i.s();!(o=i.n()).done;){var s;c()}}catch(t){i.e(t)}finally{i.f()}}}catch(t){r.e(t)}finally{r.f()}}},{key:"removeEmptySteps",value:function(){var t,e=k(this.circuit.emptySteps);try{for(e.s();!(t=e.n()).done;)t.value.remove()}catch(t){e.e(t)}finally{e.f()}this.circuit.removeEmptyWire()}},{key:"paletteEl",get:function(){var t=document.getElementById("palette");return u.f.notNull(t),t}},{key:"newWriteDraggable",value:function(){var t=this.writableGateElOnPalette().cloneNode(!0);return t.classList.remove(Object(u.h)("draggable:type:palette")),t.classList.add(Object(u.h)("draggable:type:circuit")),new r.a(t)}},{key:"writableGateElOnPalette",value:function(){var t=this.paletteEl.getElementsByClassName(Object(u.h)("gate:write")).item(0);return u.f.notNull(t),t}}])&&E(e.prototype,n),i&&E(e,i),t}(),_=n(7),z=n(47),P=n.n(z),C=n(17),T=n(23),R=n.n(T),q=n(2);function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var D=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onUpdate=void 0,this.popup=void 0,this.currentAngle=void 0,this.currentAngleDenominator=void 0}var e,n,r;return e=t,(n=[{key:"show",value:function(t){if(!u.a.isMobile()){var e=this;this.popup=Object(C.b)(t,{allowHTML:!0,animation:!1,appendTo:document.body,arrow:C.c+C.c,content:this.popupHtml(t),delay:0,hideOnClick:!1,interactive:!0,theme:"qni",onShow:function(t){var n=t.reference,r=n.getAttribute("data-theta");e.input.value=r.replace(/π/g,"pi"),e.input.addEventListener("keydown",e.inputKeydown.bind(e));var o=_.a.from(Object(_.e)(r.replace(/π/g,"pi"),_.c)).real;e.currentAngleDenominator=e.angleDenominator(r),e.currentAngle=e.snappedAngle(o),e.createAngleSlider(n)},onHide:function(){if(e.isAngleSliderActive())return!1},onHidden:function(t){var n=t.reference;e.reduceInstructionAngle(n),e.destroyAngleSlider(),n.dispatchEvent(new Event("operation.update",{bubbles:!0})),t.destroy()}}),this.popup.show()}}},{key:"updateInstructionAngle",value:function(t,e){this.input.value=e,t.theta=e.replace(/pi/g,"π")}},{key:"reduceInstructionAngle",value:function(t){var e=this.beautifyFraction(t.theta.replace(/π/g,"pi"),!0);t.theta=e.replace(/pi/g,"π")}},{key:"snappedAngle",value:function(t){u.f.notNull(this.currentAngleDenominator);var e=Math.PI/this.currentAngleDenominator,n=Math.round(t/e);return this.beautifyFraction("".concat(n,"pi/").concat(this.currentAngleDenominator))}},{key:"beautifyFraction",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];R.a.REDUCE=n;var r=new R.a(t.replace(/(\d+)pi/g,"$1").replace(/pi/g,"1")),o=r.valueOf(),i=r.d;if(0===o)e="0";else if(o>2)e=1===i?"2pi":"".concat(2*i,"pi/").concat(i);else if(o<-2)e=1===i?"-2pi":"-".concat(2*i,"pi/").concat(i);else{var a=r.n,u=-1===r.s?"-":"",c=1===a?"".concat(u,"pi"):"".concat(u).concat(a,"pi");e=1===i?"".concat(c):"".concat(c,"/").concat(i)}return e}},{key:"originalValue",get:function(){var t=q.e.create(this.popupReferenceEl);if(Object(a.t)(t))return t.flag;if(Object(a.u)(t)&&!Object(a.x)(t)&&!Object(a.v)(t))return t.if;if(Object(a.x)(t))return t.theta;if(Object(a.v)(t))return t.phi;throw new Error("Should not reach here")}},{key:"popupHtml",value:function(t){u.f.notNull("phi");var e=document.getElementById("gate-popup--".concat("phi"));return u.f.notNull(e),e.innerHTML}},{key:"input",get:function(){u.f.notNull(this.popup);var t=this.popup.popper.getElementsByTagName("input").item(0);return u.f.notNull(t),t}},{key:"inputKeydown",value:function(t){if("Enter"===t.key){u.f.notNull(this.popup),this.popup.popper.classList.remove("gate-popup--error");var e=this.input.value;try{var n,r=this.popupReferenceEl;u.f.notNull(this.currentAngle),u.f.notNull(this.currentAngleDenominator);var o=e;if(this.angleNumerator(this.currentAngle)===this.angleNumerator(e)&&this.currentAngleDenominator!==this.angleDenominator(e)){var i=this.angleDenominator(e)/this.currentAngleDenominator;o="".concat(Math.round(i*this.angleNumerator(this.currentAngle)),"pi/").concat(this.angleDenominator(e))}this.currentAngleDenominator=this.angleDenominator(e),null===(n=this.angleSliderEl.noUiSlider)||void 0===n||n.set(this.radian(o)),r.theta=this.beautifyFraction(o,!1).replace(/pi/g,"π"),this.runCircuit()}catch(t){u.f.notNull(this.popup),this.popup.popper.classList.add("gate-popup--error")}}}},{key:"flag",set:function(t){var e=q.e.create(this.popupReferenceEl);t&&0!==t.trim().length?Object(a.t)(e)&&(e.flag=t):(Object(a.t)(e)&&(e.flag=null),Object(a.s)(e)&&(e.disabled=!1))}},{key:"if",set:function(t){var e=q.e.create(this.popupReferenceEl);t&&0!==t.trim().length?Object(a.u)(e)&&(e.if=t):(Object(a.u)(e)&&(e.if=null),Object(a.s)(e)&&(e.disabled=!1))}},{key:"runCircuit",value:function(){}},{key:"popupReferenceEl",get:function(){return u.f.notNull(this.popup),this.popup.reference}},{key:"editorElement",get:function(){var t=this.popupReferenceEl.closest(".editor");return u.f.notNull(t),t}},{key:"angleSliderEl",get:function(){var t,e=null===(t=this.popup)||void 0===t?void 0:t.popper.getElementsByClassName(Object(u.h)("angleSlider")).item(0);return u.f.notNull(e),e}},{key:"createAngleSlider",value:function(t){var e=this,n=this.angleSliderEl,r=_.a.from(Object(_.e)(t.theta.replace(/π/g,"pi"),_.c)).real;P.a.create(n,{range:{min:-2*Math.PI,max:2*Math.PI},start:r,pips:{mode:z.PipsMode.Positions,values:[0,25,50,75,100],filter:function(t){return 0===t?1:t%Math.PI?-1:1},format:{to:function(t){var e=t/Math.PI;return 0===e?"0":-1===e?"-π":1===e?"π":"".concat(e,"π")}}},cssPrefix:"".concat(Object(u.h)("angleSlider"),"-")}),n.classList.remove("hidden"),n.noUiSlider.on("update",(function(n){var r=e.snappedAngle(n[0]);e.currentAngle!==r&&(e.currentAngle=r,e.updateInstructionAngle(t,r),t.dispatchEvent(new Event("operation.change",{bubbles:!0})))}))}},{key:"destroyAngleSlider",value:function(){var t;null===(t=this.angleSliderEl.noUiSlider)||void 0===t||t.destroy()}},{key:"isAngleSliderActive",value:function(){var t;return null!==(null===(t=this.popup)||void 0===t?void 0:t.popper.getElementsByClassName(Object(u.h)("angleSlider:state:active")).item(0))}},{key:"radian",value:function(t){return new R.a(t.replace(/(\d+)pi/g,"$1").replace(/pi/g,"1")).valueOf()*Math.PI}},{key:"angleNumerator",value:function(t){R.a.REDUCE=!1;var e=new R.a(t.replace(/(\d+)pi/g,"$1").replace(/pi/g,"1"));return e.s*e.n}},{key:"angleDenominator",value:function(t){return R.a.REDUCE=!1,new R.a(t.replace(/π/g,"pi").replace(/(\d+)pi/g,"$1").replace(/pi/g,"1")).d}}])&&M(e.prototype,n),r&&M(e,r),t}();n(41)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));var r=n(10);function o(t,e){var n=!1;return function(){return n||(r.d.console.warn(e),n=!0),t.apply(this,arguments)}}function i(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return E}));n(31),n(30),n(33),n(32);var r=n(8);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,n,c,s=u(l);function l(){return o(this,l),s.apply(this,arguments)}return e=l,(n=[{key:"unsetInteract",value:function(){Object(r.a)(this.element).unset()}}])&&i(e.prototype,n),c&&i(e,c),l}(t)}var f=n(20),p=n(0);function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(i,t);var e,n,r,o=y(i);function i(){return d(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"active",set:function(t){this.setClassName("dropzone:state:active",t)}},{key:"draggableElement",value:function(){return Array.from(this.element.getElementsByClassName(Object(p.h)("draggable"))).filter((function(t){return!t.hasAttribute("data-draggable-source")&&!t.hasAttribute("data-draggable-shadow")}))[0]}},{key:"draggableSource",get:function(){var t=this.element.querySelector(".draggable[data-draggable-source]");return t?new f.f(t):null}},{key:"isEqualTo",value:function(t){return this.element===t.element}}])&&h(e.prototype,n),r&&h(e,r),i}(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=A(t);if(e){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(i,t);var e,n,r,o=k(i);function i(){return w(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"occupied",get:function(){return this.isClassNamed("dropzone:state:occupied")},set:function(t){this.setClassName("dropzone:state:occupied",t)}},{key:"empty",get:function(){return!this.occupied}}])&&x(e.prototype,n),r&&x(e,r),i}(t)}},function(t,e,n){var r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
 * @license Fraction.js v4.1.1 23/05/2021
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/!function(n){"use strict";var i={s:1,n:0,d:1};function a(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function n(){}return n.prototype=Error.prototype,e.prototype=new n,e}var u=h.DivisionByZero=a("DivisionByZero"),c=h.InvalidParameter=a("InvalidParameter");function s(t,e){return isNaN(t=parseInt(t,10))&&l(),t*e}function l(){throw new c}function f(t){for(var e={},n=t,r=2,o=4;o<=n;){for(;n%r==0;)n/=r,e[r]=(e[r]||0)+1;o+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var p=function(t,e){var n,r=0,a=1,c=1,f=0,p=0,d=0,h=1,b=1,y=0,v=1,m=1,g=1,w=1e7;if(null==t);else if(void 0!==e)c=(r=t)*(a=e);else switch(o(t)){case"object":"d"in t&&"n"in t?(r=t.n,a=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(a=t[1])):l(),c=r*a;break;case"number":if(t<0&&(c=t,t=-t),t%1==0)r=t;else if(t>0){for(t>=1&&(t/=b=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));v<=w&&g<=w;){if(t===(n=(y+m)/(v+g))){v+g<=w?(r=y+m,a=v+g):g>v?(r=m,a=g):(r=y,a=v);break}t>n?(y+=m,v+=g):(m+=y,g+=v),v>w?(r=m,a=g):(r=y,a=v)}r*=b}else(isNaN(t)||isNaN(e))&&(a=r=NaN);break;case"string":if(null===(v=t.match(/\d+|./g))&&l(),"-"===v[y]?(c=-1,y++):"+"===v[y]&&y++,v.length===y+1?p=s(v[y++],c):"."===v[y+1]||"."===v[y]?("."!==v[y]&&(f=s(v[y++],c)),(++y+1===v.length||"("===v[y+1]&&")"===v[y+3]||"'"===v[y+1]&&"'"===v[y+3])&&(p=s(v[y],c),h=Math.pow(10,v[y].length),y++),("("===v[y]&&")"===v[y+2]||"'"===v[y]&&"'"===v[y+2])&&(d=s(v[y+1],c),b=Math.pow(10,v[y+1].length)-1,y+=3)):"/"===v[y+1]||":"===v[y+1]?(p=s(v[y],c),h=s(v[y+2],1),y+=3):"/"===v[y+3]&&" "===v[y+1]&&(f=s(v[y],c),p=s(v[y+2],c),h=s(v[y+4],1),y+=5),v.length<=y){c=r=d+(a=h*b)*f+b*p;break}default:l()}if(0===a)throw new u;i.s=c<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(a)};function d(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function h(t,e){if(!(this instanceof h))return new h(t,e);p(t,e),t=h.REDUCE?d(i.d,i.n):1,this.s=i.s,this.n=i.n/t,this.d=i.d/t}h.REDUCE=1,h.prototype={s:1,n:0,d:1,abs:function(){return new h(this.n,this.d)},neg:function(){return new h(-this.s*this.n,this.d)},add:function(t,e){return p(t,e),new h(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(t,e){return p(t,e),new h(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(t,e){return p(t,e),new h(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(t,e){return p(t,e),new h(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new h(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new h(NaN):void 0===t?new h(this.s*this.n%this.d,1):(p(t,e),0===i.n&&0===this.d&&h(0,0),new h(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(t,e){return p(t,e),new h(d(i.n,this.n)*d(i.d,this.d),i.d*this.d)},lcm:function(t,e){return p(t,e),0===i.n&&0===this.n?new h:new h(i.n*this.n,d(i.n,this.n)*d(i.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new h(this.s*this.d,this.n)},pow:function(t,e){if(p(t,e),1===i.d)return i.s<0?new h(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):new h(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var n=f(this.n),r=f(this.d),o=1,a=1;for(var u in n)if("1"!==u){if("0"===u){o=0;break}if(n[u]*=i.n,n[u]%i.d!=0)return null;n[u]/=i.d,o*=Math.pow(u,n[u])}for(var u in r)if("1"!==u){if(r[u]*=i.n,r[u]%i.d!=0)return null;r[u]/=i.d,a*=Math.pow(u,r[u])}return i.s<0?new h(a,o):new h(o,a)},equals:function(t,e){return p(t,e),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(t,e){p(t,e);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();function n(t){return 1===t.length?new h(t[0]):n(t.slice(1)).inverse().add(t[0])}t=t||.001;for(var r=0;r<e.length;r++){var o=n(e.slice(0,r+1));if(o.sub(this.abs()).abs().valueOf()<t)return o.mul(this.s)}return this},divisible:function(t,e){return p(t,e),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,o=this.d;return this.s<0&&(n+="-"),1===o?n+=r:(t&&(e=Math.floor(r/o))>0&&(n+=e,n+=" ",r%=o),n+=r,n+="/",n+=o),n},toLatex:function(t){var e,n="",r=this.n,o=this.d;return this.s<0&&(n+="-"),1===o?n+=r:(t&&(e=Math.floor(r/o))>0&&(n+=e,r%=o),n+="\\frac{",n+=r,n+="}{",n+=o,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";h.REDUCE||(n/=e=d(n,r),r/=e),t=t||15;var o=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,r),i=function(t,e,n){for(var r=1,o=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),i=0;i<300;i++){if(r===o)return i;r=10*r%e,o=10*o%e}return 0}(0,r,o),a=-1===this.s?"-":"";if(a+=n/r|0,n%=r,(n*=10)&&(a+="."),o){for(var u=i;u--;)a+=n/r|0,n%=r,n*=10;a+="(";for(u=o;u--;)a+=n/r|0,n%=r,n*=10;a+=")"}else for(u=t;n&&u--;)a+=n/r|0,n%=r,n*=10;return a}},void 0===(r=function(){return h}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw a}}}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return c}));var u=Object.prototype.toString.call({});function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s(t)||l(t,e)||f(t,e)}function s(t){return null===t?"null":void 0===t?"undefined":"string"==typeof t?'"'.concat(t,'"'):"number"==typeof t?String(t):void 0}function l(t,e){if(0===e)return"!recursion-limit!";if(t instanceof Map)return function(t,e){var n,i=[],a=r(t.entries());try{for(a.s();!(n=a.n()).done;){var u=o(n.value,2),s=u[0],l=u[1];if(i.length>1e3){i.push("[...]");break}var f=c(s,e-1),p=c(l,e-1);i.push("".concat(f,": ").concat(p))}}catch(t){a.e(t)}finally{a.f()}return"Map{".concat(i.join(", "),"}")}(t,e);if(t instanceof Set)return function(t,e){var n,o=[],i=r(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(o.length>1e3){o.push("[...]");break}o.push(c(a,e-1))}}catch(t){i.e(t)}finally{i.f()}return"Set{".concat(o.join(", "),"}")}(t,e);return function(t){return void 0!==t[Symbol.iterator]}(t)?function(t,e){var n,o=[],i=r(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(o.length>1e3){o.push("[...]");break}o.push(c(a,e-1))}}catch(t){i.e(t)}finally{i.f()}var u=Array.isArray(t)?"":t.constructor.name;return"".concat(u,"[").concat(o.join(", "),"]")}(t,e):void 0}function f(t,e){var n=String(t);return n!==u?n:function(t,e){var n=[];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(n.length>1e3){n.push("[...]");break}var o=t[r],i=c(r,e-1),a=c(o,e-1);n.push("".concat(i,": ").concat(a))}var u=t.constructor.name,s=u==={}.constructor.name?"":"(Type: ".concat(u,")");return"".concat(s,"{").concat(n.join(", "),"}")}(t,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(13),o=n(1);function i(t){var e={};for(var n in t){var a=t[n];o.a.plainObject(a)?e[n]=i(a):o.a.array(a)?e[n]=r.d(a):e[n]=a}return e}},function(t,e,n){"use strict";e.a=function(t,e){return Math.sqrt(t*t+e*e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(5),o=n(1);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e,n){if(n=n||{},o.a.string(t)&&-1!==t.search(" ")&&(t=c(t)),o.a.array(t))return t.reduce((function(t,o){return Object(r.a)(t,u(o,e,n))}),n);if(o.a.object(t)&&(e=t,t=""),o.a.func(e))n[t]=n[t]||[],n[t].push(e);else if(o.a.array(e)){var a,s=i(e);try{for(s.s();!(a=s.n()).done;){var l=a.value;u(t,l,n)}}catch(t){s.e(t)}finally{s.f()}}else if(o.a.object(e))for(var f in e)u(c(f).map((function(e){return"".concat(t).concat(e)})),e[f],n);return n}function c(t){return t.trim().split(/ +/)}},function(t,e,n){"use strict";var r=n(16);e.a=function(t,e,n){var o=t.options[n],i=o&&o.origin||t.options.origin,a=Object(r.c)(i,t,e,[t&&e]);return Object(r.b)(a)||{x:0,y:0}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(0);function r(t,e){return t&&e in t}},function(t,e,n){"use strict";var r=n(8),o=n(44);r.a.use(o.a)},function(t,e,n){"use strict";var r=n(8),o=n(6),i=n(5),a=n(1),u=n(21);function c(t){return a.a.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function s(t){return a.a.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}var l={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(e,n,r,o){var i=function(t,e,n,r,o){var i=t.getRect(r),a={action:null,interactable:t,interaction:n,element:r,rect:i,buttons:e.buttons||{0:1,1:4,3:8,4:16}[e.button]};return o.fire("auto-start:check",a),a.action}(this,n,r,o,t);return this.options.actionChecker?this.options.actionChecker(e,n,i,this,o,r):i},e.prototype.ignoreFrom=Object(u.b)((function(t){return this._backCompatOption("ignoreFrom",t)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=Object(u.b)((function(t){return this._backCompatOption("allowFrom",t)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=s,e.prototype.styleCursor=c}};function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e,n,r,o){return e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&v(e,n,t,o)?t:null}function h(t,e,n,r,o,i,a){for(var u=0,c=r.length;u<c;u++){var s=r[u],l=o[u],f=s.getAction(e,n,t,l);if(f){var p=d(f,s,l,i,a);if(p)return{action:p,interactable:s,element:l}}}return{action:null,interactable:null,element:null}}function b(t,e,n,r,i){var u=[],c=[],s=r;function l(t){u.push(t),c.push(s)}for(;a.a.element(s);){u=[],c=[],i.interactables.forEachMatch(s,l);var f=h(t,e,n,u,c,r,i);if(f.action&&!f.interactable.options[f.action.name].manualStart)return f;s=o.i(s)}return{action:null,interactable:null,element:null}}function y(t,e,n){var r=e.action,o=e.interactable,i=e.element;r=r||{name:null},t.interactable=o,t.element=i,Object(u.a)(t.prepared,r),t.rect=o&&r.name?o.getRect(i):null,w(t,n),n.fire("autoStart:prepared",{interaction:t})}function v(t,e,n,r){var o=t.options,i=o[n.name].max,a=o[n.name].maxPerElement,u=r.autoStart.maxInteractions,c=0,s=0,l=0;if(!(i&&a&&u))return!1;var p,d=f(r.interactions.list);try{for(d.s();!(p=d.n()).done;){var h=p.value,b=h.prepared.name;if(h.interacting()){if(++c>=u)return!1;if(h.interactable===t){if((s+=b===n.name?1:0)>=i)return!1;if(h.element===e&&(l++,b===n.name&&l>=a))return!1}}}}catch(t){d.e(t)}finally{d.f()}return u>0}function m(t,e){return a.a.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function g(t,e,n){var r=n.autoStart.cursorElement;r&&r!==t&&(r.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function w(t,e){var n=t.interactable,r=t.element,o=t.prepared;if("mouse"===t.pointerType&&n&&n.options.styleCursor){var i="";if(o.name){var u=n.options[o.name].cursorChecker;i=a.a.func(u)?u(o,n,r,t._interacting):e.actions.map[o.name].getCursor(o)}g(t.element,i||"",e)}else e.autoStart.cursorElement&&g(e.autoStart.cursorElement,"",e)}var x={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin(l),n.base.actionChecker=null,n.base.styleCursor=!0,Object(i.a)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(e){return m(e,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:v,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,r=t.pointer,o=t.event,i=t.eventTarget;n.interacting()||y(n,b(n,r,o,i,e),e)},"interactions:move":function(t,e){(function(t,e){var n=t.interaction,r=t.pointer,o=t.event,i=t.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||y(n,b(n,r,o,i,e),e)})(t,e),function(t,e){var n=t.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){e.fire("autoStart:before-start",t);var r=n.interactable,o=n.prepared.name;o&&r&&(r.options[o].manualStart||!v(r,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,r,n.element),w(n,e)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,r=n.interactable;r&&r.options.styleCursor&&g(n.element,"",e)}},maxInteractions:m,withinInteractionLimit:v,validateAction:d},O={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,r=t.eventTarget,i=t.dx,u=t.dy;if("drag"===n.prepared.name){var c=Math.abs(i),s=Math.abs(u),l=n.interactable.options.drag,f=l.startAxis,p=c>s?"x":c<s?"y":"xy";if(n.prepared.axis="start"===l.lockAxis?p[0]:l.lockAxis,"xy"!==p&&"xy"!==f&&f!==p){n.prepared.name=null;for(var d=r,h=function(t){if(t!==n.interactable){var o=n.interactable.options.drag;if(!o.manualStart&&t.testIgnoreAllow(o,d,r)){var i=t.getAction(n.downPointer,n.downEvent,n,d);if(i&&"drag"===i.name&&function(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t}(p,t)&&x.validateAction(i,t,d,r,e))return t}}};a.a.element(d);){var b=e.interactables.forEachMatch(d,h);if(b){n.prepared.name="drag",n.interactable=b,n.element=d;break}d=Object(o.i)(d)}}}}}};function k(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}var j={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(x),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=k(e);n>0&&(e.autoStartHoldTimer=setTimeout((function(){e.start(e.prepared,e.interactable,e.element)}),n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;k(e)>0&&(e.prepared.name=null)}},getHoldDuration:k},A={id:"auto-start",install:function(t){t.usePlugin(x),t.usePlugin(j),t.usePlugin(O)}};r.a.use(A)},function(t,e,n){"use strict";var r,o,i=n(8);(o=r||(r={})).touchAction="touchAction",o.boxSizing="boxSizing",o.noListeners="noListeners",r.touchAction,r.boxSizing,r.noListeners;var a={id:"dev-tools",install:function(){}};i.a.use(a)},function(t,e,n){"use strict";var r=n(8),o=n(6),i=n(5),a=n(28),u=n(1),c=n(27),s=n(9),l=n(44),f=n(43),p=n(13);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(i,t);var e,n,r,o=y(i);function i(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e._interaction)).target=void 0,r.dropzone=void 0,r.dragEvent=void 0,r.relatedTarget=void 0,r.draggable=void 0,r.timeStamp=void 0,r.propagationStopped=!1,r.immediatePropagationStopped=!1;var a="dragleave"===n?t.prev:t.cur,u=a.element,c=a.dropzone;return r.type=n,r.target=u,r.currentTarget=u,r.dropzone=c,r.dragEvent=e,r.relatedTarget=e.target,r.draggable=e.interactable,r.timeStamp=e.timeStamp,r}return e=i,(n=[{key:"reject",value:function(){var t=this,e=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&e.cur.dropzone===this.dropzone&&e.cur.element===this.target)if(e.prev.dropzone=this.dropzone,e.prev.element=this.target,e.rejected=!0,e.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=e.activeDrops,r=p.c(n,(function(e){var n=e.dropzone,r=e.element;return n===t.dropzone&&r===t.target}));e.activeDrops.splice(r,1);var o=new i(e,this.dragEvent,"dropdeactivate");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o)}else this.dropzone.fire(new i(e,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&h(e.prototype,n),r&&h(e,r),i}(f.a);function w(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O(t,e){var n,r=w(t.slice());try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.dropzone,a=o.element;e.dropzone=i,e.target=a,i.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}catch(t){r.e(t)}finally{r.f()}}function k(t,e){var n,r=function(t,e){var n,r=[],i=w(t.interactables.list);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.options.drop.enabled){var c=a.options.drop.accept;if(!(u.a.element(c)&&c!==e||u.a.string(c)&&!o.f(e,c)||u.a.func(c)&&!c({dropzone:a,draggableElement:e}))){var s,l=w(u.a.string(a.target)?a._context.querySelectorAll(a.target):u.a.array(a.target)?a.target:[a.target]);try{for(l.s();!(s=l.n()).done;){var f=s.value;f!==e&&r.push({dropzone:a,element:f,rect:a.getRect(f)})}}catch(t){l.e(t)}finally{l.f()}}}}}catch(t){i.e(t)}finally{i.f()}return r}(t,e),i=w(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.rect=a.dropzone.getRect(a.element)}}catch(t){i.e(t)}finally{i.f()}return r}function j(t,e,n){var r,i=t.dropState,a=t.interactable,u=t.element,c=[],s=w(i.activeDrops);try{for(s.s();!(r=s.n()).done;){var l=r.value,f=l.dropzone,p=l.element,d=l.rect;c.push(f.dropCheck(e,n,a,u,p,d)?p:null)}}catch(t){s.e(t)}finally{s.f()}var h=o.e(c);return i.activeDrops[h]||null}function A(t,e,n){var r=t.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(o.activate=new g(r,n,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),"dragend"===n.type&&(o.deactivate=new g(r,n,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(o.leave=new g(r,n,"dragleave"),n.dragLeave=o.leave.target=r.prev.element,n.prevDropzone=o.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(o.enter=new g(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(o.drop=new g(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(o.move=new g(r,n,"dropmove"),o.move.dragmove=n,n.dropzone=r.cur.dropzone)),o}function E(t,e){var n=t.dropState,r=n.activeDrops,o=n.cur,i=n.prev;e.leave&&i.dropzone.fire(e.leave),e.enter&&o.dropzone.fire(e.enter),e.move&&o.dropzone.fire(e.move),e.drop&&o.dropzone.fire(e.drop),e.deactivate&&O(r,e.deactivate),n.prev.dropzone=o.dropzone,n.prev.element=o.element}function S(t,e){var n=t.interaction,r=t.iEvent,o=t.event;if("dragmove"===r.type||"dragend"===r.type){var i=n.dropState;e.dynamicDrop&&(i.activeDrops=k(e,n.element));var a=r,u=j(n,a,o);i.rejected=i.rejected&&!!u&&u.dropzone===i.cur.dropzone&&u.element===i.cur.element,i.cur.dropzone=u&&u.dropzone,i.cur.element=u&&u.element,i.events=A(n,0,a)}}var _={id:"actions/drop",install:function(t){var e=t.actions,n=t.interactStatic,r=t.Interactable,o=t.defaults;t.usePlugin(l.a),r.prototype.dropzone=function(t){return function(t,e){if(u.a.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){var n=Object(c.a)(e.listeners),r=Object.keys(n).reduce((function(t,e){return t[/^(enter|leave)/.test(e)?"drag"+e:/^(activate|deactivate|move)/.test(e)?"drop"+e:e]=n[e],t}),{});t.off(t.options.drop.listeners),t.on(r),t.options.drop.listeners=r}return u.a.func(e.ondrop)&&t.on("drop",e.ondrop),u.a.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),u.a.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),u.a.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),u.a.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),u.a.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:u.a.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return u.a.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}(this,t)},r.prototype.dropCheck=function(t,e,n,r,o,i){return function(t,e,n,r,o,i,c){var l=!1;if(!(c=c||t.getRect(i)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,l,t,i,r,o);var f=t.options.drop.overlap;if("pointer"===f){var p=Object(a.a)(r,o,"drag"),d=s.c(e);d.x+=p.x,d.y+=p.y;var h=d.x>c.left&&d.x<c.right,b=d.y>c.top&&d.y<c.bottom;l=h&&b}var y=r.getRect(o);if(y&&"center"===f){var v=y.left+y.width/2,m=y.top+y.height/2;l=v>=c.left&&v<=c.right&&m>=c.top&&m<=c.bottom}return y&&u.a.number(f)&&(l=Math.max(0,Math.min(c.right,y.right)-Math.max(c.left,y.left))*Math.max(0,Math.min(c.bottom,y.bottom)-Math.max(c.top,y.top))/(y.width*y.height)>=f),t.options.drop.checker&&(l=t.options.drop.checker(e,n,l,t,i,r,o)),l}(this,t,e,n,r,o,i)},n.dynamicDrop=function(e){return u.a.bool(e)?(t.dynamicDrop=e,n):t.dynamicDrop},Object(i.a)(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,o.actions.drop=_.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;"drag"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,r=(t.event,t.iEvent);if("drag"===n.prepared.name){var o=n.dropState;o.activeDrops=null,o.events=null,o.activeDrops=k(e,n.element),o.events=A(n,0,r),o.events.activate&&(O(o.activeDrops,o.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":S,"interactions:after-action-move":function(t,e){var n=t.interaction,r=t.iEvent;"drag"===n.prepared.name&&(E(n,n.dropState.events),e.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:action-end":function(t,e){if("drag"===t.interaction.prepared.name){var n=t.interaction,r=t.iEvent;S(t,e),E(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:k,getDrop:j,getDropEvents:A,fireDropEvents:E,defaults:{enabled:!1,accept:null,overlap:"pointer"}},z=_;r.a.use(z)},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(3),o=n(0),i=n(14);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(h,t);var e,n,c,s=d(h);function h(){return l(this,h),s.apply(this,arguments)}return e=h,(n=[{key:"index",get:function(){return Array.from(this.circuitEl.getElementsByClassName(h.elementClassName)).indexOf(this.element)}},{key:"active",get:function(){return this.circuitBreakpointEl.classList.contains(Object(o.h)("circuitBreakpoint:state:active"))},set:function(t){var e=this.circuitBreakpointEl.classList,n=Object(o.h)("circuitBreakpoint:state:active");t?e.add(n):e.remove(n)}},{key:"empty",get:function(){return 0!==this.dropzones.length&&0===this.dropzones.filter((function(t){return t.occupied})).length}},{key:"done",get:function(){return this.isClassNamed("circuitStep:state:done")},set:function(t){this.setClassName("circuitStep:state:done",t)}},{key:"shadow",get:function(){return this.isClassNamed("circuitStep:type:shadow")},set:function(t){this.setClassName("circuitStep:type:shadow",t)}},{key:"instructions",get:function(){return Array.from(this.bodyEl.children).map((function(t){if(t.classList.contains(Object(o.h)("dropzone:type:circuit")))return new i.a(t).instruction;if(t.classList.contains(Object(o.h)("display:qubitLabel")))return new r.g(t);throw new Error("unknown element")}))}},{key:"dropzones",get:function(){return Array.from(this.element.getElementsByClassName(Object(o.h)("dropzone:type:circuit"))).map((function(t){return new i.a(t)}))}},{key:"childElements",get:function(){return Array.from(this.bodyEl.children)}},{key:"appendChild",value:function(t){this.bodyEl.appendChild(t)}},{key:"circuitBlock",value:function(){return this.element.closest(".".concat(Object(o.h)("circuitBlock")))}},{key:"toJson",value:function(){var t=this.instructions.map((function(t){return t.toJson()})).join(",");return"[".concat(t,"]")}},{key:"updateGateConnections",value:function(){this.resetGateConnections(),this.updateSwaps(),this.updateCphases(),this.updateControls()}},{key:"remove",value:function(){if(this.isInCircuitBlockDivider&&this.shadow||!this.isInCircuitBlockDivider){var t,e=u(this.dropzones);try{for(e.s();!(t=e.n()).done;)t.value.unsetInteract()}catch(t){e.e(t)}finally{e.f()}this.removeElement()}}},{key:"prependShadow",value:function(t){var e,n=this.shadowSourceElement.cloneNode(!0);n.classList.remove(Object(o.h)("circuitStep:type:shadowSource")),n.classList.add(Object(o.h)("circuitStep:type:shadow"));var r=new h(n);null===(e=this.element.parentNode)||void 0===e||e.insertBefore(r.element,this.element);var i,a=u(r.dropzones);try{for(a.s();!(i=a.n()).done;)i.value.setInteract(t)}catch(t){a.e(t)}finally{a.f()}}},{key:"isInCircuitBlockDivider",get:function(){return!!this.element.closest(".circuit-block-divider")}},{key:"resetGateConnections",value:function(){var t,e=u(this.dropzones);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.instruction instanceof r.d?(n.disconnectFromLowerBit(),n.disconnectFromUpperBit()):(Object(r.r)(n.instruction)&&(n.instruction.controls=[]),Object(r.w)(n.instruction)&&(n.instruction.targets=[]),Object(r.q)(n.instruction)&&n.instruction.disconnectFromAll())}}catch(t){e.e(t)}finally{e.f()}}},{key:"updateSwaps",value:function(){var t,e=this.instructions.filter((function(t){return t instanceof r.l})),n=e.map((function(t){return t.bit})).sort(),o=u(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.connectWith(n),2===n.length?(i.targets=n,i.disabled=!1,this.updateIGateConnections(n)):(i.targets=[],i.disabled=!0)}}catch(t){o.e(t)}finally{o.f()}}},{key:"updateCphases",value:function(){var t,e=this,n=this.instructions.filter((function(t){return t instanceof r.f})),o=u(n);try{var i=function(){var r=t.value,o=n.filter((function(t){return t.phi===r.phi})).map((function(t){return t.bit})).sort();2===o.length?(r.connectWith(o),r.targets=o,e.updateIGateConnections(o)):(r.connectWith([]),r.targets=[])};for(o.s();!(t=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}}},{key:"updateControls",value:function(){var t=this.gatesOf(r.b),e=this.controllableGates,n=function(t){return t.bit},o=t.map(n),i=e.map(n);if(0===e.length)if(t.length>=2){var a,c=u(t);try{for(c.s();!(a=c.n()).done;){var s=a.value;s.targets=o,s.connectWith(o),s.disabled=!1}}catch(t){c.e(t)}finally{c.f()}this.updateIGateConnections(o)}else{var l,f=u(t);try{for(f.s();!(l=f.n()).done;){var p=l.value;p.targets=[],p.connectWith([]),p.disabled=!0}}catch(t){f.e(t)}finally{f.f()}}else{var d,h=u(t);try{for(h.s();!(d=h.n()).done;){var b=d.value;b.targets=i,b.connectWith(o.concat(i)),b.disabled=!1}}catch(t){h.e(t)}finally{h.f()}this.updateControlledUConnections(this.gatesOf(r.n),o,i),this.updateControlledUConnections(this.gatesOf(r.o),o,i),this.updateControlledUConnections(this.gatesOf(r.p),o,i),this.updateControlledUConnections(this.gatesOf(r.h),o,i),this.updateControlledUConnections(this.gatesOf(r.c),o,i),this.updateControlledUConnections(this.gatesOf(r.l),o,i),this.updateControlledUConnections(this.gatesOf(r.f),o,i),this.updateControlledUConnections(this.gatesOf(r.i),o,i),this.updateControlledUConnections(this.gatesOf(r.j),o,i),this.updateControlledUConnections(this.gatesOf(r.k),o,i),o.length>0&&this.updateIGateConnections(o.concat(i))}}},{key:"gatesOf",value:function(t){return this.instructions.filter((function(e){return e instanceof t}))}},{key:"updateControlledUConnections",value:function(t,e,n){if(0!==e.length){var r,o=u(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.controls=e,i.connectWith(e.concat(n))}}catch(t){o.e(t)}finally{o.f()}}}},{key:"updateIGateConnections",value:function(t){var e,n=t.sort(),o=u(this.dropzones.entries());try{for(o.s();!(e=o.n()).done;){var i=a(e.value,2),c=i[0],s=i[1];s.instruction instanceof r.d&&n[0]<c&&c<n[n.length-1]?(s.connectWithLowerBit(),s.connectWithUpperBit()):(s.disconnectFromLowerBit(),s.disconnectFromUpperBit())}}catch(t){o.e(t)}finally{o.f()}}},{key:"controllableGates",get:function(){return this.instructions.filter((function(t){return"controls"in t}))}},{key:"circuitEl",get:function(){var t=document.getElementById("circuit");return o.f.notNull(t),t}},{key:"bodyEl",get:function(){var t=this.element.querySelector(".".concat(Object(o.h)("circuitStep:body")));return o.f.notNull(t),t}},{key:"circuitBreakpointEl",get:function(){var t=this.element.querySelector(".".concat(Object(o.h)("circuitBreakpoint")));return o.f.notNull(t),t}},{key:"shadowSourceElement",get:function(){var t=this.circuitEl.querySelector(".".concat(Object(o.h)("circuitStep:type:shadowSource")));return o.f.notNull(t),t}}])&&f(e.prototype,n),c&&f(e,c),h}(n(18).a);y.elementClassName=Object(o.h)("circuitStep")},function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return v}));var r=n(4),o=n.n(r),i=n(38),a=n(24),u=n(29);function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){u=!0,i=t})),f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d={if_same_instance_as_this_then_throw:!0},h={not_a_normal_value:!0},b=function(t,e,n){if(t!==h)return t;if(e===d)throw new Error(n);return e},y=function(){function t(e){var n,r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(f(this,t),this._iterable=void 0,e instanceof t)n=e._iterable,r=e[Symbol.iterator];else if(o)n=l({},Symbol.iterator,e),r=e;else{if(!this.isIterable(e))throw new Error("Not iterable: ".concat(Object(a.a)(e)));n=e,r=e[Symbol.iterator].bind(e)}this._iterable=n,this[Symbol.iterator]=r}var e,n,r;return e=t,r=[{key:"fromGenerator",value:function(e){return new t(e,!0)}},{key:"range",value:function(e){if(!Number.isInteger(e)||e<0)throw new i.a("bad count",{count:e});return t.fromGenerator(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e)){t.next=7;break}return t.next=4,n;case 4:n++,t.next=1;break;case 7:case"end":return t.stop()}}),t)})))}},{key:"naturals",value:function(){return t.fromGenerator(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:return t.next=4,e;case 4:e++,t.next=1;break;case 7:case"end":return t.stop()}}),t)})))}},{key:"repeat",value:function(e,n){if(n<0)throw new Error("needed repeatCount >= 0");return t.fromGenerator(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n)){t.next=7;break}return t.next=4,e;case 4:r++,t.next=1;break;case 7:case"end":return t.stop()}}),t)})))}}],(n=[{key:"isIterable",value:function(t){return"string"==typeof t||"object"==typeof t&&null!==t&&Symbol.iterator in t}},{key:"isEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return t===e};if(!this.isIterable(t))return!1;if(t===this)return!0;var n,r=t[Symbol.iterator](),o=c(this._iterable);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=r.next();if(a.done||!e(i,a.value))return!1}}catch(t){o.e(t)}finally{o.f()}return r.next().done}},{key:"toArray",value:function(){return Array.from(this._iterable)}},{key:"toFloat32Array",value:function(){var t=this.tryPeekCount();if(void 0===t)return new Float32Array(this.toArray());var e,n=new Float32Array(t),r=0,o=c(this._iterable);try{for(o.s();!(e=o.n()).done;){var i=e.value;n[r++]=i}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"toSet",value:function(){return new Set(this._iterable)}},{key:"join",value:function(t){return this.toArray().join(t)}},{key:"toString",value:function(){return"Seq[".concat(this.join(", "),"]")}},{key:"solidify",value:function(){var e=[Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array];if(Array.isArray(this._iterable))return this;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(this._iterable instanceof o)return this}return new t(this.toArray())}},{key:"map",value:function(e){var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){var r,i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=c(n),t.prev=1,r.s();case 3:if((i=r.n()).done){t.next=9;break}return a=i.value,t.next=7,e(a);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),r.e(t.t0);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))}},{key:"mapWithIndex",value:function(e){var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){var r,i,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0,i=c(n),t.prev=2,i.s();case 4:if((a=i.n()).done){t.next=11;break}return u=a.value,t.next=8,e(u,r);case 8:r+=1;case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),i.e(t.t0);case 16:return t.prev=16,i.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})))}},{key:"flatMap",value:function(e){var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){var r,i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=c(n),t.prev=1,r.s();case 3:if((i=r.n()).done){t.next=8;break}return a=i.value,t.delegateYield(e(a),"t0",6);case 6:t.next=3;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),r.e(t.t1);case 13:return t.prev=13,r.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})))}},{key:"filter",value:function(e){var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){var r,i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=c(n),t.prev=1,r.s();case 3:if((i=r.n()).done){t.next=10;break}if(a=i.value,!e(a)){t.next=8;break}return t.next=8,a;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))}},{key:"filterWithIndex",value:function(e){var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){var r,i,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0,i=c(n),t.prev=2,i.s();case 4:if((a=i.n()).done){t.next=12;break}if(u=a.value,!e(u,r)){t.next=9;break}return t.next=9,u;case 9:r++;case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),i.e(t.t0);case 17:return t.prev=17,i.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[2,14,17,20]])})))}},{key:"fold",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,r=h,o=c(this._iterable);try{for(o.s();!(e=o.n()).done;){var i=e.value;r=r===h?i:t(r,i)}}catch(t){o.e(t)}finally{o.f()}return b(r,n,"Folded empty sequence without providing an alternative result.")}},{key:"aggregate",value:function(t,e){var n,r=t,o=c(this._iterable);try{for(o.s();!(n=o.n()).done;)r=e(r,n.value)}catch(t){o.e(t)}finally{o.f()}return r}},{key:"zip",value:function(e,n){var r=this._iterable;return t.fromGenerator(o.a.mark((function t(){var i,a,u,s,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e[Symbol.iterator](),a=c(r),t.prev=2,a.s();case 4:if((u=a.n()).done){t.next=13;break}if(s=u.value,!(l=i.next()).done){t.next=9;break}return t.abrupt("break",13);case 9:return t.next=11,n(s,l.value);case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),a.e(t.t0);case 18:return t.prev=18,a.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})))}},{key:"max",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.fold((function(t,e){return t<e?e:t}),t)}},{key:"min",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.fold((function(t,e){return t<e?t:e}),t)}},{key:"maxBy",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t,e){return t<e},o=h,i=h,a=c(this._iterable);try{for(a.s();!(e=a.n()).done;){var u=e.value;if(o!==h){i===h&&(i=t(o));var s=t(u);r(i,s)&&(o=u,i=s)}else o=u}}catch(t){a.e(t)}finally{a.f()}return b(o,n,"Can't maxBy an empty sequence.")}},{key:"minBy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t,e){return t<e};return this.maxBy(t,e,(function(t,e){return n(e,t)}))}},{key:"any",value:function(t){var e,n=c(this._iterable);try{for(n.s();!(e=n.n()).done;)if(t(e.value))return!0}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"every",value:function(t){return!this.any((function(e){return!t(e)}))}},{key:"contains",value:function(t){return this.any((function(e){return e===t}))}},{key:"sum",value:function(){var t,e=void 0,n=c(this._iterable);try{for(n.s();!(t=n.n()).done;){var r=t.value;e=this.add(r,e)}}catch(t){n.e(t)}finally{n.f()}return e||0}},{key:"add",value:function(t,e){if("number"==typeof t){if(void 0===e)return t;if("number"==typeof e)return e+t}if("string"==typeof t){if(void 0===e)return t;if("string"==typeof e)return"".concat(e).concat(t)}throw new Error("Unsupported add type: ".concat(typeof t))}},{key:"product",value:function(){return this.fold((function(t,e){return t*e}),1)}},{key:"scan",value:function(e,n){var r=this._iterable;return t.fromGenerator(o.a.mark((function t(){var i,a,u,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e,t.next=3,i;case 3:a=c(r),t.prev=4,a.s();case 6:if((u=a.n()).done){t.next=13;break}return s=u.value,i=n(i,s),t.next=11,i;case 11:t.next=6;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),a.e(t.t0);case 18:return t.prev=18,a.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))}},{key:"reverse",value:function(){return new t(this.toArray().reverse())}},{key:"flatten",value:function(){var e=this._iterable;return t.fromGenerator(o.a.mark((function t(){var n,r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=c(e),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=8;break}return i=r.value,t.delegateYield(i,"t0",6);case 6:t.next=3;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),n.e(t.t1);case 13:return t.prev=13,n.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})))}},{key:"concat",value:function(e){var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(n,"t0",1);case 1:return t.delegateYield(e,"t1",2);case 2:case"end":return t.stop()}}),t)})))}},{key:"withOverlayedItem",value:function(e,n){if(e<0)throw new Error("needed index >= 0");var r=this;return t.fromGenerator(o.a.mark((function t(){var i,a,u,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(void 0!==r.tryPeekCount()&&e>=r.tryPeekCount())){t.next=2;break}throw new Error("needed index <= count");case 2:i=0,a=c(r._iterable),t.prev=4,a.s();case 6:if((u=a.n()).done){t.next=13;break}return s=u.value,t.next=10,i===e?n:s;case 10:i++;case 11:t.next=6;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),a.e(t.t0);case 18:return t.prev=18,a.f(),t.finish(18);case 21:if(!(i<=e)){t.next=23;break}throw new Error("sequence ended before overlay [withOverlayedItem(${index}, ${overlayedItem})]");case 23:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))}},{key:"withTransformedItem",value:function(e,n){if(e<0)throw new Error("needed index >= 0");var r=this;return t.fromGenerator(o.a.mark((function t(){var i,a,u,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(void 0!==r.tryPeekCount()&&e>=r.tryPeekCount())){t.next=2;break}throw new Error("needed index <= count");case 2:i=0,a=c(r._iterable),t.prev=4,a.s();case 6:if((u=a.n()).done){t.next=13;break}return s=u.value,t.next=10,i===e?n(s):s;case 10:i++;case 11:t.next=6;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),a.e(t.t0);case 18:return t.prev=18,a.f(),t.finish(18);case 21:if(!(i<=e)){t.next=23;break}throw new Error("sequence ended before transformation [withTransformedItem(${index}, ${itemTransformation})]");case 23:case"end":return t.stop()}}),t,null,[[4,15,18,21]])})))}},{key:"withInsertedItem",value:function(e,n){if(e<0)throw new Error("needed index >= 0");var r=this;return t.fromGenerator(o.a.mark((function t(){var i,a,u,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(void 0!==r.tryPeekCount()&&e>r.tryPeekCount())){t.next=2;break}throw new Error("needed index <= count");case 2:i=0,a=c(r._iterable),t.prev=4,a.s();case 6:if((u=a.n()).done){t.next=16;break}if(s=u.value,i!==e){t.next=11;break}return t.next=11,n;case 11:return i++,t.next=14,s;case 14:t.next=6;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(4),a.e(t.t0);case 21:return t.prev=21,a.f(),t.finish(21);case 24:if(i!==e){t.next=27;break}return t.next=27,n;case 27:if(!(i<e)){t.next=29;break}throw new Error("sequence ended before insertion [withInsertedItem(${index}, ${item})]");case 29:case"end":return t.stop()}}),t,null,[[4,18,21,24]])})))}},{key:"takeWhile",value:function(e){var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){var r,i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=c(n),t.prev=1,r.s();case 3:if((i=r.n()).done){t.next=11;break}if(a=i.value,e(a)){t.next=7;break}return t.abrupt("break",11);case 7:return t.next=9,a;case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,13,16,19]])})))}},{key:"skipTailWhile",value:function(e){var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){var r,i,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],i=c(n),t.prev=2,i.s();case 4:if((a=i.n()).done){t.next=16;break}if(u=a.value,!e(u)){t.next=10;break}r.push(u),t.next=14;break;case 10:return t.delegateYield(r,"t0",11);case 11:return r=[],t.next=14,u;case 14:t.next=4;break;case 16:t.next=21;break;case 18:t.prev=18,t.t1=t.catch(2),i.e(t.t1);case 21:return t.prev=21,i.f(),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[2,18,21,24]])})))}},{key:"skipWhile",value:function(e){var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){var r,i,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,i=c(n),t.prev=2,i.s();case 4:if((a=i.n()).done){t.next=12;break}if(u=a.value,r=r&&e(u)){t.next=10;break}return t.next=10,u;case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),i.e(t.t0);case 17:return t.prev=17,i.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[2,14,17,20]])})))}},{key:"take",value:function(e){if(e<0)throw new Error("needed maxTakeCount >= 0");if(0===e)return new t([]);var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){var r,i,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0,i=c(n),t.prev=2,i.s();case 4:if((a=i.n()).done){t.next=13;break}return u=a.value,t.next=8,u;case 8:if(!(++r>=e)){t.next=11;break}return t.abrupt("break",13);case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),i.e(t.t0);case 18:return t.prev=18,i.f(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})))}},{key:"skip",value:function(e){if(e<0)throw new Error("needed maxSkipCount >= 0");if(0===e)return this;var n=this._iterable;return t.fromGenerator(o.a.mark((function t(){var r,i,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0,i=c(n),t.prev=2,i.s();case 4:if((a=i.n()).done){t.next=12;break}if(u=a.value,!(r>=e)){t.next=9;break}return t.next=9,u;case 9:r++;case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),i.e(t.t0);case 17:return t.prev=17,i.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[2,14,17,20]])})))}},{key:"distinctBy",value:function(e){var n=this;return t.fromGenerator((function(){var t=new Set;return n.filter((function(n){var r=e(n);return!t.has(r)&&(t.add(r),!0)}))[Symbol.iterator]()}))}},{key:"distinct",value:function(){return this.distinctBy((function(t){return t}))}},{key:"segmentBy",value:function(e){var n=this;return t.fromGenerator(o.a.mark((function t(){var r,i,a,u,s,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],i=void 0,a=c(n),t.prev=3,a.s();case 5:if((u=a.n()).done){t.next=16;break}if(s=u.value,l=e(s),!(r.length>0&&l!==i)){t.next=12;break}return t.next=11,r;case 11:r=[];case 12:r.push(s),i=l;case 14:t.next=5;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(3),a.e(t.t0);case 21:return t.prev=21,a.f(),t.finish(21);case 24:if(!(r.length>0)){t.next=27;break}return t.next=27,r;case 27:case"end":return t.stop()}}),t,null,[[3,18,21,24]])})))}},{key:"single",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=this[Symbol.iterator](),n=e.next();if(!n.done&&e.next().done)return n.value;if(t===d)throw n.done?new Error("Empty sequence doesn't contain a single item."):new Error("Sequence contains more than a single item.");return t}},{key:"first",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=this[Symbol.iterator](),n=e.next();if(!n.done)return n.value;if(t===d)throw new Error("Empty sequence has no first item.");return t}},{key:"last",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=h,r=c(this._iterable);try{for(r.s();!(t=r.n()).done;){var o=t.value;n=o}}catch(t){r.e(t)}finally{r.f()}return b(n,e,"Empty sequence has no last item.")}},{key:"tryPeekCount",value:function(){return Array.isArray(this._iterable)||Object(u.a)(this._iterable,"length")&&"number"==typeof this._iterable.length?this._iterable.length:this._iterable instanceof Map||this._iterable instanceof Set?this._iterable.size:void 0}},{key:"count",value:function(){var t=this.tryPeekCount();if(void 0!==t)return t;var e,n=0,r=c(this._iterable);try{for(r.s();!(e=r.n()).done;)e.value,n++}catch(t){r.e(t)}finally{r.f()}return n}},{key:"padded",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(e<0)throw new Error("needed minCount >= 0");var r=this._iterable;return t.fromGenerator(o.a.mark((function t(){var i,a,u,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e,a=c(r),t.prev=2,a.s();case 4:if((u=a.n()).done){t.next=11;break}return s=u.value,t.next=8,s;case 8:i-=1;case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),a.e(t.t0);case 16:return t.prev=16,a.f(),t.finish(16);case 19:if(!(i>0)){t.next=25;break}return t.next=22,n;case 22:i-=1,t.next=19;break;case 25:case"end":return t.stop()}}),t,null,[[2,13,16,19]])})))}},{key:"sorted",value:function(){return v(this.toArray().sort())}},{key:"sortedBy",value:function(t){return v(this.toArray().sort((function(e,n){var r=t(e),o=t(n);return r<o?-1:r>o?1:0})))}},{key:"ifThen",value:function(e,n){return e?new t(n(this)):this}},{key:"toMap",value:function(t,e){var n,r=new Map,o=c(this._iterable);try{for(o.s();!(n=o.n()).done;){var i=n.value,u=t(i),s=e(i);if(r.has(u))throw new Error("Duplicate key <".concat(Object(a.a)(u),">. Came from item <").concat(Object(a.a)(i),">."));r.set(u,s)}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"keyedBy",value:function(t){return this.toMap(t,(function(t){return t}))}},{key:"groupBy",value:function(t){var e,n=new Map,r=c(this._iterable);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=t(o);n.has(i)||n.set(i,[]),n.get(i).push(o)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"partitioned",value:function(e){if(e<=0)throw new Error("need partitionSize > 0");var n=this;return t.fromGenerator(o.a.mark((function t(){var r,i,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],i=c(n),t.prev=2,i.s();case 4:if((a=i.n()).done){t.next=13;break}if(u=a.value,r.push(u),!(r.length>=e)){t.next=11;break}return t.next=10,r;case 10:r=[];case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),i.e(t.t0);case 18:return t.prev=18,i.f(),t.finish(18);case 21:if(!(r.length>0)){t.next=24;break}return t.next=24,r;case 24:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})))}},{key:"stride",value:function(t){return this.filterWithIndex((function(e,n){return n%t==0}))}},{key:"breadthFirstSearch",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},r=this;return t.fromGenerator(o.a.mark((function t(){var i,a,u,s,l,f,p,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=new Set,a=r.toArray(),u=0;case 3:if(!(u<a.length)){t.next=16;break}if(s=a[u],l=n(s),!i.has(l)){t.next=8;break}return t.abrupt("continue",13);case 8:i.add(l),f=c(e(s));try{for(f.s();!(p=f.n()).done;)d=p.value,a.push(d)}catch(t){f.e(t)}finally{f.f()}return t.next=13,s;case 13:u++,t.next=3;break;case 16:case"end":return t.stop()}}),t)})))}}])&&p(e.prototype,n),r&&p(e,r),t}(),v=function(t){return new y(t)}},,function(t,e,n){"use strict";function r(t,e){for(var n in e){var o=r.prefixedPropREs,i=!1;for(var a in o)if(0===n.indexOf(a)&&o[a].test(n)){i=!0;break}i||"function"==typeof e[n]||(t[n]=e[n])}return t}r.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/},e.a=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(24);function o(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function i(t){var e="function"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,t)})(t)}function a(t,e,n){return(a=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&c(o,n.prototype),o}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=0,f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(a,t);var e,n,i=(e=a,n=u(),function(){var t,r=s(e);if(n){var i=s(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return o(this,t)});function a(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t)).details=void 0,n.detailsObj=void 0,n.detailsObj=e,n.name="Error",n.message=t,n.stack=(new Error).stack,void 0!==n.stack&&(n.stack=n.stack.replace(/^Error\n\s+at new DetailedError (\S+)\s?\n\s+at /,"\n    ")),l++;try{n.details=1===l?Object(r.a)(n.detailsObj):"(failed to describe detailsObj due to possibly re-entrancy)"}catch(t){console.error(t),n.details="(failed to describe detailsObj, see the console for details)"}finally{l--}return n}return a}(i(Error))},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(0);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(s,t);var e,n,r,c=u(s);function s(){return o(this,s),c.apply(this,arguments)}return e=s,(n=[{key:"remove",value:function(){this.removeElement()}},{key:"clonePlainDraggableElement",value:function(){var t=this.element.cloneNode(!0);return t.removeAttribute("data-draggable-source"),t}}])&&i(e.prototype,n),r&&i(e,r),s}(n(18).a);l.elementClassName=Object(r.h)("draggable")},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(12),o=n(0),i=n(14),a=n(41),u=n(46),c={create:function(t){var e=t.classList;if(e.contains(Object(o.h)("dropzone:type:palette")))return new a.a(t);if(e.contains(Object(o.h)("dropzone:type:circuit")))return new i.a(t);if(e.contains(Object(o.h)("dropzone:type:trash")))return new u.a(t);throw new r.a("Unknown dropzone: ".concat(t.outerHTML))}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(0),o=n(18),i=n(22);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(i,t);var e,n,r,o=s(i);function i(){return a(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"setInteract",value:function(t){}}])&&u(e.prototype,n),r&&u(e,r),i}(Object(i.b)(Object(i.c)(Object(i.a)(o.a))));p.elementClassName=Object(r.h)("dropzone:type:palette")},function(t,e,n){"use strict";e.a=function(t){return!(!t||!t.Window)&&t instanceof t.Window}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return o}));var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=e}var e,n,o;return e=t,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&r(e.prototype,n),o&&r(e,o),t}();Object.defineProperty(o.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}})},function(t,e,n){"use strict";var r=n(1);function o(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function i(t){var e=t.iEvent,n=t.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var o="x"===r?"y":"x";e.page[o]=n.coords.start.page[o],e.client[o]=n.coords.start.client[o],e.delta[o]=0}}}var a={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.draggable=a.draggable,e.map.drag=a,e.methodDict.drag="draggable",r.actions.drag=a.defaults},listeners:{"interactions:before-action-move":o,"interactions:action-resume":o,"interactions:action-move":i,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.buttons,o=n.options.drag;if(o&&o.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(r&n.options.drag.mouseButtons)))return t.action={name:"drag",axis:"start"===o.lockAxis?o.startAxis:o.lockAxis},!1}},draggable:function(t){return r.a.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):r.a.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:o,move:i,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}};e.a=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));n(31),n(30),n(33),n(32);var r=n(0),o=n(39),i=n(40),a=n(18),u=n(2),c=n(12),s=n(8);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(b,t);var e,n,a,h=d(b);function b(){return l(this,b),h.apply(this,arguments)}return e=b,(n=[{key:"enableDnd",value:function(){this.setInteract({onStart:this.startDragging.bind(this),onMove:this.dragMove.bind(this),onEnd:this.endDragging.bind(this)})}},{key:"setInteract",value:function(t){s.a.isSet(this.element)||(this.unsetInteract(),Object(s.a)(this.element).draggable({onstart:t.onStart,onmove:t.onMove,onend:t.onEnd}).styleCursor(!1))}},{key:"unsetInteract",value:function(){Object(s.a)(this.element).unset()}},{key:"move",value:function(t,e){var n=this.x+t,r=this.y+e;this.moveTo(n,r)}},{key:"moveTo",value:function(t,e){this.element.style.transform="translate(".concat(t,"px, ").concat(e,"px)"),this.element.setAttribute(Object(r.g)("draggable:x"),t.toString()),this.element.setAttribute(Object(r.g)("draggable:y"),e.toString())}},{key:"moveToGrabbedPosition",value:function(t){var e=this.draggableElement(t),n=e.clientWidth/2,r=e.clientHeight/2,o=t.offsetX-n,i=t.offsetY-r;this.move(o,i)}},{key:"draggableElement",value:function(t){var e=t.target;if(!e)throw new c.a("event target not found");var n=Object(r.h)("draggable"),o=e.closest(".".concat(n));if(!o)throw new c.a(".".concat(n," not found"));return o}},{key:"remove",value:function(){Object(s.a)(this.element).unset(),this.getDropzone().element.removeChild(this.element)}},{key:"x",get:function(){return parseFloat(this.element.getAttribute(Object(r.g)("draggable:x"))||"0")}},{key:"y",get:function(){return parseFloat(this.element.getAttribute(Object(r.g)("draggable:y"))||"0")}},{key:"instruction",get:function(){return u.e.create(this.element)}},{key:"getDropzone",value:function(){return i.a.create(this.dropzoneEl)}},{key:"dropzoneEl",get:function(){var t=this.element.closest(".".concat(Object(r.h)("dropzone")));if(!t)throw new c.a("dropzone not found");return t}},{key:"createSource",value:function(){var t=this.element.cloneNode(!0);return this.getDropzone().element.insertBefore(t,this.element),Object(s.a)(t).unset(),t.classList.remove(Object(r.h)("draggable:state:dragging")),t.setAttribute("data-draggable-source",""),new o.a(t)}},{key:"source",get:function(){return this.getDropzone().draggableSource}},{key:"grabbed",set:function(t){t?this.element.setAttribute("data-grabbed",""):this.element.removeAttribute("data-grabbed"),this.element.classList.contains(Object(r.h)("gate:measure"))&&this.element.setAttribute("data-value","")}},{key:"isGrabbed",value:function(){return this.element.hasAttribute("data-grabbed")}},{key:"unGrab",value:function(){this.moveTo(0,0),this.grabbed=!1,this.simulatorElement.dispatchEvent(new CustomEvent("userReleasedGate",{bubbles:!1}))}},{key:"dropped",set:function(t){this.setClassName("draggable:state:dropped",t)}},{key:"isDropped",get:function(){return this.isClassNamed("draggable:state:dropped")}},{key:"dragging",set:function(t){this.setClassName("draggable:state:dragging",t)}},{key:"simulatorElement",get:function(){var t=document.getElementById("simulator");return r.f.notNull(t),t}}])&&f(e.prototype,n),a&&f(e,a),b}(a.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(31),n(30),n(33),n(32);var r=n(8),o=n(22),i=n(18),a=n(0);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(f,t);var e,n,o,i=l(f);function f(){return u(this,f),i.apply(this,arguments)}return e=f,(n=[{key:"setInteract",value:function(t){this.unsetInteract(),Object(r.a)(this.element).dropzone({accept:".".concat(Object(a.h)("draggable")),overlap:.2,ondrop:t.onDrop})}}])&&c(e.prototype,n),o&&c(e,o),f}(Object(o.b)(Object(o.c)(Object(o.a)(i.a))));d.elementClassName=Object(a.h)("dropzone:type:trash")},function(t,e,n){var r,o,i,a;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(t){"use strict";var e,n;function r(t){return"object"===u(t)&&"function"==typeof t.to}function o(t){t.parentElement.removeChild(t)}function i(t){return null!=t}function a(t){t.preventDefault()}function c(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function s(t,e,n){n>0&&(d(t,e),setTimeout((function(){h(t,e)}),n))}function l(t){return Math.max(Math.min(t,100),0)}function f(t){return Array.isArray(t)?t:[t]}function p(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function d(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function h(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function b(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function y(t,e){return 100/(e-t)}function v(t,e,n){return 100*e/(t[n+1]-t[n])}function m(t,e){for(var n=1;t>=e[n];)n+=1;return n}function g(t,e,n){if(n>=t.slice(-1)[0])return 100;var r=m(n,t),o=t[r-1],i=t[r],a=e[r-1],u=e[r];return a+function(t,e){return v(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([o,i],n)/y(a,u)}function w(t,e,n,r){if(100===r)return r;var o=m(r,t),i=t[o-1],a=t[o];return n?r-i>(a-i)/2?a:i:e[o-1]?t[o-1]+function(t,e){return Math.round(t/e)*e}(r-t[o-1],e[o-1]):r}t.PipsMode=void 0,(e=t.PipsMode||(t.PipsMode={})).Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values",t.PipsType=void 0,(n=t.PipsType||(t.PipsType={}))[n.None=-1]="None",n[n.NoValue=0]="NoValue",n[n.LargeValue=1]="LargeValue",n[n.SmallValue=2]="SmallValue";var x=function(){function t(t,e,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=e;var o=[];for(Object.keys(t).forEach((function(e){o.push([f(t[e]),e])})),o.sort((function(t,e){return t[0][0]-e[0][0]})),r=0;r<o.length;r++)this.handleEntryPoint(o[r][1],o[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}return t.prototype.getDistance=function(t){var e,n=[];for(e=0;e<this.xNumSteps.length-1;e++){var r=this.xNumSteps[e];if(r&&t/r%1!=0)throw new Error("noUiSlider: 'limit', 'margin' and 'padding' of "+this.xPct[e]+"% range must be divisible by step.");n[e]=v(this.xVal,t,e)}return n},t.prototype.getAbsoluteDistance=function(t,e,n){var r,o=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[o+1];)o++;else t===this.xPct[this.xPct.length-1]&&(o=this.xPct.length-2);n||t!==this.xPct[o+1]||o++,null===e&&(e=[]);var i=1,a=e[o],u=0,c=0,s=0,l=0;for(r=n?(t-this.xPct[o])/(this.xPct[o+1]-this.xPct[o]):(this.xPct[o+1]-t)/(this.xPct[o+1]-this.xPct[o]);a>0;)u=this.xPct[o+1+l]-this.xPct[o+l],e[o+l]*i+100-100*r>100?(c=u*r,i=(a-100*r)/e[o+l],r=1):(c=e[o+l]*u/100*i,i=0),n?(s-=c,this.xPct.length+l>=1&&l--):(s+=c,this.xPct.length-l>=1&&l++),a=e[o+l]*i;return t+s},t.prototype.toStepping=function(t){return t=g(this.xVal,this.xPct,t)},t.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var r=m(n,e),o=t[r-1],i=t[r],a=e[r-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([o,i],(n-a)*y(a,e[r]))}(this.xVal,this.xPct,t)},t.prototype.getStep=function(t){return t=w(this.xPct,this.xSteps,this.snap,t)},t.prototype.getDefaultStep=function(t,e,n){var r=m(t,this.xPct);return(100===t||e&&t===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},t.prototype.getNearbySteps=function(t){var e=m(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},t.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(p);return Math.max.apply(null,t)},t.prototype.convert=function(t){return this.getStep(this.toStepping(t))},t.prototype.handleEntryPoint=function(t,e){var n;if(!c(n="min"===t?0:"max"===t?100:parseFloat(t))||!c(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(e[0]);var r=Number(e[1]);n?this.xSteps.push(!isNaN(r)&&r):isNaN(r)||(this.xSteps[0]=r),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(t,e){if(e)if(this.xVal[t]!==this.xVal[t+1]){this.xSteps[t]=v([this.xVal[t],this.xVal[t+1]],e,0)/y(this.xPct[t],this.xPct[t+1]);var n=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],r=Math.ceil(Number(n.toFixed(3))-1),o=this.xVal[t]+this.xNumSteps[t]*r;this.xHighestCompleteStep[t]=o}else this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t]},t}(),O={to:function(t){return void 0===t?"":t.toFixed(2)},from:Number},k={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},j=".__tooltips",A=".__aria";function E(t,e){if(!c(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function S(t,e){if(!c(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function _(t,e){if(!c(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function z(t,e){if("object"!==u(e)||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");t.spectrum=new x(e,t.snap||!1,t.singleStep)}function P(t,e){if(e=f(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function C(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function T(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function R(t,e){if("number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function q(t,e){var n,r=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(n=1;n<t.handles;n++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=e}t.connect=r}function M(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function D(t,e){if(!c(e))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function B(t,e){if(!c(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function I(t,e){var n;if(!c(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!c(e[0])&&!c(e[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],n=0;n<t.spectrum.xNumSteps.length-1;n++)if(t.padding[0][n]<0||t.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=e[0]+e[1],o=t.spectrum.xVal[0];if(r/(t.spectrum.xVal[t.spectrum.xVal.length-1]-o)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function L(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function N(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,o=e.indexOf("fixed")>=0,i=e.indexOf("snap")>=0,a=e.indexOf("hover")>=0,u=e.indexOf("unconstrained")>=0;if(o){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");D(t,t.start[1]-t.start[0])}if(u&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:n||i,drag:r,fixed:o,snap:i,hover:a,unconstrained:u}}function U(t,e){if(!1!==e)if(!0===e||r(e)){t.tooltips=[];for(var n=0;n<t.handles;n++)t.tooltips.push(e)}else{if((e=f(e)).length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach((function(t){if("boolean"!=typeof t&&!r(t))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),t.tooltips=e}}function F(t,e){if(!r(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function H(t,e){if(!function(t){return r(t)&&"function"==typeof t.from}(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=e}function G(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function V(t,e){t.documentElement=e}function W(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function $(t,e){if("object"!==u(e))throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof t.cssPrefix?(t.cssClasses={},Object.keys(e).forEach((function(n){t.cssClasses[n]=t.cssPrefix+e[n]}))):t.cssClasses=e}function Y(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:O,format:O},n={step:{r:!1,t:E},keyboardPageMultiplier:{r:!1,t:S},keyboardDefaultStep:{r:!1,t:_},start:{r:!0,t:P},connect:{r:!0,t:q},direction:{r:!0,t:L},snap:{r:!1,t:C},animate:{r:!1,t:T},animationDuration:{r:!1,t:R},range:{r:!0,t:z},orientation:{r:!1,t:M},margin:{r:!1,t:D},limit:{r:!1,t:B},padding:{r:!1,t:I},behaviour:{r:!0,t:N},ariaFormat:{r:!1,t:F},format:{r:!1,t:H},tooltips:{r:!1,t:U},keyboardSupport:{r:!0,t:G},documentElement:{r:!1,t:V},cssPrefix:{r:!0,t:W},cssClasses:{r:!0,t:$}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:k,keyboardPageMultiplier:5,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(n).forEach((function(o){if(i(t[o])||void 0!==r[o])n[o].t(e,i(t[o])?t[o]:r[o]);else if(n[o].r)throw new Error("noUiSlider: '"+o+"' is required.")})),e.pips=t.pips;var o=document.createElement("div"),a=void 0!==o.style.msTransform,u=void 0!==o.style.transform;return e.transformRule=u?"transform":a?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function X(e,n,r){var u,c,p,y,v,m,g,w=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},x=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),O=e,k=n.spectrum,E=[],S=[],_=[],z=0,P={},C=e.ownerDocument,T=n.documentElement||C.documentElement,R=C.body,q="rtl"===C.dir||1===n.ort?0:100;function M(t,e){var n=C.createElement("div");return e&&d(n,e),t.appendChild(n),n}function D(t,e){var r=M(t,n.cssClasses.origin),o=M(r,n.cssClasses.handle);return M(o,n.cssClasses.touchArea),o.setAttribute("data-handle",String(e)),n.keyboardSupport&&(o.setAttribute("tabindex","0"),o.addEventListener("keydown",(function(t){return function(t,e){if(L()||N(e))return!1;var r=["Left","Right"],o=["Down","Up"],i=["PageDown","PageUp"],a=["Home","End"];n.dir&&!n.ort?r.reverse():n.ort&&!n.dir&&(o.reverse(),i.reverse());var u,c=t.key.replace("Arrow",""),s=c===i[0],l=c===i[1],f=c===o[0]||c===r[0]||s,p=c===o[1]||c===r[1]||l,d=c===a[0],h=c===a[1];if(!(f||p||d||h))return!0;if(t.preventDefault(),p||f){var b=n.keyboardPageMultiplier,y=f?0:1,v=vt(e)[y];if(null===v)return!1;!1===v&&(v=k.getDefaultStep(S[e],f,n.keyboardDefaultStep)),(l||s)&&(v*=b),v=Math.max(v,1e-7),v*=f?-1:1,u=E[e]+v}else u=h?n.spectrum.xVal[n.spectrum.xVal.length-1]:n.spectrum.xVal[0];return pt(e,k.toStepping(u),!0,!0),at("slide",e),at("update",e),at("change",e),at("set",e),!1}(t,e)}))),o.setAttribute("role","slider"),o.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===e?d(o,n.cssClasses.handleLower):e===n.handles-1&&d(o,n.cssClasses.handleUpper),r}function B(t,e){return!!e&&M(t,n.cssClasses.connect)}function I(t,e){return!(!n.tooltips||!n.tooltips[e])&&M(t.firstChild,n.cssClasses.tooltip)}function L(){return O.hasAttribute("disabled")}function N(t){return c[t].hasAttribute("disabled")}function U(){v&&(it("update"+j),v.forEach((function(t){t&&o(t)})),v=null)}function F(){U(),v=c.map(I),ot("update"+j,(function(t,e,r){if(v&&n.tooltips&&!1!==v[e]){var o=t[e];!0!==n.tooltips[e]&&(o=n.tooltips[e].to(r[e])),v[e].innerHTML=o}}))}function H(t,e){return t.map((function(t){return k.fromStepping(e?k.getStep(t):t)}))}function G(e){var n,r=function(e){if(e.mode===t.PipsMode.Range||e.mode===t.PipsMode.Steps)return k.xVal;if(e.mode===t.PipsMode.Count){if(e.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var n=e.values-1,r=100/n,o=[];n--;)o[n]=n*r;return o.push(100),H(o,e.stepped)}return e.mode===t.PipsMode.Positions?H(e.values,e.stepped):e.mode===t.PipsMode.Values?e.stepped?e.values.map((function(t){return k.fromStepping(k.getStep(k.toStepping(t)))})):e.values:[]}(e),o={},i=k.xVal[0],a=k.xVal[k.xVal.length-1],u=!1,c=!1,s=0;return n=r.slice().sort((function(t,e){return t-e})),(r=n.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==i&&(r.unshift(i),u=!0),r[r.length-1]!==a&&(r.push(a),c=!0),r.forEach((function(n,i){var a,l,f,p,d,h,b,y,v,m,g=n,w=r[i+1],x=e.mode===t.PipsMode.Steps;for(x&&(a=k.xNumSteps[i]),a||(a=w-g),void 0===w&&(w=g),a=Math.max(a,1e-7),l=g;l<=w;l=Number((l+a).toFixed(7))){for(y=(d=(p=k.toStepping(l))-s)/(e.density||1),m=d/(v=Math.round(y)),f=1;f<=v;f+=1)o[(h=s+f*m).toFixed(5)]=[k.fromStepping(h),0];b=r.indexOf(l)>-1?t.PipsType.LargeValue:x?t.PipsType.SmallValue:t.PipsType.NoValue,!i&&u&&l!==w&&(b=0),l===w&&c||(o[p.toFixed(5)]=[l,b]),s=p}})),o}function V(e,r,o){var i,a,u=C.createElement("div"),c=((i={})[t.PipsType.None]="",i[t.PipsType.NoValue]=n.cssClasses.valueNormal,i[t.PipsType.LargeValue]=n.cssClasses.valueLarge,i[t.PipsType.SmallValue]=n.cssClasses.valueSub,i),s=((a={})[t.PipsType.None]="",a[t.PipsType.NoValue]=n.cssClasses.markerNormal,a[t.PipsType.LargeValue]=n.cssClasses.markerLarge,a[t.PipsType.SmallValue]=n.cssClasses.markerSub,a),l=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],f=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function p(t,e){var r=e===n.cssClasses.value,o=r?c:s;return e+" "+(r?l:f)[n.ort]+" "+o[t]}return d(u,n.cssClasses.pips),d(u,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(e).forEach((function(i){!function(e,i,a){if((a=r?r(i,a):a)!==t.PipsType.None){var c=M(u,!1);c.className=p(a,n.cssClasses.marker),c.style[n.style]=e+"%",a>t.PipsType.NoValue&&((c=M(u,!1)).className=p(a,n.cssClasses.value),c.setAttribute("data-value",String(i)),c.style[n.style]=e+"%",c.innerHTML=String(o.to(i)))}}(i,e[i][0],e[i][1])})),u}function W(){y&&(o(y),y=null)}function $(t){W();var e=G(t),n=t.filter,r=t.format||{to:function(t){return String(Math.round(t))}};return y=O.appendChild(V(e,n,r))}function X(){var t=u.getBoundingClientRect(),e="offset"+["Width","Height"][n.ort];return 0===n.ort?t.width||u[e]:t.height||u[e]}function Q(t,e,r,o){var i=function(i){var a,u,c=function(t,e,n){var r=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),i=0===t.type.indexOf("pointer"),a=0,u=0;if(0===t.type.indexOf("MSPointer")&&(i=!0),"mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(r){var c=function(e){var r=e.target;return r===n||n.contains(r)||t.composed&&t.composedPath().shift()===n};if("touchstart"===t.type){var s=Array.prototype.filter.call(t.touches,c);if(s.length>1)return!1;a=s[0].pageX,u=s[0].pageY}else{var l=Array.prototype.find.call(t.changedTouches,c);if(!l)return!1;a=l.pageX,u=l.pageY}}return e=e||b(C),(o||i)&&(a=t.clientX+e.x,u=t.clientY+e.y),t.pageOffset=e,t.points=[a,u],t.cursor=o||i,t}(i,o.pageOffset,o.target||e);return!!c&&!(L()&&!o.doNotReject)&&(a=O,u=n.cssClasses.tap,!((a.classList?a.classList.contains(u):new RegExp("\\b"+u+"\\b").test(a.className))&&!o.doNotReject)&&!(t===w.start&&void 0!==c.buttons&&c.buttons>1)&&(!o.hover||!c.buttons)&&(x||c.preventDefault(),c.calcPoint=c.points[n.ort],void r(c,o)))},a=[];return t.split(" ").forEach((function(t){e.addEventListener(t,i,!!x&&{passive:!0}),a.push([t,i])})),a}function J(t){var e,r,o,i,a,c,s=100*(t-(e=u,r=n.ort,o=e.getBoundingClientRect(),i=e.ownerDocument,a=i.documentElement,c=b(i),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(c.x=0),r?o.top+c.y-a.clientTop:o.left+c.x-a.clientLeft))/X();return s=l(s),n.dir?100-s:s}function K(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&tt(t,e)}function Z(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return tt(t,e);var r=(n.dir?-1:1)*(t.calcPoint-e.startCalcPoint);st(r>0,100*r/e.baseSize,e.locations,e.handleNumbers,e.connect)}function tt(t,e){e.handle&&(h(e.handle,n.cssClasses.active),z-=1),e.listeners.forEach((function(t){T.removeEventListener(t[0],t[1])})),0===z&&(h(O,n.cssClasses.drag),ft(),t.cursor&&(R.style.cursor="",R.removeEventListener("selectstart",a))),e.handleNumbers.forEach((function(t){at("change",t),at("set",t),at("end",t)}))}function et(t,e){if(!e.handleNumbers.some(N)){var r;1===e.handleNumbers.length&&(r=c[e.handleNumbers[0]].children[0],z+=1,d(r,n.cssClasses.active)),t.stopPropagation();var o=[],i=Q(w.move,T,Z,{target:t.target,handle:r,connect:e.connect,listeners:o,startCalcPoint:t.calcPoint,baseSize:X(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:S.slice()}),u=Q(w.end,T,tt,{target:t.target,handle:r,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers}),s=Q("mouseout",T,K,{target:t.target,handle:r,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers});o.push.apply(o,i.concat(u,s)),t.cursor&&(R.style.cursor=getComputedStyle(t.target).cursor,c.length>1&&d(O,n.cssClasses.drag),R.addEventListener("selectstart",a,!1)),e.handleNumbers.forEach((function(t){at("start",t)}))}}function nt(t){t.stopPropagation();var e=J(t.calcPoint),r=function(t){var e=100,n=!1;return c.forEach((function(r,o){if(!N(o)){var i=S[o],a=Math.abs(i-t);(a<e||a<=e&&t>i||100===a&&100===e)&&(n=o,e=a)}})),n}(e);!1!==r&&(n.events.snap||s(O,n.cssClasses.tap,n.animationDuration),pt(r,e,!0,!0),ft(),at("slide",r,!0),at("update",r,!0),at("change",r,!0),at("set",r,!0),n.events.snap&&et(t,{handleNumbers:[r]}))}function rt(t){var e=J(t.calcPoint),n=k.getStep(e),r=k.fromStepping(n);Object.keys(P).forEach((function(t){"hover"===t.split(".")[0]&&P[t].forEach((function(t){t.call(mt,r)}))}))}function ot(t,e){P[t]=P[t]||[],P[t].push(e),"update"===t.split(".")[0]&&c.forEach((function(t,e){at("update",e)}))}function it(t){var e=t&&t.split(".")[0],n=e?t.substring(e.length):t;Object.keys(P).forEach((function(t){var r=t.split(".")[0],o=t.substring(r.length);e&&e!==r||n&&n!==o||function(t){return t===A||t===j}(o)&&n!==o||delete P[t]}))}function at(t,e,r){Object.keys(P).forEach((function(o){var i=o.split(".")[0];t===i&&P[o].forEach((function(t){t.call(mt,E.map(n.format.to),e,E.slice(),r||!1,S.slice(),mt)}))}))}function ut(t,e,r,o,i,a){var u;return c.length>1&&!n.events.unconstrained&&(o&&e>0&&(u=k.getAbsoluteDistance(t[e-1],n.margin,!1),r=Math.max(r,u)),i&&e<c.length-1&&(u=k.getAbsoluteDistance(t[e+1],n.margin,!0),r=Math.min(r,u))),c.length>1&&n.limit&&(o&&e>0&&(u=k.getAbsoluteDistance(t[e-1],n.limit,!1),r=Math.min(r,u)),i&&e<c.length-1&&(u=k.getAbsoluteDistance(t[e+1],n.limit,!0),r=Math.max(r,u))),n.padding&&(0===e&&(u=k.getAbsoluteDistance(0,n.padding[0],!1),r=Math.max(r,u)),e===c.length-1&&(u=k.getAbsoluteDistance(100,n.padding[1],!0),r=Math.min(r,u))),!((r=l(r=k.getStep(r)))===t[e]&&!a)&&r}function ct(t,e){var r=n.ort;return(r?e:t)+", "+(r?t:e)}function st(t,e,n,r,o){var i=n.slice(),a=r[0],u=[!t,t],c=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach((function(t,n){var r=ut(i,t,i[t]+e,u[n],c[n],!1);!1===r?e=0:(e=r-i[t],i[t]=r)})):u=c=[!0];var s=!1;r.forEach((function(t,r){s=pt(t,n[t]+e,u[r],c[r])||s})),s&&(r.forEach((function(t){at("update",t),at("slide",t)})),null!=o&&at("drag",a))}function lt(t,e){return n.dir?100-t-e:t}function ft(){_.forEach((function(t){var e=S[t]>50?-1:1,n=3+(c.length+e*t);c[t].style.zIndex=String(n)}))}function pt(t,e,r,o,i){return i||(e=ut(S,t,e,r,o,!1)),!1!==e&&(function(t,e){S[t]=e,E[t]=k.fromStepping(e);var r="translate("+ct(10*(lt(e,0)-q)+"%","0")+")";c[t].style[n.transformRule]=r,dt(t),dt(t+1)}(t,e),!0)}function dt(t){if(p[t]){var e=0,r=100;0!==t&&(e=S[t-1]),t!==p.length-1&&(r=S[t]);var o=r-e,i="translate("+ct(lt(e,o)+"%","0")+")",a="scale("+ct(o/100,"1")+")";p[t].style[n.transformRule]=i+" "+a}}function ht(t,e){return null===t||!1===t||void 0===t?S[e]:("number"==typeof t&&(t=String(t)),!1!==(t=n.format.from(t))&&(t=k.toStepping(t)),!1===t||isNaN(t)?S[e]:t)}function bt(t,e,r){var o=f(t),i=void 0===S[0];e=void 0===e||e,n.animate&&!i&&s(O,n.cssClasses.tap,n.animationDuration),_.forEach((function(t){pt(t,ht(o[t],t),!0,!1,r)}));for(var a=1===_.length?0:1;a<_.length;++a)_.forEach((function(t){pt(t,S[t],!0,!0,r)}));ft(),_.forEach((function(t){at("update",t),null!==o[t]&&e&&at("set",t)}))}function yt(t){if(void 0===t&&(t=!1),t)return 1===E.length?E[0]:E.slice(0);var e=E.map(n.format.to);return 1===e.length?e[0]:e}function vt(t){var e=S[t],r=k.getNearbySteps(e),o=E[t],i=r.thisStep.step,a=null;if(n.snap)return[o-r.stepBefore.startValue||null,r.stepAfter.startValue-o||null];!1!==i&&o+i>r.stepAfter.startValue&&(i=r.stepAfter.startValue-o),a=o>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&o-r.stepBefore.highestStep,100===e?i=null:0===e&&(a=null);var u=k.countStepDecimals();return null!==i&&!1!==i&&(i=Number(i.toFixed(u))),null!==a&&!1!==a&&(a=Number(a.toFixed(u))),[a,i]}d(m=O,n.cssClasses.target),0===n.dir?d(m,n.cssClasses.ltr):d(m,n.cssClasses.rtl),0===n.ort?d(m,n.cssClasses.horizontal):d(m,n.cssClasses.vertical),d(m,"rtl"===getComputedStyle(m).direction?n.cssClasses.textDirectionRtl:n.cssClasses.textDirectionLtr),u=M(m,n.cssClasses.base),function(t,e){var r=M(e,n.cssClasses.connects);c=[],(p=[]).push(B(r,t[0]));for(var o=0;o<n.handles;o++)c.push(D(e,o)),_[o]=o,p.push(B(r,t[o+1]))}(n.connect,u),(g=n.events).fixed||c.forEach((function(t,e){Q(w.start,t.children[0],et,{handleNumbers:[e]})})),g.tap&&Q(w.start,u,nt,{}),g.hover&&Q(w.move,u,rt,{hover:!0}),g.drag&&p.forEach((function(t,e){if(!1!==t&&0!==e&&e!==p.length-1){var r=c[e-1],o=c[e],i=[t];d(t,n.cssClasses.draggable),g.fixed&&(i.push(r.children[0]),i.push(o.children[0])),i.forEach((function(n){Q(w.start,n,et,{handles:[r,o],handleNumbers:[e-1,e],connect:t})}))}})),bt(n.start),n.pips&&$(n.pips),n.tooltips&&F(),it("update"+A),ot("update"+A,(function(t,e,r,o,i){_.forEach((function(t){var e=c[t],o=ut(S,t,0,!0,!0,!0),a=ut(S,t,100,!0,!0,!0),u=i[t],s=String(n.ariaFormat.to(r[t]));o=k.fromStepping(o).toFixed(1),a=k.fromStepping(a).toFixed(1),u=k.fromStepping(u).toFixed(1),e.children[0].setAttribute("aria-valuemin",o),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",u),e.children[0].setAttribute("aria-valuetext",s)}))}));var mt={destroy:function(){for(it(A),it(j),Object.keys(n.cssClasses).forEach((function(t){h(O,n.cssClasses[t])}));O.firstChild;)O.removeChild(O.firstChild);delete O.noUiSlider},steps:function(){return _.map(vt)},on:ot,off:it,get:yt,set:bt,setHandle:function(t,e,n,r){if(!((t=Number(t))>=0&&t<_.length))throw new Error("noUiSlider: invalid handle number, got: "+t);pt(t,ht(e,t),!0,!0,r),at("update",t),n&&at("set",t)},reset:function(t){bt(n.start,t)},__moveHandles:function(t,e,n){st(t,e,S,n)},options:r,updateOptions:function(t,e){var o=yt(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach((function(e){void 0!==t[e]&&(r[e]=t[e])}));var u=Y(r);a.forEach((function(e){void 0!==t[e]&&(n[e]=u[e])})),k=u.spectrum,n.margin=u.margin,n.limit=u.limit,n.padding=u.padding,n.pips?$(n.pips):W(),n.tooltips?F():U(),S=[],bt(i(t.start)?t.start:o,e)},target:O,removePips:W,removeTooltips:U,getTooltips:function(){return v},getOrigins:function(){return c},pips:$};return mt}function Q(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var n=X(t,Y(e),e);return t.noUiSlider=n,n}var J={__spectrum:x,cssClasses:k,create:Q};t.create=Q,t.cssClasses=k,t.default=J,Object.defineProperty(t,"__esModule",{value:!0})},"object"===u(e)&&void 0!==t?a(e):(o=[e],void 0===(i="function"==typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(20),o=n(0),i=n(12),a=n(3);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function s(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=void 0;var e=document.getElementById("circuit");if(!e)throw new Error("circuit element not found");this.element=e}var e,n,s;return e=t,(n=[{key:"toJson",value:function(){var t,e=null,n=[],r=c(this.steps.filter((function(t){return!(t.instructions[0]instanceof a.g)})).filter((function(t){return!t.element.classList.contains(Object(o.h)("circuitStep:type:shadowSource"))})));try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.circuitBlock()){if(null===e){var u,s,l=null===(u=e=i.circuitBlock())||void 0===u?void 0:u.getElementsByClassName("circuit-block__label").item(0);o.f.notNull(l);var f=null===(s=l.textContent)||void 0===s?void 0:s.trim();o.f.notNull(f),n.push('["{'.concat(f,'"]'))}}else null!==e&&(e=null,n.push('["}"]'));n.push(i.toJson())}}catch(t){r.e(t)}finally{r.f()}return e&&n.push('["}"]'),'{"cols":['.concat(n.join(","),'],"init":false}')}},{key:"steps",get:function(){return Array.from(this.element.getElementsByClassName(Object(o.h)("circuitStep"))).map((function(t){return new r.c(t)}))}},{key:"emptySteps",get:function(){return this.steps.filter((function(t){return t.empty})).slice(0,-1)}},{key:"draggables",get:function(){return Array.from(this.element.getElementsByClassName(Object(o.h)("draggable:type:circuit"))).map((function(t){return new r.a(t)}))}},{key:"dropzones",get:function(){return Array.from(this.element.getElementsByClassName(Object(o.h)("dropzone:type:circuit"))).map((function(t){return new r.b(t)}))}},{key:"instructions",value:function(){return this.dropzones.map((function(t){return t.instruction}))}},{key:"appendNewWire",value:function(t){var e,n=this.wires,r=n[n.length-1].clone().clear().incrementQubitLabelValue(),o=c(r.dropzones);try{for(o.s();!(e=o.n()).done;)e.value.setInteract(t)}catch(t){o.e(t)}finally{o.f()}this.appendWire(r)}},{key:"removeEmptyWire",value:function(){for(var t=this.wires.length,e=this.wires,n=t-1;n>=0&&e[n].removable;--n)e[n].remove();this.updateNqubit()}},{key:"nqubit",get:function(){var t=this.element.getAttribute("data-nqubit");if(!t)throw new i.a("Couldn't get data-nqubit");return parseInt(t)}},{key:"updateNqubit",value:function(){this.element.setAttribute("data-nqubit",this.wires.length.toString())}},{key:"wires",get:function(){var t,e=[],n=c(this.steps);try{for(n.s();!(t=n.n()).done;){var o,i=c(t.value.childElements.entries());try{for(i.s();!(o=i.n()).done;){var a=u(o.value,2),s=a[0],l=a[1];e[s]||e.push([]),e[s].push(l)}}catch(t){i.e(t)}finally{i.f()}}}catch(t){n.e(t)}finally{n.f()}return e.map((function(t){return new r.d(t)}))}},{key:"appendWire",value:function(t){var e,n=c(this.steps.entries());try{for(n.s();!(e=n.n()).done;){var r=u(e.value,2),o=r[0];r[1].appendChild(t.elements[o])}}catch(t){n.e(t)}finally{n.f()}}}])&&f(e.prototype,n),s&&f(e,s),t}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));var r=n(0);function o(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e[i(r)];if(void 0===o)break;var a=o.abs(),u="",c=Math.round(100*a),s=c<10?0===c?0:10:10*Math.round(c/10);if(u+="qubit-circle qubit-circle--magnitude-".concat(s),0!==s){var l=o.phase()/Math.PI*180,f=10*Math.round(l/10);f<0&&(f=360+f),u+=" qubit-circle--phase-".concat(f.toString())}r.className=u}}function i(t){var e=t.getAttribute("data-ket");return r.f.notNull(e),parseInt(e)}},function(t,e,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function u(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],o=0;o<t.length;o++){var i=t[o],c=e.base?i[0]+e.base:i[0],s=n[c]||0,l="".concat(c," ").concat(s);n[c]=s+1;var f=u(l),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(p)):a.push({identifier:l,updater:y(p,e),references:1}),r.push(l)}return r}function s(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function p(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function d(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,b=0;function y(t,e){var n,r,o;if(e.singleton){var i=b++;n=h||(h=s(e)),r=p.bind(null,n,i,!1),o=p.bind(null,n,i,!0)}else n=s(e),r=d.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=u(n[r]);a[o].references--}for(var i=c(t,e),s=0;s<n.length;s++){var l=u(n[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(c," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([o]).join("\n")}var a,u,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},,,function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=w(a,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function p(){}function d(){}var h={};u(h,o,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(j([])));y&&y!==e&&n.call(y,o)&&(h=y);var v=d.prototype=f.prototype=Object.create(h);function m(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,u){var c=s(t[o],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,u(v,"constructor",d),u(d,"constructor",p),p.displayName=u(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(g.prototype),u(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new g(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(v),u(v,a,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},,,function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"edgeTarget",(function(){return de})),n.d(r,"elements",(function(){return he})),n.d(r,"grid",(function(){return me}));var o=n(4),i=n.n(o),a=i.a.mark(b);function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=new WeakSet;function l(t){d(t),p(t)}var f=new WeakMap;function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(f.has(t))return f.get(t);var e=!1,n=new MutationObserver((function(t){var e,n=u(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if("attributes"===r.type&&r.target instanceof Element)y(r.target);else if("childList"===r.type&&r.addedNodes.length){var o,i=u(r.addedNodes);try{for(i.s();!(o=i.n()).done;){var a=o.value;a instanceof Element&&d(a)}}catch(t){i.e(t)}finally{i.f()}}}}catch(t){n.e(t)}finally{n.f()}}));n.observe(t,{childList:!0,subtree:!0,attributeFilter:["data-action"]});var r={get closed(){return e},unsubscribe:function(){e=!0,f.delete(t),n.disconnect()}};return f.set(t,r),r}function d(t){var e,n=u(t.querySelectorAll("[data-action]"));try{for(n.s();!(e=n.n()).done;){y(e.value)}}catch(t){n.e(t)}finally{n.f()}t instanceof Element&&t.hasAttribute("data-action")&&y(t)}function h(t){var e,n=t.currentTarget,r=u(b(n));try{for(r.s();!(e=r.n()).done;){var o=e.value;if(t.type===o.type){var i=n.closest(o.tag);s.has(i)&&"function"==typeof i[o.method]&&i[o.method](t);var a=n.getRootNode();if(a instanceof ShadowRoot&&s.has(a.host)&&a.host.matches(o.tag)){var c=a.host;"function"==typeof c[o.method]&&c[o.method](t)}}}}catch(t){r.e(t)}finally{r.f()}}function b(t){var e,n,r,o,c;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=u((t.getAttribute("data-action")||"").trim().split(/\s+/)),i.prev=1,e.s();case 3:if((n=e.n()).done){i.next=11;break}return r=n.value,o=r.lastIndexOf(":"),c=r.lastIndexOf("#"),i.next=9,{type:r.slice(0,o),tag:r.slice(o+1,c),method:r.slice(c+1)};case 9:i.next=3;break;case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(1),e.e(i.t0);case 16:return i.prev=16,e.f(),i.finish(16);case 19:case"end":return i.stop()}}),a,null,[[1,13,16,19]])}function y(t){var e,n=u(b(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;t.addEventListener(r.type,h)}}catch(t){n.e(t)}finally{n.f()}}function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){return Object.defineProperty(t,e,{configurable:!0,get:function(){return function(t,e){var n=t.tagName.toLowerCase();if(t.shadowRoot){var r,o=v(t.shadowRoot.querySelectorAll('[data-target~="'.concat(n,".").concat(e,'"]')));try{for(o.s();!(r=o.n()).done;){var i=r.value;if(!i.closest(n))return i}}catch(t){o.e(t)}finally{o.f()}}var a,u=v(t.querySelectorAll('[data-target~="'.concat(n,".").concat(e,'"]')));try{for(u.s();!(a=u.n()).done;){var c=a.value;if(c.closest(n)===t)return c}}catch(t){u.e(t)}finally{u.f()}}(this,e)}})}function w(t,e){return Object.defineProperty(t,e,{configurable:!0,get:function(){return function(t,e){var n=t.tagName.toLowerCase(),r=[];if(t.shadowRoot){var o,i=v(t.shadowRoot.querySelectorAll('[data-targets~="'.concat(n,".").concat(e,'"]')));try{for(i.s();!(o=i.n()).done;){var a=o.value;a.closest(n)||r.push(a)}}catch(t){i.e(t)}finally{i.f()}}var u,c=v(t.querySelectorAll('[data-targets~="'.concat(n,".").concat(e,'"]')));try{for(c.s();!(u=c.n()).done;){var s=u.value;s.closest(n)===t&&r.push(s)}}catch(t){c.e(t)}finally{c.f()}return r}(this,e)}})}function x(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||A(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=A(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function A(t,e){if(t){if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S=new WeakMap;function _(t,e){S.has(t)||S.set(t,[]),S.get(t).push(e)}function z(t){for(var e=new Set,n=t;n&&n!==HTMLElement;){var r,o=j(S.get(n)||[]);try{for(o.s();!(r=o.n()).done;){var i=r.value;e.add(i)}}catch(t){o.e(t)}finally{o.f()}n=Object.getPrototypeOf(n)}return e}function P(t){return"data-".concat(t.replace(/([A-Z]($|[a-z]))/g,"-$1")).replace(/--/g,"-").toLowerCase()}function C(t){var e=t.prototype.connectedCallback;t.prototype.connectedCallback=function(){this.toggleAttribute("data-catalyst",!0),function(t){var e,n=x(t.querySelectorAll("template[data-shadowroot]"));try{for(n.s();!(e=n.n()).done;){var r=e.value;r.parentElement===t&&t.attachShadow({mode:"closed"===r.getAttribute("data-shadowroot")?"closed":"open"}).append(r.content.cloneNode(!0))}}catch(t){n.e(t)}finally{n.f()}}(this),function(t,e){e||(e=z(Object.getPrototypeOf(t)));var n,r=j(e);try{var o=function(){var e=n.value,r=t[e],o=P(e),i={get:function(){return this.getAttribute(o)||""},set:function(t){this.setAttribute(o,t||"")}};"number"==typeof r?i={get:function(){return Number(this.getAttribute(o)||0)},set:function(t){this.setAttribute(o,t)}}:"boolean"==typeof r&&(i={get:function(){return this.hasAttribute(o)},set:function(t){this.toggleAttribute(o,t)}}),Object.defineProperty(t,e,i),e in t&&!t.hasAttribute(o)&&i.set.call(t,r)};for(r.s();!(n=r.n()).done;)o()}catch(t){r.e(t)}finally{r.f()}}(this),function(t){s.add(t),t.shadowRoot&&l(t.shadowRoot),d(t),p(t.ownerDocument)}(this),e&&e.call(this),this.shadowRoot&&l(this.shadowRoot)},function(t){var e=t.observedAttributes||[];Object.defineProperty(t,"observedAttributes",{get:function(){return k(z(t.prototype)).map(P).concat(e)},set:function(t){e=t}})}(t),function(t){var e=t.name.replace(/([A-Z]($|[a-z]))/g,"-$1").replace(/(^-|-Element$)/g,"").toLowerCase();window.customElements.get(e)||(window[t.name]=t,window.customElements.define(e,t))}(t)}var T=i.a.mark(R);function R(t){var e,n,r,o;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e="",n=0,r=!1,o=0;case 4:if(!(o<t.length)){i.next=26;break}if("{"!==t[o]||"{"!==t[o+1]||"\\"===t[o-1]||r){i.next=15;break}if(r=!0,!e){i.next=10;break}return i.next=10,{type:"string",start:n,end:o,value:e};case 10:e="{{",n=o,o+=2,i.next=22;break;case 15:if("}"!==t[o]||"}"!==t[o+1]||"\\"===t[o-1]||!r){i.next=22;break}return r=!1,i.next=19,{type:"part",start:n,end:o+2,value:e.slice(2).trim()};case 19:e="",n=o+=2;case 22:e+=t[o]||"";case 23:o+=1,i.next=4;break;case 26:if(!e){i.next=29;break}return i.next=29,{type:"string",start:n,end:t.length,value:e};case 29:case"end":return i.stop()}}),T)}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e,n){return e&&M(t.prototype,e),n&&M(t,n),t}var B,I,L=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},N=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},U=function(){function t(e,n){q(this,t),this.expression=n,B.set(this,void 0),I.set(this,""),L(this,B,e),N(this,B).updateParent("")}return D(t,[{key:"attributeName",get:function(){return N(this,B).attr.name}},{key:"attributeNamespace",get:function(){return N(this,B).attr.namespaceURI}},{key:"value",get:function(){return N(this,I)},set:function(t){L(this,I,t||""),N(this,B).updateParent(t)}},{key:"element",get:function(){return N(this,B).element}},{key:"booleanValue",get:function(){return N(this,B).booleanValue},set:function(t){N(this,B).booleanValue=t}}]),t}();B=new WeakMap,I=new WeakMap;var F=function(){function t(e,n){q(this,t),this.element=e,this.attr=n,this.partList=[]}return D(t,[{key:"booleanValue",get:function(){return this.element.hasAttributeNS(this.attr.namespaceURI,this.attr.name)},set:function(t){if(1!==this.partList.length)throw new DOMException("Operation not supported","NotSupportedError");this.partList[0].value=t?"":null}},{key:"append",value:function(t){this.partList.push(t)}},{key:"updateParent",value:function(t){if(1===this.partList.length&&null===t)this.element.removeAttributeNS(this.attr.namespaceURI,this.attr.name);else{var e=this.partList.map((function(t){return"string"==typeof t?t:t.value})).join("");this.element.setAttributeNS(this.attr.namespaceURI,this.attr.name,e)}}}]),t}();function H(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=V(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function G(t){return function(t){if(Array.isArray(t))return W(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||V(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){if(t){if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Y,X=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Q=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},J=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.expression=n,Y.set(this,void 0),X(this,Y,[e]),e.textContent=""}var e,n,r;return e=t,(n=[{key:"value",get:function(){return Q(this,Y).map((function(t){return t.textContent})).join("")},set:function(t){this.replace(t)}},{key:"previousSibling",get:function(){return Q(this,Y)[0].previousSibling}},{key:"nextSibling",get:function(){return Q(this,Y)[Q(this,Y).length-1].nextSibling}},{key:"replace",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.map((function(t){return"string"==typeof t?new Text(t):t}));o.length||o.push(new Text("")),(t=Q(this,Y)[0]).before.apply(t,G(o));var i,a=H(Q(this,Y));try{for(a.s();!(i=a.n()).done;){var u=i.value;u.remove()}}catch(t){a.e(t)}finally{a.f()}X(this,Y,o)}}])&&$(e.prototype,n),r&&$(e,r),t}();function K(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t){return{createCallback:function(t,e,n){this.processCallback(t,e,n)},processCallback:function(e,n,r){var o;if("object"===tt(r)&&r){var i,a=K(n);try{for(a.s();!(i=a.n()).done;){var u=i.value;if(u.expression in r){var c=null!==(o=r[u.expression])&&void 0!==o?o:"";t(u,c)}}}catch(t){a.e(t)}finally{a.f()}}}}}function nt(t,e){t.value=String(e)}function rt(t,e){return"boolean"==typeof e&&t instanceof U&&"boolean"==typeof t.element[t.attributeName]&&(t.booleanValue=e,!0)}Y=new WeakMap;var ot=et(nt);et((function(t,e){rt(t,e)||nt(t,e)}));function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return st(t)}function st(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){var e="function"==typeof Map?new Map:void 0;return(lt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ft(t,arguments,ht(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),dt(r,t)})(t)}function ft(t,e,n){return(ft=pt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&dt(o,n.prototype),o}).apply(null,arguments)}function pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bt=i.a.mark(Ot);function yt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mt,gt,wt=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},xt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};function Ot(t){var e,n,r,o,a,u,c,s,l,f,p,d;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=t.ownerDocument.createTreeWalker(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,null,!1);case 1:if(!(n=e.nextNode())){i.next=59;break}if(!(n instanceof Element&&n.hasAttributes())){i.next=36;break}r=0;case 4:if(!(r<n.attributes.length)){i.next=34;break}if(!(o=n.attributes.item(r))||!o.value.includes("{{")){i.next=31;break}a=new F(n,o),u=yt(R(o.value)),i.prev=9,u.s();case 11:if((c=u.n()).done){i.next=23;break}if("string"!==(s=c.value).type){i.next=17;break}a.append(s.value),i.next=21;break;case 17:return l=new U(a,s.value),a.append(l),i.next=21,l;case 21:i.next=11;break;case 23:i.next=28;break;case 25:i.prev=25,i.t0=i.catch(9),u.e(i.t0);case 28:return i.prev=28,u.f(),i.finish(28);case 31:r+=1,i.next=4;break;case 34:i.next=57;break;case 36:if(!(n instanceof Text&&n.textContent&&n.textContent.includes("{{"))){i.next=57;break}f=yt(R(n.textContent)),i.prev=38,f.s();case 40:if((p=f.n()).done){i.next=49;break}if((d=p.value).end<n.textContent.length&&n.splitText(d.end),"part"!==d.type){i.next=46;break}return i.next=46,new J(n,d.value);case 46:return i.abrupt("break",49);case 47:i.next=40;break;case 49:i.next=54;break;case 51:i.prev=51,i.t1=i.catch(38),f.e(i.t1);case 54:return i.prev=54,f.f(),i.finish(54);case 57:i.next=1;break;case 59:case"end":return i.stop()}}),bt,null,[[9,25,28,31],[38,51,54,57]])}var kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(u,t);var e,n,r,o,i,a=(e=u,n=pt(),function(){var t,r=ht(e);if(n){var o=ht(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ct(this,t)});function u(t,e){var n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ot;return at(this,u),n=a.call(this),mt.set(st(n),void 0),gt.set(st(n),void 0),Object.getPrototypeOf(st(n)!==u.prototype)&&Object.setPrototypeOf(st(n),u.prototype),n.appendChild(t.content.cloneNode(!0)),wt(st(n),gt,Array.from(Ot(st(n)))),wt(st(n),mt,i),null===(o=(r=xt(st(n),mt)).createCallback)||void 0===o||o.call(r,st(n),xt(st(n),gt),e),n}return r=u,(o=[{key:"update",value:function(t){xt(this,mt).processCallback(this,xt(this,gt),t)}}])&&ut(r.prototype,o),i&&ut(r,i),u}(lt(DocumentFragment));mt=new WeakMap,gt=new WeakMap;var jt=new WeakSet;function At(t,e){return n=e,!!jt.has(n)&&(e(t),!0);var n}function Et(t){return function(){var e=t.apply(void 0,arguments);return jt.add(e),e}}function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zt=new WeakMap,Pt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.type=n,this.element.addEventListener(this.type,this),zt.get(this.element).set(this.type,this)}var e,n,r;return e=t,r=[{key:"for",value:function(e){zt.has(e.element)||zt.set(e.element,new Map);var n=e.attributeName.slice(2),r=zt.get(e.element);return r.has(n)?r.get(n):new t(e.element,n)}}],(n=[{key:"set",value:function(t){"function"==typeof t?this.handleEvent=t.bind(this.element):"object"===St(t)&&"function"==typeof t.handleEvent?this.handleEvent=t.handleEvent.bind(t):(this.element.removeEventListener(this.type,this),zt.get(this.element).delete(this.type))}}])&&_t(e.prototype,n),r&&_t(e,r),t}();function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t){return function(t){if(Array.isArray(t))return Mt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||qt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(t,e){if(t){if("string"==typeof t)return Mt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(t,e):void 0}}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dt(t,e){if(!function(t){return"object"===Tt(t)&&Symbol.iterator in t}(e))return!1;if(t instanceof J){var n,r=[],o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=qt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i instanceof Ut){var a=document.createDocumentFragment();i.renderInto(a),r.push.apply(r,Rt(a.childNodes))}else i instanceof DocumentFragment?r.push.apply(r,Rt(i.childNodes)):r.push(String(i))}}catch(t){o.e(t)}finally{o.f()}return r.length&&t.replace.apply(t,r),!0}return t.value=Array.from(e).join(" "),!0}function Bt(t,e){At(t,e)||rt(t,e)||function(t,e){return!!(t instanceof U&&t.attributeName.startsWith("on"))&&(Pt.for(t).set(e),t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),!0)}(t,e)||function(t,e){return e instanceof Ut&&t instanceof J&&(e.renderInto(t),!0)}(t,e)||function(t,e){return e instanceof DocumentFragment&&t instanceof J&&(e.childNodes.length&&t.replace.apply(t,Rt(e.childNodes)),!0)}(t,e)||Dt(t,e)||nt(t,e)}var It=new WeakMap,Lt=new WeakMap,Nt=new WeakMap,Ut=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.strings=e,this.values=n,this.processor=r}var e,n,r;return e=t,(n=[{key:"template",get:function(){if(It.has(this.strings))return It.get(this.strings);var t=document.createElement("template"),e=this.strings.length-1;return t.innerHTML=this.strings.reduce((function(t,n,r){return t+n+(r<e?"{{ ".concat(r," }}"):"")}),""),It.set(this.strings,t),t}},{key:"renderInto",value:function(t){var e=this.template;if(Lt.get(t)!==e){Lt.set(t,e);var n=new kt(e,this.values,this.processor);return Nt.set(t,n),void(t instanceof J?t.replace.apply(t,Rt(n.children)):t.appendChild(n))}Nt.get(t).update(this.values)}}])&&Ct(e.prototype,n),r&&Ct(e,r),t}(),Ft=et(Bt);function Ht(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Ut(t,n,Ft)}function Gt(t,e){t.renderInto(e)}var Vt=new WeakMap;Et((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){Vt.has(t)||Vt.set(t,{i:e.length});for(var n=Vt.get(t),r=function(r){e[r]instanceof Promise?Promise.resolve(e[r]).then((function(e){r<n.i&&(n.i=r,Bt(t,e))})):r<=n.i&&(n.i=r,Bt(t,e[r]))},o=0;o<e.length;o+=1)r(o)}}));function Wt(t){return function(t){if(Array.isArray(t))return $t(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return $t(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $t(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yt,Xt,Qt,Jt,Kt;Et((function(t){return function(e){if(e instanceof J){var n=document.createElement("template");n.innerHTML=t;var r=document.importNode(n.content,!0);e.replace.apply(e,Wt(r.childNodes))}}}));function Zt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ne(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return re(t)}function re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oe(t){var e="function"==typeof Map?new Map:void 0;return(oe=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ie(t,arguments,ce(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ue(r,t)})(t)}function ie(t,e,n){return(ie=ae()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&ue(o,n.prototype),o}).apply(null,arguments)}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ue(t,e){return(ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function se(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var le=C((Xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ue(t,e)}(CircuitBlockElement,t);var e,n,r,o,i,a=(e=CircuitBlockElement,n=ae(),function(){var t,r=ce(e);if(n){var o=ce(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ne(this,t)});function CircuitBlockElement(){var t;te(this,CircuitBlockElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Zt(t=a.call.apply(a,[this].concat(n)),"comment",Qt,re(t)),Zt(t,"finalized",Jt,re(t)),t}return r=CircuitBlockElement,i=[{key:"create",value:function(t){var e=document.createElement("circuit-block");return e.comment=t,e.setAttribute("data-targets","quantum-circuit.blocks"),e}}],(o=[{key:"finalize",value:function(){this.finalized=!0}},{key:"connectedCallback",value:function(){this.attachShadow({mode:"open"}),this.update()}},{key:"update",value:function(){var t,e;Gt(Ht(Kt||(t=['<style>\n          :host {\n            position: relative;\n          }\n\n          :host::before,\n          :host::after {\n            position: absolute;\n            display: flex;\n            justify-content: center;\n            color: var(--colors-magnitude, #1cb0f6);\n            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,\n              "Liberation Mono", "Courier New", monospace;\n            white-space: nowrap;\n            content: attr(data-comment) "";\n\n            writing-mode: vertical-lr;\n          }\n\n          :host::before {\n            top: 0;\n            right: 0;\n            bottom: 0;\n            left: unset;\n          }\n\n          :host::after {\n            top: 0;\n            left: 0;\n            bottom: 0;\n            right: unset;\n          }\n\n          @media (min-width: 768px) {\n            :host::before,\n            :host::after {\n              writing-mode: horizontal-tb;\n              left: 0;\n              right: 0;\n            }\n\n            :host::before {\n              top: 0;\n              bottom: unset;\n            }\n\n            :host::after {\n              bottom: 0;\n              top: unset;\n            }\n          }\n\n          #body {\n            display: flex;\n            border-style: solid;\n            border-color: var(--colors-magnitude, #1cb0f6);\n            background-color: rgba(0, 0, 0, 0.05);\n\n            flex-direction: column;\n\n            margin-left: 1.5rem;\n            margin-right: 1.5rem;\n            padding-left: 1.5rem;\n            padding-right: 1.5rem;\n\n            border-top-width: 0;\n            border-right-width: 2px;\n            border-bottom-width: 0;\n            border-left-width: 2px;\n          }\n\n          @media (min-width: 768px) {\n            #body {\n              flex-direction: row;\n\n              margin-top: 1.5rem;\n              margin-bottom: 1.5rem;\n              margin-left: 0;\n              margin-right: 0;\n\n              padding: 2rem 0;\n              border-top-width: 2px;\n              border-right-width: 0;\n              border-bottom-width: 2px;\n              border-left-width: 0;\n            }\n          }\n        </style>\n\n        <div id="body">\n          <slot></slot>\n        </div>'],e||(e=t.slice(0)),Kt=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}})))),this.shadowRoot)}}])&&ee(r.prototype,o),i&&ee(r,i),CircuitBlockElement}(oe(HTMLElement)),Qt=se(Xt.prototype,"comment",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jt=se(Xt.prototype,"finalized",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yt=Xt))||Yt,fe=(n(30),n(33),n(31),n(32),n(8)),pe=n(5),de=function(){},he=function(){};function be(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||ye(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(t,e){if(t){if("string"==typeof t)return ve(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(t,e):void 0}}function ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var me=function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(e){var n=be(e,2),r=n[0],o=n[1];return r in t||o in t})),n=function(n,r){var o,i=t.range,a=t.limits,u=void 0===a?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:a,c=t.offset,s=void 0===c?{x:0,y:0}:c,l={range:i,grid:t,x:null,y:null},f=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ye(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{for(f.s();!(o=f.n()).done;){var p=be(o.value,2),d=p[0],h=p[1],b=Math.round((n-s.x)/t[d]),y=Math.round((r-s.y)/t[h]);l[d]=Math.max(u.left,Math.min(u.right,b*t[d]+s.x)),l[h]=Math.max(u.top,Math.min(u.bottom,y*t[h]+s.y))}}catch(t){f.e(t)}finally{f.f()}return l};return n.grid=t,n.coordFields=e,n},ge={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=Object(pe.a)(e.snappers||{},r),e.createSnapGrid=e.snappers.grid}},we=n(16),xe=n(25);function Oe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||je(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=je(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function je(t,e){if(t){if("string"==typeof t)return Ae(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(t,e):void 0}}function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Se=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=e,this.result=_e()}var e,n,r;return e=t,(n=[{key:"start",value:function(t,e){var n=t.phase,r=this.interaction,o=function(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(t){var n=e[t];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(t){return!!t}))}(r);this.prepareStates(o),this.edges=Object(pe.a)({},r.edges),this.startOffset=function(t,e){return t?{left:e.x-t.left,top:e.y-t.top,right:t.right-e.x,bottom:t.bottom-e.y}:{left:0,top:0,right:0,bottom:0}}(r.rect,e),this.startDelta={x:0,y:0};var i=this.fillArg({phase:n,pageCoords:e,preEnd:!1});return this.result=_e(),this.startAll(i),this.result=this.setAll(i)}},{key:"fillArg",value:function(t){var e=this.interaction;return t.interaction=e,t.interactable=e.interactable,t.element=e.element,t.rect=t.rect||e.rect,t.edges=this.edges,t.startOffset=this.startOffset,t}},{key:"startAll",value:function(t){var e,n=ke(this.states);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.methods.start&&(t.state=r,r.methods.start(t))}}catch(t){n.e(t)}finally{n.f()}}},{key:"setAll",value:function(t){var e=t.phase,n=t.preEnd,r=t.skipModifiers,o=t.rect;t.coords=Object(pe.a)({},t.pageCoords),t.rect=Object(pe.a)({},o);var i,a=r?this.states.slice(r):this.states,u=_e(t.coords,t.rect),c=ke(a);try{for(c.s();!(i=c.n()).done;){var s,l=i.value,f=l.options,p=Object(pe.a)({},t.coords),d=null;null!=(s=l.methods)&&s.set&&this.shouldDo(f,n,e)&&(t.state=l,d=l.methods.set(t),we.a(this.interaction.edges,t.rect,{x:t.coords.x-p.x,y:t.coords.y-p.y})),u.eventProps.push(d)}}catch(t){c.e(t)}finally{c.f()}u.delta.x=t.coords.x-t.pageCoords.x,u.delta.y=t.coords.y-t.pageCoords.y,u.rectDelta.left=t.rect.left-o.left,u.rectDelta.right=t.rect.right-o.right,u.rectDelta.top=t.rect.top-o.top,u.rectDelta.bottom=t.rect.bottom-o.bottom;var h=this.result.coords,b=this.result.rect;if(h&&b){var y=u.rect.left!==b.left||u.rect.right!==b.right||u.rect.top!==b.top||u.rect.bottom!==b.bottom;u.changed=y||h.x!==u.coords.x||h.y!==u.coords.y}return u}},{key:"applyToInteraction",value:function(t){var e=this.interaction,n=t.phase,r=e.coords.cur,o=e.coords.start,i=this.result,a=this.startDelta,u=i.delta;"start"===n&&Object(pe.a)(this.startDelta,i.delta);for(var c=0,s=[[o,a],[r,u]];c<s.length;c++){var l=Oe(s[c],2),f=l[0],p=l[1];f.page.x+=p.x,f.page.y+=p.y,f.client.x+=p.x,f.client.y+=p.y}var d=this.result.rectDelta,h=t.rect||e.rect;h.left+=d.left,h.right+=d.right,h.top+=d.top,h.bottom+=d.bottom,h.width=h.right-h.left,h.height=h.bottom-h.top}},{key:"setAndApply",value:function(t){var e=this.interaction,n=t.phase,r=t.preEnd,o=t.skipModifiers,i=this.setAll(this.fillArg({preEnd:r,phase:n,pageCoords:t.modifiedCoords||e.coords.cur.page}));if(this.result=i,!i.changed&&(!o||o<this.states.length)&&e.interacting())return!1;if(t.modifiedCoords){var a=e.coords.cur.page,u={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};i.coords.x+=u.x,i.coords.y+=u.y,i.delta.x+=u.x,i.delta.y+=u.y}this.applyToInteraction(t)}},{key:"beforeEnd",value:function(t){var e=t.interaction,n=t.event,r=this.states;if(r&&r.length){var o,i=!1,a=ke(r);try{for(a.s();!(o=a.n()).done;){var u=o.value;t.state=u;var c=u.options,s=u.methods,l=s.beforeEnd&&s.beforeEnd(t);if(l)return this.endResult=l,!1;i=i||!i&&this.shouldDo(c,!0,t.phase,!0)}}catch(t){a.e(t)}finally{a.f()}i&&e.move({event:n,preEnd:!0})}}},{key:"stop",value:function(t){var e=t.interaction;if(this.states&&this.states.length){var n=Object(pe.a)({states:this.states,interactable:e.interactable,element:e.element,rect:null},t);this.fillArg(n);var r,o=ke(this.states);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.state=i,i.methods.stop&&i.methods.stop(n)}}catch(t){o.e(t)}finally{o.f()}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(t){this.states=[];for(var e=0;e<t.length;e++){var n=t[e],r=n.options,o=n.methods,i=n.name;this.states.push({options:r,methods:o,index:e,name:i})}return this.states}},{key:"restoreInteractionCoords",value:function(t){var e=t.interaction,n=e.coords,r=e.rect,o=e.modification;if(o.result){for(var i=o.startDelta,a=o.result,u=a.delta,c=a.rectDelta,s=0,l=[[n.start,i],[n.cur,u]];s<l.length;s++){var f=Oe(l[s],2),p=f[0],d=f[1];p.page.x-=d.x,p.page.y-=d.y,p.client.x-=d.x,p.client.y-=d.y}r.left-=c.left,r.right-=c.right,r.top-=c.top,r.bottom-=c.bottom}}},{key:"shouldDo",value:function(t,e,n,r){return!(!t||!1===t.enabled||r&&!t.endOnly||t.endOnly&&!e||"start"===n&&!t.setStart)}},{key:"copyFrom",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.edges=t.edges,this.states=t.states.map((function(t){return Object(xe.a)(t)})),this.result=_e(Object(pe.a)({},t.result.coords),Object(pe.a)({},t.result.rect))}},{key:"destroy",value:function(){for(var t in this)this[t]=null}}])&&Ee(e.prototype,n),r&&Ee(e,r),t}();function _e(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function ze(t,e){var n=t.defaults,r={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},o=function(t){var o=t||{};for(var i in o.enabled=!1!==o.enabled,n)i in o||(o[i]=n[i]);var a={options:o,methods:r,name:e,enable:function(){return o.enabled=!0,a},disable:function(){return o.enabled=!1,a}};return a};return e&&"string"==typeof e&&(o._defaults=n,o._methods=r),o}function Pe(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}var Ce={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new Se(e)},"interactions:before-action-start":function(t){var e=t.interaction.modification;e.start(t,t.interaction.coords.start.page),t.interaction.edges=e.edges,e.applyToInteraction(t)},"interactions:before-action-move":function(t){return t.interaction.modification.setAndApply(t)},"interactions:before-action-end":function(t){return t.interaction.modification.beforeEnd(t)},"interactions:action-start":Pe,"interactions:action-move":Pe,"interactions:action-end":Pe,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}};function Te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(n),!0).forEach((function(e){qe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Me(t,e,n){var r=t.startCoords,o=t.edgeSign;e?n.y=r.y+(n.x-r.x)*o:n.x=r.x+(n.y-r.y)*o}function De(t,e,n,r){var o=t.startRect,i=t.startCoords,a=t.ratio,u=t.edgeSign;if(e){var c=r.width/a;n.y=i.y+(c-o.height)*u}else{var s=r.height*a;n.x=i.x+(s-o.width)*u}}var Be=ze({start:function(t){var e=t.state,n=t.rect,r=t.edges,o=t.pageCoords,i=e.options.ratio,a=e.options,u=a.equalDelta,c=a.modifiers;"preserve"===i&&(i=n.width/n.height),e.startCoords=Object(pe.a)({},o),e.startRect=Object(pe.a)({},n),e.ratio=i,e.equalDelta=u;var s=e.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(e.xIsPrimaryAxis=!(!r.left&&!r.right),e.equalDelta)e.edgeSign=(s.left?1:-1)*(s.top?1:-1);else{var l=e.xIsPrimaryAxis?s.top:s.left;e.edgeSign=l?-1:1}if(Object(pe.a)(t.edges,s),c&&c.length){var f=new Se(t.interaction);f.copyFrom(t.interaction.modification),f.prepareStates(c),e.subModification=f,f.startAll(Re({},t))}},set:function(t){var e=t.state,n=t.rect,r=t.coords,o=Object(pe.a)({},r),i=e.equalDelta?Me:De;if(i(e,e.xIsPrimaryAxis,r,n),!e.subModification)return null;var a=Object(pe.a)({},n);Object(we.a)(e.linkedEdges,a,{x:r.x-o.x,y:r.y-o.y});var u=e.subModification.setAll(Re(Re({},t),{},{rect:a,edges:e.linkedEdges,pageCoords:r,prevCoords:r,prevRect:a})),c=u.delta;return u.changed&&(i(e,Math.abs(c.x)>Math.abs(c.y),u.coords,u.rect),Object(pe.a)(r,u.coords)),u.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}},"aspectRatio"),Ie=function(){};Ie._defaults={};var Le=Ie,Ne=n(1);function Ue(t,e,n){return Ne.a.func(t)?we.c(t,e.interactable,e.element,[n.x,n.y,e]):we.c(t,e.interactable,e.element)}var Fe={start:function(t){var e=t.rect,n=t.startOffset,r=t.state,o=t.interaction,i=t.pageCoords,a=r.options,u=a.elementRect,c=Object(pe.a)({left:0,top:0,right:0,bottom:0},a.offset||{});if(e&&u){var s=Ue(a.restriction,o,i);if(s){var l=s.right-s.left-e.width,f=s.bottom-s.top-e.height;l<0&&(c.left+=l,c.right+=l),f<0&&(c.top+=f,c.bottom+=f)}c.left+=n.left-e.width*u.left,c.top+=n.top-e.height*u.top,c.right+=n.right-e.width*(1-u.right),c.bottom+=n.bottom-e.height*(1-u.bottom)}r.offset=c},set:function(t){var e=t.coords,n=t.interaction,r=t.state,o=r.options,i=r.offset,a=Ue(o.restriction,n,e);if(a){var u=we.e(a);e.x=Math.max(Math.min(u.right-i.right,e.x),u.left+i.left),e.y=Math.max(Math.min(u.bottom-i.bottom,e.y),u.top+i.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},He=ze(Fe,"restrict"),Ge={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Ve={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function We(t,e){for(var n=0,r=["top","left","bottom","right"];n<r.length;n++){var o=r[n];o in t||(t[o]=e[o])}return t}var $e={noInner:Ge,noOuter:Ve,start:function(t){var e,n=t.interaction,r=t.startOffset,o=t.state,i=o.options;if(i){var a=Ue(i.offset,n,n.coords.start.page);e=we.b(a)}e=e||{x:0,y:0},o.offset={top:e.y+r.top,left:e.x+r.left,bottom:e.y-r.bottom,right:e.x-r.right}},set:function(t){var e=t.coords,n=t.edges,r=t.interaction,o=t.state,i=o.offset,a=o.options;if(n){var u=Object(pe.a)({},e),c=Ue(a.inner,r,u)||{},s=Ue(a.outer,r,u)||{};We(c,Ge),We(s,Ve),n.top?e.y=Math.min(Math.max(s.top+i.top,u.y),c.top+i.top):n.bottom&&(e.y=Math.max(Math.min(s.bottom+i.bottom,u.y),c.bottom+i.bottom)),n.left?e.x=Math.min(Math.max(s.left+i.left,u.x),c.left+i.left):n.right&&(e.x=Math.max(Math.min(s.right+i.right,u.x),c.right+i.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Ye=ze($e,"restrictEdges"),Xe=Object(pe.a)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},Fe.defaults),Qe=ze({start:Fe.start,set:Fe.set,defaults:Xe},"restrictRect"),Je={width:-1/0,height:-1/0},Ke={width:1/0,height:1/0},Ze=ze({start:function(t){return $e.start(t)},set:function(t){var e=t.interaction,n=t.state,r=t.rect,o=t.edges,i=n.options;if(o){var a=we.d(Ue(i.min,e,t.coords))||Je,u=we.d(Ue(i.max,e,t.coords))||Ke;n.options={endOnly:i.endOnly,inner:Object(pe.a)({},$e.noInner),outer:Object(pe.a)({},$e.noOuter)},o.top?(n.options.inner.top=r.bottom-a.height,n.options.outer.top=r.bottom-u.height):o.bottom&&(n.options.inner.bottom=r.top+a.height,n.options.outer.bottom=r.top+u.height),o.left?(n.options.inner.left=r.right-a.width,n.options.outer.left=r.right-u.width):o.right&&(n.options.inner.right=r.left+a.width,n.options.outer.right=r.left+u.width),$e.set(t),n.options=i}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),tn=n(28),en=n(26);function nn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var on={start:function(t){var e,n=t.interaction,r=t.interactable,o=t.element,i=t.rect,a=t.state,u=t.startOffset,c=a.options,s=c.offsetWithOrigin?function(t){var e=t.interaction.element;return Object(we.b)(Object(we.c)(t.state.options.origin,null,null,[e]))||Object(tn.a)(t.interactable,e,t.interaction.prepared.name)}(t):{x:0,y:0};if("startCoords"===c.offset)e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var l=Object(we.c)(c.offset,r,o,[n]);(e=Object(we.b)(l)||{x:0,y:0}).x+=s.x,e.y+=s.y}var f=c.relativePoints;a.offsets=i&&f&&f.length?f.map((function(t,n){return{index:n,relativePoint:t,x:u.left-i.width*t.x+e.x,y:u.top-i.height*t.y+e.y}})):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,n=t.coords,r=t.state,o=r.options,i=r.offsets,a=Object(tn.a)(e.interactable,e.element,e.prepared.name),u=Object(pe.a)({},n),c=[];o.offsetWithOrigin||(u.x-=a.x,u.y-=a.y);var s,l=nn(i);try{for(l.s();!(s=l.n()).done;)for(var f=s.value,p=u.x-f.x,d=u.y-f.y,h=0,b=o.targets.length;h<b;h++){var y,v=o.targets[h];(y=Ne.a.func(v)?v(p,d,e._proxy,f,h):v)&&c.push({x:(Ne.a.number(y.x)?y.x:p)+f.x,y:(Ne.a.number(y.y)?y.y:d)+f.y,range:Ne.a.number(y.range)?y.range:o.range,source:v,index:h,offset:f})}}catch(t){l.e(t)}finally{l.f()}for(var m={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},g=0,w=c;g<w.length;g++){var x=w[g],O=x.range,k=x.x-u.x,j=x.y-u.y,A=Object(en.a)(k,j),E=A<=O;O===1/0&&m.inRange&&m.range!==1/0&&(E=!1),m.target&&!(E?m.inRange&&O!==1/0?A/O<m.distance/m.range:O===1/0&&m.range!==1/0||A<m.distance:!m.inRange&&A<m.distance)||(m.target=x,m.distance=A,m.range=O,m.inRange=E,m.delta.x=k,m.delta.y=j)}return m.inRange&&(n.x=m.target.x,n.y=m.target.y),r.closest=m,m},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},an=ze(on,"snap");function un(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||sn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=sn(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function sn(t,e){if(t){if("string"==typeof t)return ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(t,e):void 0}}function ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fn={start:function(t){var e=t.state,n=t.edges,r=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],on.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,n=t.state,r=t.coords,o=n.options,i=n.offsets,a={x:r.x-i[0].x,y:r.y-i[0].y};n.options=Object(pe.a)({},o),n.options.targets=[];var u,c=cn(o.targets||[]);try{for(c.s();!(u=c.n()).done;){var s=u.value,l=void 0;if(l=Ne.a.func(s)?s(a.x,a.y,e):s){var f,p=cn(n.targetFields);try{for(p.s();!(f=p.n()).done;){var d=un(f.value,2),h=d[0],b=d[1];if(h in l||b in l){l.x=l[h],l.y=l[b];break}}}catch(t){p.e(t)}finally{p.f()}n.options.targets.push(l)}}}catch(t){c.e(t)}finally{c.f()}var y=on.set(t);return n.options=o,y},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},pn=ze(fn,"snapSize"),dn={aspectRatio:Be,restrictEdges:Ye,restrict:He,restrictRect:Qe,restrictSize:Ze,snapEdges:ze({start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],fn.start(t)):null},set:fn.set,defaults:Object(pe.a)(Object(xe.a)(fn.defaults),{targets:null,range:null,offset:{x:0,y:0}})},"snapEdges"),snap:an,snapSize:pn,spring:Le,avoid:Le,transform:Le,rubberband:Le},hn={id:"modifiers",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(Ce),t.usePlugin(ge),e.modifiers=dn,dn){var r=dn[n],o=r._defaults,i=r._methods;o._methods=i,t.defaults.perAction[n]=o}}};fe.a.use(hn);var bn,yn,vn,mn=n(20);function gn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t,e){return(xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function On(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jn(t);if(e){var o=jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kn(this,n)}}function kn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function An(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xn(t,e)}(i,t);var e,n,r,o=On(i);function i(){return gn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"showRightClickPopup",value:function(t){(2===t.button||t.ctrlKey)&&(new mn.h).show(this)}}])&&wn(e.prototype,n),r&&wn(e,r),i}(t)}function En(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _n(t,e){return(_n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cn(t);if(e){var o=Cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pn(this,n)}}function Pn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cn(t){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tn(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_n(t,e)}(i,t);var e,n,r,o=zn(i);function i(){return En(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"controls",get:function(){var t=this.getAttribute("data-controls");return null===t||""===t?[]:t.split(",").map((function(t){return parseInt(t)})).sort()},set:function(t){this.setAttribute("data-controls",t.sort().join())}}])&&Sn(e.prototype,n),r&&Sn(e,r),i}(t)}function Rn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dn(t,e){return(Dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nn(t);if(e){var o=Nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return In(this,n)}}function In(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ln(t)}function Ln(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Un(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function Fn(t){var e,n,r;return n=Un((e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dn(t,e)}(u,t);var e,o,i,a=Bn(u);function u(){var t;qn(this,u);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return Rn(t=a.call.apply(a,[this].concat(o)),"disabled",n,Ln(t)),Rn(t,"iconType",r,Ln(t)),t}return e=u,(o=[{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"enabled",get:function(){return!this.disabled}},{key:"disabledStyle",get:function(){return Ht(bn||(t=["<style>\n        :host([data-disabled]) #icon {\n          background-color: var(--colors-eel, #4b4b4b);\n        }\n      </style>"],e||(e=t.slice(0)),bn=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}])&&Mn(e.prototype,o),i&&Mn(e,i),u}(t)).prototype,"disabled",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r=Un(e.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e}function Hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wn(t){var e="function"==typeof Map?new Map:void 0;return(Wn=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return $n(t,arguments,Qn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Xn(r,t)})(t)}function $n(t,e,n){return($n=Yn()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Xn(o,n.prototype),o}).apply(null,arguments)}function Yn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Xn(t,e){return(Xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qn(t){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jn,Kn=C(yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xn(t,e)}(PaletteDropzoneElement,t);var e,n,r,o,i,a=(e=PaletteDropzoneElement,n=Yn(),function(){var t,r=Qn(e);if(n){var o=Qn(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Vn(this,t)});function PaletteDropzoneElement(){return Hn(this,PaletteDropzoneElement),a.apply(this,arguments)}return r=PaletteDropzoneElement,(o=[{key:"connectedCallback",value:function(){this.attachShadow({mode:"open"}),this.update()}},{key:"update",value:function(){var t,e;Gt(Ht(vn||(t=["<style>\n          :host {\n            position: relative;\n            height: ","rem;\n            width: ",'rem;\n          }\n\n          ::slotted(*) {\n            position: absolute;\n          }\n        </style>\n\n        <div data-action="draggable.grab:palette-dropzone#newOperation">\n          <slot></slot>\n        </div>'],e||(e=t.slice(0)),vn=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),mo.size.base,mo.size.base),this.shadowRoot)}},{key:"newOperation",value:function(t){var e=t.target,n=e.cloneNode(!0);e.disableHelp(),n.removeAttribute("data-grabbed"),this.prepend(n)}}])&&Gn(r.prototype,o),i&&Gn(r,i),PaletteDropzoneElement}(Wn(HTMLElement)))||yn,Zn=function(t){return t instanceof Kn},tr=function(t){return t instanceof ji},er=n(0);function nr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function rr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function or(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ur(t,e){return(ur=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fr(t);if(e){var o=fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sr(this,n)}}function sr(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lr(t)}function lr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fr(t){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pr(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function dr(t){var e,n,r,o,i,a,u,c;return n=pr((e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ur(t,e)}(p,t);var e,s,l,f=cr(p);function p(){var t;ir(this,p);for(var e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return or(t=f.call.apply(f,[this].concat(s)),"draggable",n,lr(t)),or(t,"grabbed",r,lr(t)),or(t,"dragging",o,lr(t)),or(t,"snapped",i,lr(t)),or(t,"draggableX",a,lr(t)),or(t,"draggableY",u,lr(t)),or(t,"hoverable",c,lr(t)),t}return e=p,(s=[{key:"dropzone",get:function(){var t=this.parentElement;return"CIRCUIT-DROPZONE"===(null==t?void 0:t.tagName)||"PALETTE-DROPZONE"===(null==t?void 0:t.tagName)?t:null}},{key:"draggableStyle",get:function(){return Ht(Jn||(t=['<style>\n        :host([data-draggable]) {\n          touch-action: none;\n        }\n\n        :host([data-grabbed]) {\n          z-index: 50 !important;\n        }\n\n        :host(:not([data-snapped])[data-grabbed]) #wires {\n          display: none;\n        }\n\n        #body {\n          height: 100%;\n          width: 100%;\n          border-radius: 0.25rem;\n        }\n\n        @media (min-width: 768px) {\n          :host([data-draggable]) #body::after {\n            position: absolute;\n            height: 100%;\n            width: 100%;\n            border-color: var(--colors-cardinal, #ff4b4b);\n            border-radius: 0.25rem;\n            border-style: solid;\n            border-width: 2px;\n            box-sizing: border-box;\n            opacity: 0;\n            content: "";\n          }\n\n          :host([data-draggable][data-hoverable]) #body:hover::after,\n          :host([data-draggable][data-grabbed]) #body::after {\n            opacity: 100;\n          }\n        }\n      </style>'],e||(e=t.slice(0)),Jn=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}},{key:"initDraggable",value:function(){this.isPaletteDraggable&&(this.draggable=!0,this.snapped=!1),this.draggable&&(er.a.isMobile()||fe.a.isSet(this)||(Object(fe.a)(this).draggable({onstart:this.startDragging.bind(this),onmove:this.dragMove.bind(this),onend:this.endDragging.bind(this)}),this.addEventListener("mousedown",this.grab),this.addEventListener("mouseup",this.unGrab)))}},{key:"grab",value:function(t){var e=this;if(this.draggable){this.grabbed=!0,this.dispatchEvent(new Event("draggable.grab",{bubbles:!0})),Zn(this.dropzone)&&this.moveToGrabbedPosition(t.offsetX,t.offsetY);var n=this.snapTargets;Object(fe.a)(this).draggable({modifiers:[fe.a.modifiers.snap({targets:n,range:this.snapRange(),relativePoints:[{x:.5,y:.5}]})],listeners:{move:function(t){var n=t.modifiers[0];if(n.inRange){var r=n.target.source,o=e.snappedDropzone(r);e.snapped=!0,o.dispatchEvent(new CustomEvent("draggable.snap",{detail:e,bubbles:!0}))}else e.snapped&&tr(e.parentElement)&&(e.snapped=!1,e.dispatchEvent(new Event("draggable.unsnap",{bubbles:!0}))),e.snapped=!1}}})}}},{key:"snapTargets",get:function(){return this.snappableDropzones.map((function(t){return t.snapTarget}))}},{key:"snappedDropzone",value:function(t){var e,n=nr(this.snappableDropzones);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.snapTarget;if(o.x===t.x&&o.y===t.y)return r}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"snappableDropzones",get:function(){var t=this.quantumCircuit.freeDropzones;return tr(this.dropzone)&&t.push(this.dropzone),t}},{key:"isPaletteDraggable",get:function(){return Zn(this.dropzone)}},{key:"unGrab",value:function(t){this.snapped?(this.grabbed=!1,this.moveTo(0,0),this.dispatchEvent(new CustomEvent("draggable.ungrab",{detail:{x:t.clientX,y:t.clientY},bubbles:!0}))):this.trash()}},{key:"quantumCircuit",get:function(){return this.closest("quantum-circuit")||document.querySelector("quantum-circuit")}},{key:"snapRange",value:function(){return this.clientWidth}},{key:"moveToGrabbedPosition",value:function(t,e){var n=t-this.clientWidth/2,r=e-this.clientHeight/2;this.move(n,r)}},{key:"startDragging",value:function(){this.dragging=!0}},{key:"dragMove",value:function(t){this.move(t.dx,t.dy)}},{key:"endDragging",value:function(t){var e;if(!this.snapped)return this.trash(),void(null===(e=this.quantumCircuit)||void 0===e||e.dispatchEvent(new CustomEvent("draggable.enddragging",{detail:{x:t.clientX,y:t.clientY},bubbles:!1})));this.dragging=!1,this.grabbed=!1,this.moveTo(0,0),this.dispatchEvent(new CustomEvent("draggable.enddragging",{detail:{x:t.clientX,y:t.clientY},bubbles:!0}))}},{key:"trash",value:function(){var t;Object(fe.a)(this).unset(),this.dispatchEvent(new Event("draggable.trash",{bubbles:!0})),null===(t=this.parentElement)||void 0===t||t.removeChild(this)}},{key:"move",value:function(t,e){var n=this.draggableX+t,r=this.draggableY+e;this.moveTo(n,r)}},{key:"moveTo",value:function(t,e){this.draggableX=t,this.draggableY=e,this.style.transform="translate(".concat(t,"px, ").concat(e,"px)")}}])&&ar(e.prototype,s),l&&ar(e,l),p}(t)).prototype,"draggable",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r=pr(e.prototype,"grabbed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=pr(e.prototype,"dragging",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=pr(e.prototype,"snapped",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),a=pr(e.prototype,"draggableX",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=pr(e.prototype,"draggableY",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=pr(e.prototype,"hoverable",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e}var hr,br,yr,vr,mr,gr=n(17);function wr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function xr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kr(t,e){return(kr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sr(t);if(e){var o=Sr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ar(this,n)}}function Ar(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Er(t)}function Er(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _r(t){var e,n;return n=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}((e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kr(t,e)}(a,t);var e,r,o,i=jr(a);function a(){var t;xr(this,a);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return wr(t=i.call.apply(i,[this].concat(r)),"help",n,Er(t)),t}return e=a,(r=[{key:"showHelp",value:function(){if(this.help&&!this._tippy){var t=this.innerHTML.trim();""!==t&&Object(gr.b)(this,{allowHTML:!0,animation:!1,arrow:gr.c+gr.c,delay:0,placement:"right",theme:"qni",onShow:function(e){e.setContent(t)}}).show()}}},{key:"disableHelp",value:function(){var t=this._tippy;this.help=!1,null==t||t.destroy(),this.innerHTML=""}}])&&Or(e.prototype,r),o&&Or(e,o),a}(t)).prototype,"help",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e}function zr(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Pr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rr(t,e){return(Rr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Br(t);if(e){var o=Br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mr(this,n)}}function Mr(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dr(t)}function Dr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Br(t){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ir(t){var e,n;return n=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}((e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rr(t,e)}(a,t);var e,r,o,i=qr(a);function a(){var t;Cr(this,a);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return Pr(t=i.call.apply(i,[this].concat(r)),"iconType",n,Dr(t)),t}return e=a,(r=[{key:"iconSvg",get:function(){throw new Error("Not implemented yet")}},{key:"iconStyle",get:function(){var t,e=Ht(hr||(hr=zr(["<style>\n        #icon {\n          position: absolute;\n          bottom: 0px;\n          left: 0px;\n          right: 0px;\n          top: 0px;\n          height: 100%;\n          width: 100%;\n          stroke: currentColor;\n        }\n      </style>"])));if("square"===this.iconType)t="0.25rem";else{if("circle"!==this.iconType){if("transparent"===this.iconType)return Ht(br||(br=zr(["","\n\n          <style>\n            #icon {\n              color: var(--colors-gate, #43c000);\n            }\n\n            :host([data-disabled]) #icon {\n              color: var(--colors-eel, #4b4b4b);\n            }\n          </style>"])),e);throw new Error("iconType not set")}t="9999px"}return Ht(yr||(yr=zr(["","\n\n        <style>\n          #icon {\n            border-radius: ",";\n            color: var(--colors-snow, #ffffff);\n            background-color: var(--colors-gate, #43c000);\n          }\n\n          :host([data-disabled]) #icon {\n            background-color: var(--colors-eel, #4b4b4b);\n          }\n        </style>"])),e,t)}}])&&Tr(e.prototype,r),o&&Tr(e,o),a}(t)).prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e}function Lr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ur(t,e){return(Ur=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vr(t);if(e){var o=Vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr(this,n)}}function Hr(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gr(t)}function Gr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vr(t){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wr(t){var e,n;return n=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}((e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ur(t,e)}(r,t);var e=Fr(r);function r(){var t;Nr(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return Lr(t=e.call.apply(e,[this].concat(i)),"if",n,Gr(t)),t}return r}(t)).prototype,"if",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e}function $r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xr(t,e){return(Xr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kr(t);if(e){var o=Kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jr(this,n)}}function Jr(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zr(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xr(t,e)}(i,t);var e,n,r,o=Qr(i);function i(){return $r(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"toJson",value:function(){throw new Error("Not implemented yet")}}])&&Yr(e.prototype,n),r&&Yr(e,r),i}(t)}function to(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function no(t,e){return(no=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ro(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=io(t);if(e){var o=io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oo(this,n)}}function oo(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function io(t){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ao(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&no(t,e)}(i,t);var e,n,r,o=ro(i);function i(){return to(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"labelStyle",get:function(){return Ht(vr||(t=['<style>\n        :host::before {\n          display: none;\n          position: absolute;\n          color: var(--colors-wolf, #777777);\n          background-color: transparent;\n          letter-spacing: -0.05em;\n          font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,\n            "Liberation Mono", "Courier New", monospace;\n          white-space: nowrap;\n          z-index: 10;\n          writing-mode: vertical-lr;\n        }\n\n        :host([data-snapped])::before {\n          display: block;\n        }\n\n        /* Font size */\n\n        :host::before {\n          font-size: 0.75rem;\n          line-height: 0.75rem;\n        }\n\n        :host([data-wire-count="1"])::before,\n        :host([data-wire-count="2"])::before {\n          font-size: 0.875rem;\n          line-height: 0.875rem;\n        }\n\n        :host([data-wire-count="7"])::before,\n        :host([data-wire-count="8"])::before,\n        :host([data-wire-count="9"])::before,\n        :host([data-wire-count="10"])::before {\n          font-size: 0.5rem;\n          line-height: 0.5rem;\n        }\n\n        @media (min-width: 768px) {\n          :host::before {\n            font-size: 0.75rem !important;\n            line-height: 0.75rem !important;\n          }\n        }\n\n        /* Ifable */\n\n        :host([data-if]:not([data-if=""]))::before {\n          content: "if " attr(data-if);\n        }\n\n        @media (min-width: 768px) {\n          :host([data-if]:not([data-if=""]))::before {\n            writing-mode: horizontal-tb;\n          }\n        }\n\n        /* Phase gate */\n        :host([data-phi]:not([data-phi=""]))::before {\n          content: attr(data-phi) "";\n        }\n\n        :host([data-phi][data-if]:not([data-phi=""]):not([data-if=""]))::before {\n          content: attr(data-phi) " if " attr(data-if);\n        }\n\n        @media (min-width: 768px) {\n          :host([data-phi]:not([data-phi=""]))::before {\n            writing-mode: horizontal-tb;\n          }\n        }\n\n        /* Rx, Ry, and Rz gate */\n        :host([data-theta]:not([data-theta=""]))::before {\n          content: attr(data-theta) "";\n        }\n\n        :host([data-theta][data-if]:not([data-theta=""]):not([data-if=""]))::before {\n          content: attr(data-theta) " if " attr(data-if);\n        }\n\n        @media (min-width: 768px) {\n          :host([data-theta]:not([data-theta=""]))::before {\n            writing-mode: horizontal-tb;\n          }\n        }\n\n        /* Measurement gate */\n        :host([data-flag]:not([data-flag=""]))::before {\n          content: attr(data-flag) "";\n        }\n\n        @media (min-width: 768px) {\n          :host([data-flag]:not([data-flag=""]))::before {\n            writing-mode: horizontal-tb;\n          }\n        }\n\n        :host(:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host(:not([data-wire-top]))::before,\n        :host(:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host(:not([data-wire-top-disabled]))::before {\n          left: 0px;\n        }\n\n        @media (min-width: 768px) {\n          :host(:not([data-wire-top]):not([data-wire-bottom]))::before,\n          :host(:not([data-wire-top]))::before,\n          :host(:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host(:not([data-wire-top-disabled]))::before {\n            bottom: 0px;\n            left: unset;\n          }\n        }\n\n        :host([data-size="xs"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-size="xs"]:not([data-wire-top]))::before,\n        :host([data-size="xs"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-size="xs"]:not([data-wire-top-disabled]))::before {\n          margin-bottom: 1.125rem;\n        }\n\n        :host([data-size="sm"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-size="sm"]:not([data-wire-top]))::before,\n        :host([data-size="sm"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-size="sm"]:not([data-wire-top-disabled]))::before {\n          margin-bottom: 1.625rem;\n        }\n\n        :host(:not([data-wire-top]))::before,\n        :host([data-size="base"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-size="base"]:not([data-wire-top]))::before,\n        :host(:not([data-wire-top-disabled]))::before,\n        :host([data-size="base"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-size="base"]:not([data-wire-top-disabled]))::before {\n          margin-left: 2.125rem;\n        }\n\n        @media (min-width: 768px) {\n          :host(:not([data-wire-top]))::before,\n          :host([data-size="base"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n          :host([data-size="base"]:not([data-wire-top]))::before,\n          :host(:not([data-wire-top-disabled]))::before,\n          :host([data-size="base"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host([data-size="base"]:not([data-wire-top-disabled]))::before {\n            margin-bottom: 2.125rem;\n            margin-left: 0;\n          }\n        }\n\n        :host([data-size="lg"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-size="lg"]:not([data-wire-top]))::before,\n        :host([data-size="lg"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-size="lg"]:not([data-wire-top-disabled]))::before {\n          margin-bottom: 2.625rem;\n        }\n\n        :host([data-size="xl"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-size="xl"]:not([data-wire-top]))::before,\n        :host([data-size="xl"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-size="xl"]:not([data-wire-top-disabled]))::before {\n          margin-bottom: 3.125rem;\n        }\n\n        :host([data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n          right: 0px;\n          left: unset;\n        }\n\n        @media (min-width: 768px) {\n          :host([data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n            top: 0px;\n            right: unset;\n          }\n        }\n\n        :host([data-size="xs"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-size="xs"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n          margin-top: 1.125rem;\n        }\n\n        :host([data-size="sm"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-size="sm"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n          margin-top: 1.625rem;\n        }\n\n        :host([data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-size="base"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n        :host([data-size="base"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n          margin-right: 2.125rem;\n        }\n\n        @media (min-width: 768px) {\n          :host([data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-size="base"][data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n          :host([data-size="base"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n            margin-top: 2.125rem;\n            margin-right: 0;\n          }\n        }\n\n        :host([data-size="lg"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-size="lg"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n          margin-top: 2.625rem;\n        }\n\n        :host([data-size="xl"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-size="xl"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n          margin-top: 3.125rem;\n        }\n\n        :host([data-wire-top][data-wire-bottom])::before,\n        :host([data-wire-top-disabled][data-wire-bottom-disabled])::before {\n          text-shadow: 1px 1px 0 #fff, -1px -1px 0 #fff, -1px 1px 0 #fff,\n            1px -1px 0 #fff, 0px 1px 0 #fff, 0-1px 0 #fff, -1px 0 0 #fff,\n            1px 0 0 #fff;\n          left: 0px;\n        }\n\n        @media (min-width: 768px) {\n          :host([data-wire-top][data-wire-bottom])::before,\n          :host([data-wire-top-disabled][data-wire-bottom-disabled])::before {\n            text-shadow: 1px 1px 0 #fff, -1px -1px 0 #fff, -1px 1px 0 #fff,\n              1px -1px 0 #fff, 0px 1px 0 #fff, 0-1px 0 #fff, -1px 0 0 #fff,\n              1px 0 0 #fff;\n            bottom: 0px;\n            left: unset;\n          }\n        }\n\n        :host([data-size="xs"][data-wire-top][data-wire-bottom])::before,\n        :host([data-size="xs"][data-wire-top-disabled][data-wire-bottom-disabled])::before {\n          margin-bottom: 1.125rem;\n        }\n\n        :host([data-size="sm"][data-wire-top][data-wire-bottom])::before,\n        :host([data-size="sm"][data-wire-top-disabled][data-wire-bottom-disabled])::before {\n          margin-bottom: 1.625rem;\n        }\n\n        :host([data-wire-top][data-wire-bottom])::before,\n        :host([data-size="base"][data-wire-top][data-wire-bottom])::before,\n        :host([data-wire-top-disabled][data-wire-bottom-disabled])::before,\n        :host([data-size="base"][data-wire-top-disabled][data-wire-bottom-disabled])::before {\n          margin-left: 2.125rem;\n        }\n\n        @media (min-width: 768px) {\n          :host([data-wire-top][data-wire-bottom])::before,\n          :host([data-size="base"][data-wire-top][data-wire-bottom])::before,\n          :host([data-wire-top-disabled][data-wire-bottom-disabled])::before,\n          :host([data-size="base"][data-wire-top-disabled][data-wire-bottom-disabled])::before {\n            margin-bottom: 2.125rem;\n            margin-left: 0;\n          }\n        }\n\n        :host([data-size="lg"][data-wire-top][data-wire-bottom])::before,\n        :host([data-size="lg"][data-wire-top-disabled][data-wire-bottom-disabled])::before {\n          margin-bottom: 2.625rem;\n        }\n\n        :host([data-size="xl"][data-wire-top][data-wire-bottom])::before,\n        :host([data-size="xl"][data-wire-top-disabled][data-wire-bottom-disabled])::before {\n          margin-bottom: 3.125rem;\n        }\n\n        /* data-wire-count */\n\n        :host([data-wire-count="1"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-wire-count="1"]:not([data-wire-top]))::before,\n        :host([data-wire-count="1"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="1"]:not([data-wire-top-disabled]))::before,\n        :host([data-wire-count="2"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-wire-count="2"]:not([data-wire-top]))::before,\n        :host([data-wire-count="2"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="2"]:not([data-wire-top-disabled]))::before {\n          margin-left: 3.125rem;\n        }\n\n        :host([data-wire-count="3"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-wire-count="3"]:not([data-wire-top]))::before,\n        :host([data-wire-count="3"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="3"]:not([data-wire-top-disabled]))::before {\n          margin-left: 2.625rem;\n        }\n\n        :host([data-wire-count="5"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-wire-count="5"]:not([data-wire-top]))::before,\n        :host([data-wire-count="5"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="5"]:not([data-wire-top-disabled]))::before,\n        :host([data-wire-count="6"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-wire-count="6"]:not([data-wire-top]))::before,\n        :host([data-wire-count="6"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="6"]:not([data-wire-top-disabled]))::before {\n          margin-left: 1.625rem;\n        }\n\n        :host([data-wire-count="7"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-wire-count="7"]:not([data-wire-top]))::before,\n        :host([data-wire-count="7"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="7"]:not([data-wire-top-disabled]))::before,\n        :host([data-wire-count="8"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-wire-count="8"]:not([data-wire-top]))::before,\n        :host([data-wire-count="8"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="8"]:not([data-wire-top-disabled]))::before,\n        :host([data-wire-count="9"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-wire-count="9"]:not([data-wire-top]))::before,\n        :host([data-wire-count="9"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="9"]:not([data-wire-top-disabled]))::before,\n        :host([data-wire-count="10"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n        :host([data-wire-count="10"]:not([data-wire-top]))::before,\n        :host([data-wire-count="10"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="10"]:not([data-wire-top-disabled]))::before {\n          margin-left: 1.125rem;\n        }\n\n        :host([data-wire-count="2"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-wire-count="2"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n          margin-right: 3.125rem;\n          margin-left: 0;\n        }\n\n        :host([data-wire-count="3"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-wire-count="3"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n          margin-right: 2.625rem;\n          margin-left: 0;\n        }\n\n        :host([data-wire-count="5"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-wire-count="5"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="6"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-wire-count="6"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n          margin-right: 1.625rem;\n          margin-left: 0;\n        }\n\n        :host([data-wire-count="7"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-wire-count="7"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="8"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-wire-count="8"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="9"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-wire-count="9"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n        :host([data-wire-count="10"][data-wire-top]:not([data-wire-bottom]))::before,\n        :host([data-wire-count="10"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n          margin-right: 1.125rem;\n          margin-left: 0;\n        }\n\n        @media (min-width: 768px) {\n          :host([data-wire-count="1"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n          :host([data-wire-count="1"]:not([data-wire-top]))::before,\n          :host([data-wire-count="1"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="1"]:not([data-wire-top-disabled]))::before,\n          :host([data-wire-count="2"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n          :host([data-wire-count="2"]:not([data-wire-top]))::before,\n          :host([data-wire-count="2"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="2"]:not([data-wire-top-disabled]))::before,\n          :host([data-wire-count="3"]:not([data-wire-top]):not([data-wire-bottom]))::before,\n          :host([data-wire-count="3"]:not([data-wire-top]))::before,\n          :host([data-wire-count="3"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="3"]:not([data-wire-top-disabled]))::before,\n          :host([data-wire-count="5"]:not([data-wire-top]))::before,\n          :host([data-wire-count="5"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="5"]:not([data-wire-top-disabled]))::before,\n          :host([data-wire-count="6"]:not([data-wire-top]))::before,\n          :host([data-wire-count="6"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="6"]:not([data-wire-top-disabled]))::before,\n          :host([data-wire-count="7"]:not([data-wire-top]))::before,\n          :host([data-wire-count="7"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="7"]:not([data-wire-top-disabled]))::before,\n          :host([data-wire-count="8"]:not([data-wire-top]))::before,\n          :host([data-wire-count="8"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="8"]:not([data-wire-top-disabled]))::before,\n          :host([data-wire-count="9"]:not([data-wire-top]))::before,\n          :host([data-wire-count="9"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="9"]:not([data-wire-top-disabled]))::before,\n          :host([data-wire-count="10"]:not([data-wire-top]))::before,\n          :host([data-wire-count="10"]:not([data-wire-top-disabled]):not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="10"]:not([data-wire-top-disabled]))::before {\n            margin-left: 0;\n          }\n\n          :host([data-wire-count="2"][data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-wire-count="2"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="3"][data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-wire-count="3"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="5"][data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-wire-count="5"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="6"][data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-wire-count="6"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="7"][data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-wire-count="7"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="8"][data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-wire-count="8"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="9"][data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-wire-count="9"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before,\n          :host([data-wire-count="10"][data-wire-top]:not([data-wire-bottom]))::before,\n          :host([data-wire-count="10"][data-wire-top-disabled]:not([data-wire-bottom-disabled]))::before {\n            margin-right: 0;\n          }\n        }\n\n        /* nqubit = 2 */\n      </style>'],e||(e=t.slice(0)),vr=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))));var t,e}}])&&eo(e.prototype,n),r&&eo(e,r),i}(t)}function uo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function so(t,e){return(so=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ho(t);if(e){var o=ho(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fo(this,n)}}function fo(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return po(t)}function po(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ho(t){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var yo,vo,mo=function t(){bo(this,t)};function go(t){var e,n;return n=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}((e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&so(t,e)}(a,t);var e,r,o,i=lo(a);function a(){var t;bo(this,a);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return uo(t=i.call.apply(i,[this].concat(r)),"size",n,po(t)),t}return e=a,(r=[{key:"sizeableStyle",get:function(){return Ht(mr||(t=['<style>\n        :host {\n          position: relative;\n          display: flex;\n          flex-shrink: 0;\n          align-items: center;\n          justify-content: center;\n        }\n\n        :host([data-size="xs"]) {\n          height: ',"rem;\n          width: ",'rem;\n        }\n\n        :host([data-size="sm"]) {\n          height: ',"rem;\n          width: ",'rem;\n        }\n\n        :host,\n        :host([data-size="base"]) {\n          height: ',"rem;\n          width: ",'rem;\n        }\n\n        :host([data-size="lg"]) {\n          height: ',"rem;\n          width: ",'rem;\n        }\n\n        :host([data-size="xl"]) {\n          height: ',"rem;\n          width: ",'rem;\n        }\n\n        :host([data-wire-count="1"]),\n        :host([data-wire-count="2"]) {\n          height: ',"rem;\n          width: ",'rem;\n        }\n\n        :host([data-wire-count="3"]) {\n          height: ',"rem;\n          width: ",'rem;\n        }\n\n        :host([data-wire-count="4"]) {\n          height: ',"rem;\n          width: ",'rem;\n        }\n\n        :host([data-wire-count="5"]),\n        :host([data-wire-count="6"]) {\n          height: ',"rem;\n          width: ",'rem;\n        }\n\n        :host([data-wire-count="7"]),\n        :host([data-wire-count="8"]),\n        :host([data-wire-count="9"]),\n        :host([data-wire-count="10"]) {\n          height: ',"rem;\n          width: ",'rem;\n        }\n\n        @media (min-width: 768px) {\n          :host,\n          :host([data-wire-count="1"]),\n          :host([data-wire-count="2"]),\n          :host([data-wire-count="3"]),\n          :host([data-wire-count="4"]),\n          :host([data-wire-count="5"]),\n          :host([data-wire-count="6"]),\n          :host([data-wire-count="7"]),\n          :host([data-wire-count="8"]),\n          :host([data-wire-count="9"]),\n          :host([data-wire-count="10"]) {\n            height: ',"rem;\n            width: ","rem;\n          }\n        }\n      </style>"],e||(e=t.slice(0)),mr=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),mo.size.xs,mo.size.xs,mo.size.sm,mo.size.sm,mo.size.base,mo.size.base,mo.size.lg,mo.size.lg,mo.size.xl,mo.size.xl,mo.size.xl,mo.size.xl,mo.size.lg,mo.size.lg,mo.size.base,mo.size.base,mo.size.sm,mo.size.sm,mo.size.xs,mo.size.xs,mo.size.base,mo.size.base);var t,e}}])&&co(e.prototype,r),o&&co(e,o),a}(t)).prototype,"size",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e}function wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oo(t,e){return(Oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ko(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ao(t);if(e){var o=Ao(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jo(this,n)}}function jo(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ao(t){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Eo(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oo(t,e)}(i,t);var e,n,r,o=ko(i);function i(){return wo(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"targets",get:function(){var t=this.getAttribute("data-targets");return null===t||""===t?[]:t.split(",").map((function(t){return parseInt(t)})).sort()},set:function(t){this.setAttribute("data-targets",t.sort().join())}}])&&xo(e.prototype,n),r&&xo(e,r),i}(t)}function So(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _o(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Co(t,e){return(Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function To(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mo(t);if(e){var o=Mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ro(this,n)}}function Ro(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qo(t)}function qo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Do(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}mo.size={xs:1,sm:1.5,base:2,lg:2.5,xl:3};function Bo(t){var e,n,r,o,i;return n=Do((e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)}(s,t);var e,a,u,c=To(s);function s(){var t;zo(this,s);for(var e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];return _o(t=c.call.apply(c,[this].concat(a)),"wireTop",n,qo(t)),_o(t,"wireTopDisabled",r,qo(t)),_o(t,"wireBottom",o,qo(t)),_o(t,"wireBottomDisabled",i,qo(t)),t}return e=s,(a=[{key:"disconnectFromAll",value:function(){this.wireTop=!1,this.wireBottom=!1}},{key:"wiresStyle",get:function(){return Ht(yo||(yo=So(["<style>\n        #wires {\n          position: absolute;\n          bottom: 0px;\n          left: 0px;\n          right: 0px;\n          top: 0px;\n          height: 100%;\n          width: 100%;\n          overflow: visible;\n          transform: rotate(90deg);\n          transform-origin: center;\n        }\n\n        @media (min-width: 768px) {\n          #wires {\n            transform: rotate(0);\n          }\n        }\n\n        #wire-top,\n        #wire-bottom {\n          display: none;\n          stroke-width: 4;\n        }\n\n        :host([data-wire-top]) #wire-top {\n          display: block;\n          color: var(--colors-gate, #43c000);\n          transform-origin: top;\n          transform: translateY(-25%) scaleY(1.5);\n        }\n\n        :host([data-wire-top-disabled]) #wire-top {\n          display: block;\n          color: var(--colors-eel, #4b4b4b);\n          transform-origin: top;\n          transform: translateY(-25%) scaleY(1.5);\n        }\n\n        :host([data-wire-bottom]) #wire-bottom {\n          display: block;\n          color: var(--colors-gate, #43c000);\n          transform-origin: bottom;\n          transform: translateY(25%) scaleY(1.5);\n        }\n\n        :host([data-wire-bottom-disabled]) #wire-bottom {\n          display: block;\n          color: var(--colors-eel, #4b4b4b);\n          transform-origin: bottom;\n          transform: translateY(25%) scaleY(1.5);\n        }\n      </style>"])))}},{key:"wiresSvg",get:function(){return Ht(vo||(vo=So(['<svg\n        id="wires"\n        width="100"\n        height="100"\n        viewBox="0 0 100 100"\n        preserveAspectRatio="none"\n      >\n        <line\n          id="wire-top"\n          x1="50"\n          y1="0"\n          x2="50"\n          y2="50"\n          stroke="currentColor"\n          vector-effect="non-scaling-stroke"\n        ></line>\n        <line\n          id="wire-bottom"\n          x1="50"\n          y1="100"\n          x2="50"\n          y2="50"\n          stroke="currentColor"\n          vector-effect="non-scaling-stroke"\n        ></line>\n      </svg>'])))}}])&&Po(e.prototype,a),u&&Po(e,u),s}(t)).prototype,"wireTop",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r=Do(e.prototype,"wireTopDisabled",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=Do(e.prototype,"wireBottom",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=Do(e.prototype,"wireBottomDisabled",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e}var Io,Lo,No,Uo,Fo,Ho,Go,Vo,Wo,$o,Yo,Xo,Qo,Jo,Ko,Zo,ti=n(3);function ei(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oi(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ii(t)}function ii(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ai(t){var e="function"==typeof Map?new Map:void 0;return(ai=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ui(t,arguments,li(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),si(r,t)})(t)}function ui(t,e,n){return(ui=ci()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&si(o,n.prototype),o}).apply(null,arguments)}function ci(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function si(t,e){return(si=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function li(t){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fi(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function pi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var di,hi,bi,yi,vi,mi,gi,wi,xi,Oi=Ht(Io||(Io=pi(['<svg\n  id="wires"\n  width="100"\n  height="100"\n  viewBox="0 0 100 100"\n  preserveAspectRatio="none"\n>\n  <line\n    id="wire-input"\n    x1="0"\n    y1="50"\n    x2="50"\n    y2="50"\n    stroke-width="2"\n    stroke="currentColor"\n    vector-effect="non-scaling-stroke"\n  ></line>\n  <line\n    id="wire-output"\n    x1="50"\n    y1="50"\n    x2="100"\n    y2="50"\n    stroke-width="2"\n    stroke="currentColor"\n    vector-effect="non-scaling-stroke"\n  ></line>\n  <line\n    id="wire-top"\n    x1="50"\n    y1="0"\n    x2="50"\n    y2="50"\n    stroke-width="2"\n    stroke="currentColor"\n    vector-effect="non-scaling-stroke"\n  ></line>\n  <line\n    id="wire-bottom"\n    x1="50"\n    y1="100"\n    x2="50"\n    y2="50"\n    stroke-width="2"\n    stroke="currentColor"\n    vector-effect="non-scaling-stroke"\n  ></line>\n</svg>']))),ki=Ht(Lo||(Lo=pi(['<style>\n  :host([data-size="xs"]) {\n    height: 1.5rem;\n    width: 1rem;\n  }\n\n  :host([data-size="sm"]) {\n    height: 2.25rem;\n    width: 1.5rem;\n  }\n\n  :host,\n  :host([data-size="base"]) {\n    height: 3rem;\n    width: 2rem;\n  }\n\n  :host([data-size="lg"]) {\n    height: 3.75rem;\n    width: 2.5rem;\n  }\n\n  :host([data-size="xl"]) {\n    height: 4.5rem;\n    width: 3rem;\n  }\n\n  @media (min-width: 768px) {\n    :host([data-size="xs"]) {\n      height: 1rem;\n      width: 1.5rem;\n    }\n\n    :host([data-size="sm"]) {\n      height: 1.5rem;\n      width: 2.25rem;\n    }\n\n    :host,\n    :host([data-size="base"]) {\n      height: 2rem;\n      width: 3rem;\n    }\n\n    :host([data-size="lg"]) {\n      height: 2.5rem;\n      width: 3.75rem;\n    }\n\n    :host([data-size="xl"]) {\n      height: 3rem;\n      width: 4.5rem;\n    }\n  }\n\n  :host([data-wire-count="1"]),\n  :host([data-wire-count="2"]) {\n    height: ',"rem;\n    width: ",'rem;\n  }\n\n  :host([data-wire-count="3"]) {\n    height: ',"rem;\n    width: ",'rem;\n  }\n\n  :host([data-wire-count="4"]) {\n    height: ',"rem;\n    width: ",'rem;\n  }\n\n  :host([data-wire-count="5"]),\n  :host([data-wire-count="6"]) {\n    height: ',"rem;\n    width: ",'rem;\n  }\n\n  :host([data-wire-count="7"]),\n  :host([data-wire-count="8"]),\n  :host([data-wire-count="9"]),\n  :host([data-wire-count="10"]) {\n    height: ',"rem;\n    width: ",'rem;\n  }\n\n  @media (min-width: 768px) {\n    :host([data-wire-count="1"]),\n    :host([data-wire-count="2"]),\n    :host([data-wire-count="3"]),\n    :host([data-wire-count="4"]),\n    :host([data-wire-count="5"]),\n    :host([data-wire-count="6"]),\n    :host([data-wire-count="7"]),\n    :host([data-wire-count="8"]),\n    :host([data-wire-count="9"]),\n    :host([data-wire-count="10"]) {\n      height: ',"rem;\n      width: ",'rem;\n    }\n  }\n\n  :host([data-wire-top]) #wire-top {\n    display: block;\n    transform-origin: top;\n    transform: translateY(-25%) scaleY(1.5);\n  }\n\n  :host([data-wire-bottom]) #wire-bottom {\n    display: block;\n    transform-origin: bottom;\n    transform: translateY(25%) scaleY(1.5);\n  }\n\n  #body {\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    width: 100%;\n  }\n\n  #wires {\n    position: absolute;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n    top: 0px;\n    height: calc(100%);\n    width: calc(100%);\n    overflow: visible;\n    transform: rotate(90deg);\n    transform-origin: center;\n  }\n\n  :host([data-shadow]) #wires {\n    display: none;\n  }\n\n  @media (min-width: 768px) {\n    #wires {\n      transform: rotate(0);\n    }\n  }\n\n  ::slotted(*) {\n    position: absolute;\n    z-index: 10;\n  }\n\n  #wire-input,\n  #wire-output {\n    color: var(--colors-wolf, #777777);\n  }\n\n  :host(:not([data-input-wire-quantum])) #wire-input,\n  :host([data-input-wire-quantum="false"]) #wire-input {\n    color: var(--colors-swan, #e5e5e5);\n  }\n\n  :host(:not([data-output-wire-quantum])) #wire-output,\n  :host([data-output-wire-quantum="false"]) #wire-output {\n    color: var(--colors-swan, #e5e5e5);\n  }\n\n  #wire-input {\n    transform: translateX(-25%) scaleX(1.5);\n    transform-origin: left;\n  }\n\n  #wire-output {\n    transform: translateX(25%) scaleX(1.5);\n    transform-origin: right;\n  }\n\n  @media (min-width: 768px) {\n    #wire-input,\n    #wire-output {\n      transform: none;\n    }\n  }\n\n  :host([data-draggable-tag-name="write-gate"][data-occupied])\n    #wires\n    > #wire-input,\n  :host([data-draggable-tag-name="measurement-gate"][data-occupied])\n    #wires\n    > #wire-input {\n    transform: scaleX(0.75) translateX(-33.3%);\n  }\n\n  @media (min-width: 768px) {\n    :host([data-draggable-tag-name="write-gate"][data-occupied])\n      #wires\n      > #wire-input,\n    :host([data-draggable-tag-name="measurement-gate"][data-occupied])\n      #wires\n      > #wire-input {\n      transform: scaleX(0.33) translateX(0);\n    }\n  }\n\n  :host([data-draggable-tag-name="write-gate"][data-occupied])\n    #wires\n    > #wire-output,\n  :host([data-draggable-tag-name="measurement-gate"][data-occupied])\n    #wires\n    > #wire-output {\n    transform: scaleX(0.75) translateX(33.3%);\n  }\n\n  @media (min-width: 768px) {\n    :host([data-draggable-tag-name="write-gate"][data-occupied])\n      #wires\n      > #wire-output,\n    :host([data-draggable-tag-name="measurement-gate"][data-occupied])\n      #wires\n      > #wire-output {\n      transform: scaleX(0.33) translateX(0);\n    }\n  }\n\n  #wire-top,\n  #wire-bottom {\n    color: var(--colors-gate, #43c000);\n    stroke-width: 4;\n    display: none;\n  }\n</style>'])),1.5*mo.size.xl,mo.size.xl,1.5*mo.size.lg,mo.size.lg,1.5*mo.size.base,mo.size.base,1.5*mo.size.sm,mo.size.sm,1.5*mo.size.xs,mo.size.xs,mo.size.base,1.5*mo.size.base),ji=C((Uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&si(t,e)}(CircuitDropzoneElement,t);var e,n,r,o,i,a=(e=CircuitDropzoneElement,n=ci(),function(){var t,r=li(e);if(n){var o=li(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return oi(this,t)});function CircuitDropzoneElement(){var t;ni(this,CircuitDropzoneElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ei(t=a.call.apply(a,[this].concat(n)),"slotEl",Fo,ii(t)),ei(t,"size",Ho,ii(t)),ei(t,"inputWireQuantum",Go,ii(t)),ei(t,"outputWireQuantum",Vo,ii(t)),ei(t,"wireTop",Wo,ii(t)),ei(t,"wireBottom",$o,ii(t)),ei(t,"occupied",Yo,ii(t)),ei(t,"draggableTagName",Xo,ii(t)),ei(t,"shadow",Qo,ii(t)),ei(t,"childrenLoaded",Jo,ii(t)),ei(t,"wireCount",Ko,ii(t)),t}return r=CircuitDropzoneElement,(o=[{key:"draggableElement",get:function(){var t=this.children[0];return void 0===t?null:t.snapped?t:null}},{key:"circuitStep",get:function(){var t=this.parentElement;return null!==t&&"CIRCUIT-STEP"===t.nodeName?t:null}},{key:"wireQuantum",set:function(t){this.inputWireQuantum=t,this.outputWireQuantum=t}},{key:"snapTarget",get:function(){return{x:this.offsetLeft+this.clientWidth/2,y:this.offsetTop+this.clientHeight/2}}},{key:"index",value:function(){var t=this.closest("circuit-step");return null===t?null:t.dropzoneIndex(this)}},{key:"prev",value:function(){var t=this.index();if(null===t)return null;if(null===this.circuitStep)return null;var e=this.circuitStep.prev();return null===e?null:e.dropzone(t)}},{key:"next",value:function(){var t=this.index();if(null===t)return null;if(null===this.circuitStep)return null;var e=this.circuitStep.next();return null===e?null:e.dropzone(t)}},{key:"assign",value:function(t){this.append(t),this.occupied=!0}},{key:"toJson",value:function(){var t=this.draggableElement;return null==t?"1":t.toJson()}},{key:"connectedCallback",value:function(){this.attachShadow({mode:"open"}),this.update(),this.addSlotChangeEventListener(),this.initDropzone(),this.addEventListener("draggable.grab",this.enableDrop),this.addEventListener("draggable.enddragging",this.dispatchDropzoneDroppedEvent),this.addEventListener("draggable.snap",this.snapDraggable),this.addEventListener("draggable.unsnap",this.unsnapDraggable)}},{key:"dispatchDropzoneDroppedEvent",value:function(){this.dispatchEvent(new CustomEvent("dropzone.drop",{detail:this,bubbles:!0}))}},{key:"attributeChangedCallback",value:function(t,e,n){e!==n&&0!==this.childElementCount&&"data-wire-count"===t&&null!==n&&this.children[0].setAttribute("data-wire-count",n)}},{key:"update",value:function(){if(Gt(Ht(Zo||(Zo=pi(["",'\n\n        <div id="body" data-target="circuit-dropzone.body">\n          <slot data-target="circuit-dropzone.slotEl"></slot>\n          ',"\n        </div>"])),ki,Oi),this.shadowRoot),1===this.childElementCount){var t=this.children[0];this.childrenLoaded=!1,this.occupied=!0,this.draggableTagName=t.tagName.toLowerCase()}else if(this.childElementCount>1)throw new Error("A dropzone cannot hold multiple operations.")}},{key:"addSlotChangeEventListener",value:function(){var t=this;this.slotEl.addEventListener("slotchange",(function(){if(t.childElementCount>1)throw new Error("A dropzone cannot hold multiple operations.");if(0===t.childElementCount)return t.draggableTagName="",t.occupied=!1,void t.enableDrop();var e=t.children[0],n=e.nodeName;e.setAttribute("data-wire-count",t.wireCount.toString()),""!==t.size&&e.setAttribute("data-size",t.size),t.draggableTagName=n.toLowerCase(),t.occupied=!0,t.disableDrop(),t.childrenLoaded?t.dispatchEvent(new CustomEvent("dropzone.snap",{detail:t,bubbles:!0})):(t.dispatchEvent(new Event("circuitchange",{bubbles:!0})),t.childrenLoaded=!0)}))}},{key:"initDropzone",value:function(){Object(fe.a)(this).dropzone({accept:"[data-draggable]",overlap:"center"})}},{key:"enableDrop",value:function(){Object(fe.a)(this).dropzone(!0)}},{key:"disableDrop",value:function(){Object(fe.a)(this).dropzone(!1)}},{key:"snapDraggable",value:function(t){var e=t.detail;this.append(e),e.moveTo(0,0)}},{key:"unsnapDraggable",value:function(){this.draggableTagName="",this.occupied=!1,this.dispatchEvent(new CustomEvent("dropzone.unsnap",{detail:this,bubbles:!0}))}},{key:"updateWires",value:function(){var t=this.draggableTagName,e=this.prev();"write-gate"===t?(this.inputWireQuantum=null!==e&&e.outputWireQuantum,this.outputWireQuantum=!0):"measurement-gate"===t?(this.inputWireQuantum=null!==e&&e.outputWireQuantum,this.outputWireQuantum=!1):null===e?(this.inputWireQuantum=!1,this.outputWireQuantum=!1):(this.inputWireQuantum=e.outputWireQuantum,this.outputWireQuantum=e.outputWireQuantum)}},{key:"remove",value:function(){var t;null===(t=this.parentElement)||void 0===t||t.removeChild(this)}},{key:"serialize",value:function(){return null===this.draggableElement?(new ti.d).serialize():this.draggableElement.serialize()}}])&&ri(r.prototype,o),i&&ri(r,i),CircuitDropzoneElement}(ai(HTMLElement)),Fo=fi(Uo.prototype,"slotEl",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ho=fi(Uo.prototype,"size",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Go=fi(Uo.prototype,"inputWireQuantum",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vo=fi(Uo.prototype,"outputWireQuantum",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wo=fi(Uo.prototype,"wireTop",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$o=fi(Uo.prototype,"wireBottom",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yo=fi(Uo.prototype,"occupied",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xo=fi(Uo.prototype,"draggableTagName",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qo=fi(Uo.prototype,"shadow",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jo=fi(Uo.prototype,"childrenLoaded",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ko=fi(Uo.prototype,"wireCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),No=Uo))||No;function Ai(t){return function(t){if(Array.isArray(t))return _i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Si(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Si(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Si(t,e){if(t){if("string"==typeof t)return _i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(t,e):void 0}}function _i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zi(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Pi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ti(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ri(t)}function Ri(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qi(t){var e="function"==typeof Map?new Map:void 0;return(qi=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Mi(t,arguments,Ii(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Bi(r,t)})(t)}function Mi(t,e,n){return(Mi=Di()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Bi(o,n.prototype),o}).apply(null,arguments)}function Di(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Bi(t,e){return(Bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ii(t){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Li(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Ni,Ui,Fi,Hi,Gi,Vi,Wi,$i,Yi,Xi,Qi,Ji,Ki,Zi,ta,ea,na=C((hi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bi(t,e)}(CircuitStepElement,t);var e,n,r,o,i,a=(e=CircuitStepElement,n=Di(),function(){var t,r=Ii(e);if(n){var o=Ii(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ti(this,t)});function CircuitStepElement(){var t;Pi(this,CircuitStepElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return zi(t=a.call.apply(a,[this].concat(n)),"active",bi,Ri(t)),zi(t,"snap",yi,Ri(t)),zi(t,"breakpoint",vi,Ri(t)),zi(t,"keep",mi,Ri(t)),zi(t,"shadow",gi,Ri(t)),zi(t,"slotEl",wi,Ri(t)),t}return r=CircuitStepElement,i=[{key:"createShadow",value:function(t){var e=document.createElement("circuit-step");e.shadow=!0;for(var n=0;n<t;n++)e.appendDropzone();return e}}],(o=[{key:"wireCount",get:function(){return this.dropzones.length}},{key:"nqubit",get:function(){for(var t=this.wireCount,e=this.dropzones,n=t-1;n>=0&&!e[n].occupied;n--)t--;return t}},{key:"dropzones",get:function(){return this.elements("circuit-dropzone")}},{key:"lastDropzone",get:function(){return this.dropzones[this.wireCount-1]}},{key:"isEmpty",get:function(){return!this.keep&&this.dropzones.every((function(t){return!t.occupied}))}},{key:"dropzone",value:function(t){var e=this.dropzones[t];return void 0===e?null:e}},{key:"dropzoneIndex",value:function(t){var e=this.dropzones.indexOf(t);return-1===e?null:e}},{key:"bit",value:function(t){var e=t.parentElement;if(null===e)throw new Error("Dropzone not found");return this.dropzones.indexOf(e)}},{key:"index",value:function(){var t=this.quantumCircuitElement();if(null===t)return null;var e=t.steps.indexOf(this);if(-1===e)throw new Error("circuitStep not found");return e}},{key:"prev",value:function(){var t=this.index();if(null===t||0===t)return null;var e=this.quantumCircuitElement();return null===e?null:e.steps[t-1]||null}},{key:"next",value:function(){var t=this.index();if(null===t)return null;var e=this.quantumCircuitElement();return null===e?null:e.steps[t+1]||null}},{key:"activate",value:function(){this.dispatchEvent(new CustomEvent("step.click",{bubbles:!0,detail:this}))}},{key:"appendDropzone",value:function(){var t=document.createElement("circuit-dropzone");return this.append(t),t}},{key:"appendOperation",value:function(t){var e=document.createElement("circuit-dropzone");e.append(t),e.occupied=!0,this.append(e),this.updateConnections()}},{key:"remove",value:function(){var t;null===(t=this.parentElement)||void 0===t||t.removeChild(this)}},{key:"quantumCircuitElement",value:function(){return this.closest("quantum-circuit")}},{key:"serialize",value:function(){return this.dropzones.map((function(t){return t.serialize()}))}},{key:"toJson",value:function(){for(var t=this.dropzones.map((function(t){return t.toJson()}));t.length>0&&"1"===t[t.length-1];)t.pop();return"[".concat(t.join(","),"]")}},{key:"attributeChangedCallback",value:function(t,e,n){if(e!==n&&"data-shadow"===t&&null===n){var r,o=Ei(this.dropzones);try{for(o.s();!(r=o.n()).done;)r.value.shadow=!1}catch(t){o.e(t)}finally{o.f()}}}},{key:"connectedCallback",value:function(){this.addEventListener("mouseenter",this.dispatchStepHoverEvent),this.addEventListener("dropzone.snap",this.dispatchStepHoverEvent),this.addEventListener("dropzone.snap",this.dispatchStepSnapEvent),this.addEventListener("dropzone.unsnap",this.dispatchStepUnsnapEvent),this.addEventListener("dropzone.drop",this.dispatchStepDropEvent),this.addEventListener("draggable.grab",this.dispatchStepSnapEvent),this.addEventListener("draggable.enddragging",this.unsnap),this.addEventListener("click",this.activate),this.attachShadow({mode:"open"}),this.update(),this.addSlotChangeEventListener(),this.updateConnections(),this.updateWires()}},{key:"dispatchStepHoverEvent",value:function(){this.dispatchEvent(new CustomEvent("step.hover",{detail:this,bubbles:!0}))}},{key:"dispatchStepSnapEvent",value:function(){this.dispatchEvent(new CustomEvent("step.snap",{detail:this,bubbles:!0}))}},{key:"dispatchStepUnsnapEvent",value:function(){this.unsnap(),this.dispatchEvent(new CustomEvent("step.unsnap",{detail:this,bubbles:!0}))}},{key:"dispatchStepDropEvent",value:function(){this.dispatchEvent(new CustomEvent("step.drop",{detail:this,bubbles:!0}))}},{key:"unsnap",value:function(){this.snap=!1}},{key:"update",value:function(){var t,e;Gt(Ht(xi||(t=['<style>\n          :host {\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            cursor: pointer;\n          }\n\n          @media (min-width: 768px) {\n            :host {\n              flex-direction: row;\n            }\n          }\n\n          :host([data-shadow]) {\n            height: 0px;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-shadow]) {\n              height: auto;\n              width: 0px;\n            }\n          }\n\n          #body {\n            display: flex;\n            flex-direction: row-reverse;\n          }\n\n          ::slotted(circuit-dropzone[data-wire-count="1"]:nth-of-type(n + 2)),\n          ::slotted(circuit-dropzone[data-wire-count="2"]:nth-of-type(n + 2)) {\n            margin-right: ','rem;\n          }\n\n          ::slotted(circuit-dropzone[data-wire-count="3"]:nth-of-type(n + 2)) {\n            margin-right: ','rem;\n          }\n\n          ::slotted(circuit-dropzone[data-wire-count="4"]:nth-of-type(n + 2)) {\n            margin-right: ','rem;\n          }\n\n          ::slotted(circuit-dropzone[data-wire-count="5"]:nth-of-type(n + 2)),\n          ::slotted(circuit-dropzone[data-wire-count="6"]:nth-of-type(n + 2)) {\n            margin-right: ','rem;\n          }\n\n          ::slotted(circuit-dropzone[data-wire-count="7"]:nth-of-type(n + 2)),\n          ::slotted(circuit-dropzone[data-wire-count="8"]:nth-of-type(n + 2)),\n          ::slotted(circuit-dropzone[data-wire-count="9"]:nth-of-type(n + 2)),\n          ::slotted(circuit-dropzone[data-wire-count="10"]:nth-of-type(n + 2)) {\n            margin-right: ',"rem;\n          }\n\n          @media (min-width: 768px) {\n            #body {\n              flex-direction: column;\n              padding-top: 1rem;\n              padding-bottom: 1rem;\n            }\n\n            ::slotted(circuit-dropzone:nth-of-type(n + 2)) {\n              margin-top: ",'rem !important;\n              margin-right: 0 !important;\n            }\n          }\n\n          #breakpoint {\n            position: relative;\n            min-height: 0px;\n            min-width: 100%;\n          }\n\n          @media (min-width: 768px) {\n            #breakpoint {\n              min-height: 100%;\n              min-width: 0px;\n            }\n          }\n\n          #breakpoint-line {\n            position: absolute;\n            top: 0px;\n            right: 0px;\n            bottom: 0px;\n            left: 0px;\n            z-index: 10;\n            padding: 2px;\n            margin-top: -2px;\n            background-color: var(--colors-cardinal, #ff4b4b);\n            opacity: 0;\n          }\n\n          @media (min-width: 768px) {\n            #breakpoint-line {\n              margin-top: 0;\n              margin-left: -2px;\n            }\n          }\n\n          :host([data-active]:not([data-breakpoint])) #breakpoint-line {\n            opacity: 0.3;\n          }\n\n          :host([data-breakpoint]) #breakpoint-line {\n            opacity: 0.8;\n          }\n        </style>\n\n        <div id="body">\n          <slot data-target="circuit-step.slotEl"></slot>\n        </div>\n        <div id="breakpoint">\n          <div id="breakpoint-line"></div>\n        </div>'],e||(e=t.slice(0)),xi=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))),mo.size.xl/2,mo.size.lg/2,mo.size.base/2,mo.size.sm/2,mo.size.xs/2,mo.size.base/2),this.shadowRoot)}},{key:"addSlotChangeEventListener",value:function(){var t=this;this.slotEl.addEventListener("slotchange",(function(){if(t.shadow){var e,n=Ei(t.dropzones);try{for(n.s();!(e=n.n()).done;)e.value.shadow=!0}catch(t){n.e(t)}finally{n.f()}}t.updateConnections(),t.updateWires();var r,o=Ei(t.dropzones);try{for(o.s();!(r=o.n()).done;)r.value.wireCount=t.wireCount}catch(t){o.e(t)}finally{o.f()}}))}},{key:"updateConnections",value:function(){var t,e,n=this,r=Ei(this.dropzones);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.wireTop=!1,o.wireBottom=!1;var i=o.draggableElement;"object"==typeof(e=i)&&null!==e&&"boolean"==typeof e.wireTop&&"boolean"==typeof e.wireBottom&&"function"==typeof e.disconnectFromAll&&i.disconnectFromAll()}}catch(t){r.e(t)}finally{r.f()}if(2!==this.swapGates.length){var a,u=Ei(this.swapGates);try{for(u.s();!(a=u.n()).done;)a.value.disable()}catch(t){u.e(t)}finally{u.f()}}else{var c,s=this.swapGates,l=s.map((function(t){return n.bit(t)})),f=Ei(s);try{var p=function(){var t=c.value;t.enable(),t.targets=l,t.wireTop=s.some((function(e){return n.bit(e)<n.bit(t)})),t.wireBottom=s.some((function(e){return n.bit(e)>n.bit(t)}))};for(f.s();!(c=f.n()).done;)p()}catch(t){f.e(t)}finally{f.f()}var d,h=Ei(this.dropzones);try{for(h.s();!(d=h.n()).done;){var b=d.value;if(!b.draggable){var y=Math.min.apply(Math,Ai(l)),v=Math.max.apply(Math,Ai(l));y<this.dropzones.indexOf(b)&&this.dropzones.indexOf(b)<v&&(b.wireTop=!0,b.wireBottom=!0)}}}catch(t){h.e(t)}finally{h.f()}}var m,g=Ei(this.phaseGates);try{var w=function(){var t=m.value;if(""===t.phi)return"continue";var e,r=n.phaseGates.filter((function(e){return e.phi===t.phi})),o=Ei(r);try{var i=function(){var t=e.value;t.targets=r.map((function(t){return n.bit(t)})),t.wireTop=r.some((function(e){return n.bit(e)<n.bit(t)})),t.wireBottom=r.some((function(e){return n.bit(e)>n.bit(t)}))};for(o.s();!(e=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}var a,u=Ei(n.dropzones);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(!c.draggable){var s=r.map((function(t){return n.bit(t)})),l=Math.min.apply(Math,Ai(s)),f=Math.max.apply(Math,Ai(s));l<n.dropzones.indexOf(c)&&n.dropzones.indexOf(c)<f&&(c.wireTop=!0,c.wireBottom=!0)}}}catch(t){u.e(t)}finally{u.f()}};for(g.s();!(m=g.n()).done;)w()}catch(t){g.e(t)}finally{g.f()}if(0!==this.controlGates.length){if(1===this.controlGates.length&&0===this.controllableGates.length){var x=this.controlGates[0];return x.disable(),void(x.targets=[])}if(0===this.controllableGates.length){var O,k=Ei(this.controlGates);try{var j=function(){var t=O.value;t.enable(),t.targets=n.controlBits,t.wireTop=n.controlGates.some((function(e){return n.bit(t)>n.bit(e)})),t.wireBottom=n.controlGates.some((function(e){return n.bit(t)<n.bit(e)}))};for(k.s();!(O=k.n()).done;)j()}catch(t){k.e(t)}finally{k.f()}}else{var A,E=Ei(this.controllableGates);try{var S=function(){var t=A.value;t.controls=n.controlBits,t.wireTop=n.controlGates.some((function(e){return n.bit(e)<n.bit(t)}))||n.controllableGates.some((function(e){return n.bit(e)<n.bit(t)})),t.wireBottom=n.controlGates.some((function(e){return n.bit(e)>n.bit(t)}))||n.controllableGates.some((function(e){return n.bit(e)>n.bit(t)}))};for(E.s();!(A=E.n()).done;)S()}catch(t){E.e(t)}finally{E.f()}var _,z=Ei(this.controlGates);try{var P=function(){var t=_.value;t.enable(),t.targets=n.controllableBits,t.wireTop=n.controllableGates.some((function(e){return n.bit(t)>n.bit(e)}))||n.controlGates.some((function(e){return n.bit(t)>n.bit(e)})),t.wireBottom=n.controllableGates.some((function(e){return n.bit(t)<n.bit(e)}))||n.controlGates.some((function(e){return n.bit(t)<n.bit(e)}))};for(z.s();!(_=z.n()).done;)P()}catch(t){z.e(t)}finally{z.f()}}var C,T=Ei(this.dropzones);try{for(T.s();!(C=T.n()).done;){var R=C.value;if(!R.draggable){var q=this.controlGates.map((function(t){return n.bit(t)})).concat(this.controllableGates.map((function(t){return n.bit(t)}))),M=q.sort()[0],D=q.sort().slice(-1)[0];M<this.dropzones.indexOf(R)&&this.dropzones.indexOf(R)<D&&(R.wireTop=!0,R.wireBottom=!0)}}}catch(t){T.e(t)}finally{T.f()}}else{var B,I=Ei(this.controllableGates);try{for(I.s();!(B=I.n()).done;)B.value.controls=[]}catch(t){I.e(t)}finally{I.f()}}}},{key:"updateWires",value:function(){var t,e=Ei(this.dropzones);try{for(e.s();!(t=e.n()).done;)t.value.updateWires()}catch(t){e.e(t)}finally{e.f()}}},{key:"controlGates",get:function(){return this.snappedDraggables("control-gate")}},{key:"controlBits",get:function(){var t=this;return this.controlGates.map((function(e){return t.bit(e)}))}},{key:"controllableGates",get:function(){return this.snappedDraggables("h-gate,x-gate,y-gate,z-gate,phase-gate,rnot-gate,rx-gate,ry-gate,rz-gate,swap-gate")}},{key:"controllableBits",get:function(){var t=this;return this.controllableGates.map((function(e){return t.bit(e)}))}},{key:"phaseGates",get:function(){return this.snappedDraggables("phase-gate")}},{key:"swapGates",get:function(){return this.snappedDraggables("swap-gate")}},{key:"elements",value:function(t){return Array.from(this.querySelectorAll(t))}},{key:"snappedDraggables",value:function(t){return this.elements(t).filter((function(t){return t.snapped}))}}])&&Ci(r.prototype,o),i&&Ci(r,i),CircuitStepElement}(qi(HTMLElement)),bi=Li(hi.prototype,"active",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yi=Li(hi.prototype,"snap",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vi=Li(hi.prototype,"breakpoint",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mi=Li(hi.prototype,"keep",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gi=Li(hi.prototype,"shadow",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wi=Li(hi.prototype,"slotEl",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=hi))||di,ra=n(2);function oa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ia(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function aa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ca(t,e){return(ca=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pa(t);if(e){var o=pa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return la(this,n)}}function la(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fa(t)}function fa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pa(t){return(pa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function da(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var ha,ba,ya,va,ma,ga=C((Ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ca(t,e)}(BlochDisplayElement,t);var e,n,r,o=sa(BlochDisplayElement);function BlochDisplayElement(){var t;aa(this,BlochDisplayElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ia(t=o.call.apply(o,[this].concat(n)),"body",Fi,fa(t)),ia(t,"vectorLine",Hi,fa(t)),ia(t,"vectorEnd",Gi,fa(t)),ia(t,"vector",Vi,fa(t)),ia(t,"vectorEndCircles",Wi,fa(t)),ia(t,"x",$i,fa(t)),ia(t,"y",Yi,fa(t)),ia(t,"z",Xi,fa(t)),ia(t,"draggableSource",Qi,fa(t)),ia(t,"draggableShadow",Ji,fa(t)),t}return e=BlochDisplayElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.draggable,n=void 0!==e&&e,r=document.createElement("bloch-display");return r.draggable=n,r}}],(n=[{key:"showPopup",value:function(){this.isCircuitDraggable()?this.showInspector():this.showHelp()}},{key:"showInspector",value:function(){if(!this.grabbed&&!this._tippy){var t=this.blochInspectorPopupContent();Object(gr.b)(this,{allowHTML:!0,animation:!1,arrow:gr.c+gr.c,delay:0,placement:"auto",theme:"qni",onShow:function(e){e.setContent(t)}}).show()}}},{key:"blochInspectorPopupContent",value:function(){var t=document.createDocumentFragment();return Gt(Ht(Ki||(Ki=oa(['\n        <div class="bloch-display__inspector">\n          <header>\n            <h1>Local State</h1>\n          </header>\n\n          <section>\n            r:\n            <span class="bloch-display__inspector-d"\n              >','</span\n            >, ϕ:\n            <span class="bloch-display__inspector-phi"\n              >','</span\n            >, θ:\n            <span class="bloch-display__inspector-theta"\n              >','</span\n            >\n          </section>\n          <section>\n            x:\n            <span class="bloch-display__inspector-x"\n              >','</span\n            >, y:\n            <span class="bloch-display__inspector-y"\n              >','</span\n            >, z:\n            <span class="bloch-display__inspector-z"\n              >',"</span\n            >\n          </section>\n        </div>\n      "])),this.forceSigned(this.d),this.forceSigned(this.phi,2),this.forceSigned(this.theta,2),this.forceSigned(this.x),this.forceSigned(this.y),this.forceSigned(this.z)),t),t}},{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.updateBlochVector(),this.initDraggable())}},{key:"disconnectedCallback",value:function(){var t=this._tippy;null==t||t.destroy()}},{key:"attributeChangedCallback",value:function(t,e,n){this.body&&e!==n&&("data-draggable-source"!==t?"data-draggable-shadow"!==t?null!==n&&("data-x"===t&&(this.x=parseFloat(n)),"data-y"===t&&(this.y=parseFloat(n)),"data-z"===t&&(this.z=parseFloat(n)),this.d=this.vectorLength(),this.phi=this.calculatePhi(),this.theta=this.calculateTheta(),this.updateBlochVector()):this.body.classList.toggle("draggable-shadow"):this.body.classList.toggle("draggable-source"))}},{key:"update",value:function(){this.d=this.vectorLength(),this.phi=this.calculatePhi(),this.theta=this.calculateTheta();var t=function(t){return Ht(Zi||(Zi=oa(['<div\n        class="vector-line-rect"\n        style="transform: rotateY(','deg)"\n      ></div>'])),t)},e=function(t,e){return Ht(ta||(ta=oa(['<div\n        class="vector-end-circle"\n        style="transform: rotate',"(",'deg)"\n        data-targets="bloch-display.vectorEndCircles"\n      ></div>'])),e,t)};Gt(Ht(ea||(ea=oa([""," ",'\n\n        <style>\n          #body.draggable-source::after {\n            opacity: 100;\n            border-color: var(--colors-fox, #ff9600);\n          }\n\n          #body.draggable-shadow::after {\n            opacity: 100;\n            border-color: var(--colors-superposition, #ce82ff);\n          }\n\n          #background {\n            border-radius: 9999px;\n            background-color: var(--colors-snow, #ffffff);\n          }\n\n          #sphere-border {\n            box-sizing: border-box;\n            border-style: solid;\n            border-radius: 9999px;\n            border-width: 2px;\n            border-color: var(--colors-hare, #afafaf);\n            background-color: rgba(67, 192, 0, 0.1);\n          }\n\n          #sphere-lines {\n            width: 100%;\n            height: 100%;\n            stroke: currentColor;\n            color: var(--colors-hare, #afafaf);\n          }\n\n          #perspective {\n            position: absolute;\n            top: -1px;\n            right: -1px;\n            bottom: -1px;\n            left: -1px;\n            perspective-origin: top right;\n          }\n\n          :host([data-size="xs"]) #perspective {\n            perspective: 2rem;\n          }\n\n          :host([data-size="sm"]) #perspective {\n            perspective: 3rem;\n          }\n\n          :host #perspective,\n          :host([data-size="base"]) #perspective {\n            perspective: 4rem;\n          }\n\n          :host([data-size="lg"]) #perspective {\n            perspective: 5rem;\n          }\n\n          :host([data-size="xl"]) #perspective {\n            perspective: 6rem;\n          }\n\n          #vector {\n            position: relative;\n            width: 100%;\n            height: 100%;\n            transform-origin: center;\n            transform-style: preserve-3d;\n          }\n\n          #vector-line {\n            position: absolute;\n            width: 100%;\n            height: 0;\n            bottom: 50%;\n            transform-style: preserve-3d;\n          }\n\n          .vector-line-rect {\n            position: absolute;\n            left: 0px;\n            right: 0px;\n            background-color: var(--colors-eel, #4b4b4b);\n            margin-left: auto;\n            margin-right: auto;\n            transform-origin: bottom;\n            height: 100%;\n            width: 2px;\n            transform-style: preserve-3d;\n          }\n\n          #vector-end {\n            position: absolute;\n            width: 100%;\n            transform-style: preserve-3d;\n          }\n\n          .vector-end-circle {\n            position: absolute;\n            left: 0px;\n            right: 0px;\n            background-color: var(--colors-cardinal, #ff4b4b);\n            margin-left: auto;\n            margin-right: auto;\n            border-radius: 9999px;\n            height: 6px;\n            width: 6px;\n          }\n\n          :host([data-size="xs"]) .vector-end-circle {\n            height: 4px;\n            width: 4px;\n          }\n\n          :host([data-size="lg"]) .vector-end-circle,\n          :host([data-size="xl"]) .vector-end-circle {\n            height: 8px;\n            width: 8px;\n          }\n\n          #body[data-d="0"] .vector-end-circle {\n            background-color: var(--colors-magnitude, #1cb0f6);\n          }\n\n          .absolute {\n            position: absolute;\n          }\n\n          .inset-0 {\n            top: 0px;\n            right: 0px;\n            bottom: 0px;\n            left: 0px;\n          }\n        </style>\n\n        <div\n          id="body"\n          data-target="bloch-display.body"\n          data-d="','"\n          data-action="mouseenter:bloch-display#showPopup mouseup:bloch-display#showPopup"\n        >\n          <div id="background" class="absolute inset-0"></div>\n          <div id="sphere-border" class="absolute inset-0">\n            <svg\n              id="sphere-lines"\n              class="absolute inset-0"\n              viewBox="0 0 48 48"\n              fill="none"\n              stroke-width="1"\n            >\n              <line x1="0%" y1="50%" x2="100%" y2="50%" />\n              <line x1="50%" y1="0%" x2="50%" y2="100%" />\n              <line x1="35%" y1="65%" x2="65%" y2="35%" />\n              <ellipse cx="50%" cy="50%" rx="18%" ry="50%" />\n              <ellipse cx="50%" cy="50%" rx="50%" ry="18%" />\n            </svg>\n            <div id="perspective">\n              <div id="vector" data-target="bloch-display.vector">\n                <div id="vector-line" data-target="bloch-display.vectorLine">\n                  '," ","\n                  "," ","\n                  "," ","\n                  "," ","\n                  ",'\n                </div>\n\n                <div id="vector-end" data-target="bloch-display.vectorEnd">\n                  '," ","\n                  "," ","\n                  "," ","\n                  "," ","\n                  "," ","\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>"])),this.sizeableStyle,this.draggableStyle,this.d,t(0),t(20),t(40),t(60),t(80),t(100),t(120),t(140),t(160),e(0,"Y"),e(20,"Y"),e(40,"Y"),e(60,"Y"),e(80,"Y"),e(100,"Y"),e(120,"Y"),e(140,"Y"),e(160,"Y"),e(90,"X")),this.shadowRoot)}},{key:"toJson",value:function(){return'"'.concat(ra.a,'"')}},{key:"serialize",value:function(){return{type:ra.a}}},{key:"updateBlochVector",value:function(){var t=this.vectorEndCircles[0].offsetWidth;this.vectorLine.style.height="calc(".concat(100*this.d/2,"% - ").concat(t/2,"px)"),this.vectorEnd.style.bottom="calc(50% + ".concat(100*this.d/2,"% + ").concat(t/2,"px)"),0!==this.d&&(this.vector.style.transform="rotateY(".concat(this.phi,"deg) rotateX(").concat(-this.theta,"deg)"))}},{key:"d",get:function(){var t=this.getAttribute("data-d");if(null===t)throw new Error("data-d not set");return parseFloat(t)},set:function(t){var e;this.setAttribute("data-d",t.toString()),null===(e=this.body)||void 0===e||e.setAttribute("data-d",t.toString())}},{key:"vectorLength",value:function(){return parseFloat(Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z).toFixed(4))}},{key:"phi",get:function(){var t=this.getAttribute("data-phi");if(null===t)throw new Error("data-phi not set");return parseFloat(t)},set:function(t){this.setAttribute("data-phi",t.toString())}},{key:"calculatePhi",value:function(){return 180*Math.atan2(this.y,this.x)/Math.PI}},{key:"theta",get:function(){var t=this.getAttribute("data-theta");if(null===t)throw new Error("data-theta not set");return parseFloat(t)},set:function(t){this.setAttribute("data-theta",t.toString())}},{key:"calculateTheta",value:function(){return 180*Math.max(0,Math.PI/2-Math.atan2(this.z,Math.sqrt(this.y*this.y+this.x*this.x)))/Math.PI}},{key:"forceSigned",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return(t>=0?"+":"")+t.toFixed(e)}},{key:"isCircuitDraggable",value:function(){return null!==this.parentElement&&"CIRCUIT-DROPZONE"===this.parentElement.tagName}}])&&ua(e.prototype,n),r&&ua(e,r),BlochDisplayElement}(dr(_r(go(Zr(HTMLElement))))),Fi=da(Ui.prototype,"body",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hi=da(Ui.prototype,"vectorLine",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gi=da(Ui.prototype,"vectorEnd",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vi=da(Ui.prototype,"vector",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wi=da(Ui.prototype,"vectorEndCircles",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$i=da(Ui.prototype,"x",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yi=da(Ui.prototype,"y",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xi=da(Ui.prototype,"z",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qi=da(Ui.prototype,"draggableSource",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ji=da(Ui.prototype,"draggableShadow",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ni=Ui))||Ni;function wa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function xa(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Oa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ja(t,e){return(ja=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Aa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_a(t);if(e){var o=_a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ea(this,n)}}function Ea(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sa(t)}function Sa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _a(t){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var za,Pa,Ca,Ta,Ra,qa=C((ba=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ja(t,e)}(ControlGateElement,t);var e,n,r,o=Aa(ControlGateElement);function ControlGateElement(){var t;Oa(this,ControlGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xa(t=o.call.apply(o,[this].concat(n)),"iconType",ya,Sa(t)),t}return e=ControlGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.draggable,n=void 0!==e&&e,r=document.createElement("control-gate");return r.draggable=n,r}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}},{key:"update",value:function(){Gt(Ht(va||(va=wa([""," "," ","\n        ",'\n\n        <style>\n          :host([data-grabbed]) #body {\n            background-color: var(--colors-snow, #ffffff);\n          }\n        </style>\n\n        <div id="body" data-action="mouseenter:control-gate#showHelp">\n          '," ","\n        </div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.draggableStyle,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return'"'.concat(ra.b,'"')}},{key:"serialize",value:function(){return{type:ra.b,targets:this.targets}}},{key:"iconSvg",get:function(){return Ht(ma||(ma=wa(['\n      <svg\n        id="icon"\n        width="48"\n        height="48"\n        viewBox="0 0 48 48"\n        fill="none"\n        stroke-width="2"\n        stroke-linecap="round"\n      >\n        <circle cx="24" cy="24" r="8" fill="currentColor" />\n      </svg>\n    '])))}}])&&ka(e.prototype,n),r&&ka(e,r),ControlGateElement}(dr(Eo(Bo(Fn(Ir(_r(go(Zr(HTMLElement))))))))),ya=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(ba.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"transparent"}}),ha=ba))||ha;function Ma(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Da(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ba(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ia(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function La(t,e){return(La=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Na(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ha(t);if(e){var o=Ha(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ua(this,n)}}function Ua(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fa(t)}function Fa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ha(t){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ga,Va,Wa,$a,Ya,Xa,Qa,Ja=C((Pa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&La(t,e)}(HGateElement,t);var e,n,r,o=Na(HGateElement);function HGateElement(){var t;Ba(this,HGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Da(t=o.call.apply(o,[this].concat(n)),"iconType",Ca,Fa(t)),t}return e=HGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.draggable,n=void 0!==e&&e,r=document.createElement("h-gate");return r.draggable=n,r}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}},{key:"update",value:function(){Gt(Ht(Ta||(Ta=Ma([""," "," ","\n        "," "," ",'\n\n        <div id="body" data-action="mouseenter:h-gate#showHelp">\n          '," ","\n        </div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.labelStyle,this.draggableStyle,this.disabledStyle,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return'"'.concat(ra.c,'"')}},{key:"serialize",value:function(){return{type:ra.c,controls:this.controls,if:""!==this.if?this.if:null}}},{key:"iconSvg",get:function(){return Ht(Ra||(Ra=Ma(['<svg\n      id="icon"\n      width="48"\n      height="48"\n      viewBox="0 0 48 48"\n      fill="none"\n      stroke-width="2"\n      stroke-linecap="round"\n    >\n      <path d="M17 13L17 35M17 24L31 24M31 13L31 35" />\n    </svg>'])))}}])&&Ia(e.prototype,n),r&&Ia(e,r),HGateElement}(dr(Tn(Bo(ao(Wr(Fn(Ir(_r(go(Zr(HTMLElement))))))))))),Ca=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(Pa.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"square"}}),za=Pa))||za;function Ka(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Za(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function tu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nu(t,e){return(nu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ru(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=au(t);if(e){var o=au(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ou(this,n)}}function ou(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return iu(t)}function iu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function au(t){return(au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function uu(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var cu,su,lu,fu,pu,du,hu=C((Va=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nu(t,e)}(MeasurementGateElement,t);var e,n,r,o=ru(MeasurementGateElement);function MeasurementGateElement(){var t;tu(this,MeasurementGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Za(t=o.call.apply(o,[this].concat(n)),"iconType",Wa,iu(t)),Za(t,"value",$a,iu(t)),Za(t,"flag",Ya,iu(t)),t}return e=MeasurementGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.draggable,n=void 0!==e&&e,r=document.createElement("measurement-gate");return r.draggable=n,r}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}},{key:"update",value:function(){Gt(Ht(Xa||(Xa=Ka([""," "," ","\n        ",'\n\n        <style>\n          :host([data-grabbed]) #body {\n            background-color: var(--colors-snow, #ffffff);\n          }\n\n          #icon {\n            color: var(--colors-superposition, #ce82ff);\n            transform: rotate(90deg);\n          }\n\n          @media (min-width: 768px) {\n            #icon {\n              transform: rotate(0deg);\n            }\n          }\n\n          :host([data-snapped][data-value="0"]) #icon,\n          :host([data-snapped][data-value="1"]) #icon {\n            color: var(--colors-swan, #e5e5e5);\n          }\n\n          #value {\n            display: none;\n            position: absolute;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            left: 0;\n            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,\n              "Liberation Mono", "Courier New", monospace;\n            writing-mode: vertical-lr;\n          }\n\n          @media (min-width: 768px) {\n            #value {\n              writing-mode: horizontal-tb;\n              font-size: 1.125rem !important;\n              line-height: 1.75rem !important;\n            }\n          }\n\n          :host([data-snapped]) #value {\n            display: block;\n          }\n\n          #value::after {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            width: 100%;\n            height: 100%;\n          }\n\n          :host([data-wire-count="1"]) #value,\n          :host([data-wire-count="2"]) #value,\n          :host([data-wire-count="3"]) #value {\n            font-size: 1.5rem;\n            line-height: 2rem;\n          }\n\n          :host([data-wire-count="4"]) #value,\n          :host([data-wire-count="5"]) #value,\n          :host([data-wire-count="6"]) #value {\n            font-size: 1rem;\n            line-height: 1.5rem;\n          }\n\n          :host([data-wire-count="7"]) #value,\n          :host([data-wire-count="8"]) #value,\n          :host([data-wire-count="9"]) #value,\n          :host([data-wire-count="10"]) #value {\n            font-size: 0.75rem;\n            line-height: 1rem;\n          }\n\n          :host([data-value="0"]) #value {\n            color: var(--colors-cardinal, #ff4b4b);\n          }\n\n          :host([data-value="0"]) #value::after {\n            content: "0";\n          }\n\n          :host([data-value="1"]) #value {\n            color: var(--colors-magnitude, #1cb0f6);\n          }\n\n          :host([data-value="1"]) #value::after {\n            content: "1";\n          }\n        </style>\n\n        <div\n          id="body"\n          data-flag="','"\n          data-action="mouseenter:measurement-gate#showHelp"\n        >\n          ','\n          <div id="value"></div>\n        </div>'])),this.sizeableStyle,this.iconStyle,this.draggableStyle,this.labelStyle,this.flag,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return'"'.concat(ra.f,'"')}},{key:"serialize",value:function(){return{type:ra.f,flag:this.flag}}},{key:"iconSvg",get:function(){return Ht(Qa||(Qa=Ka(['\n      <svg\n        id="icon"\n        width="48"\n        height="48"\n        viewBox="0 0 48 48"\n        fill="none"\n        stroke-width="3"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n      >\n        <path d="M8 35A16 16 0 0 1 40 35" fill="none" />\n        <path d="M24.5 33L35 15" />\n        <circle\n          cx="24.5"\n          cy="33"\n          r="1.5"\n          fill="currentColor"\n          stroke="currentColor"\n        />\n      </svg>\n    '])))}}])&&eu(e.prototype,n),r&&eu(e,r),MeasurementGateElement}(dr(Ir(_r(ao(go(Zr(HTMLElement))))))),Wa=uu(Va.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"transparent"}}),$a=uu(Va.prototype,"value",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ya=uu(Va.prototype,"flag",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ga=Va))||Ga;function bu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function yu(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function vu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gu(t,e){return(gu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ku(t);if(e){var o=ku(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xu(this,n)}}function xu(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ou(t)}function Ou(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ku(t){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ju(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Au,Eu,Su,_u,zu,Pu=C((su=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gu(t,e)}(PhaseGateElement,t);var e,n,r,o=wu(PhaseGateElement);function PhaseGateElement(){var t;vu(this,PhaseGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return yu(t=o.call.apply(o,[this].concat(n)),"iconType",lu,Ou(t)),yu(t,"phi",fu,Ou(t)),t}return e=PhaseGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.phi,n=void 0===e?"π/2":e,r=t.draggable,o=void 0!==r&&r,i=document.createElement("phase-gate");return i.phi=n,i.draggable=o,i}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}},{key:"update",value:function(){Gt(Ht(pu||(pu=bu([""," "," ","\n        "," "," ",'\n\n        <div\n          id="body"\n          data-phi="','"\n          data-action="mouseenter:phase-gate#showHelp"\n        >\n          '," ","\n        </div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.draggableStyle,this.disabledStyle,this.labelStyle,this.phi,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return""===this.phi?'"'.concat(ra.g,'"'):'"'.concat(ra.g,"(").concat(this.phi.replace("/","_"),')"')}},{key:"serialize",value:function(){return{type:ra.g,phi:this.phi.replace("π","pi"),controls:this.controls,targets:this.targets,if:""!==this.if?this.if:null}}},{key:"iconSvg",get:function(){return Ht(du||(du=bu(['<svg\n      id="icon"\n      width="48"\n      height="48"\n      viewBox="0 0 48 48"\n      fill="none"\n      stroke-width="2"\n      stroke-linecap="round"\n    >\n      <path d="M17 24A7 7 0 1 0 31 24A7 7 0 1 0 17 24M19 34L29 13" />\n    </svg>'])))}}])&&mu(e.prototype,n),r&&mu(e,r),PhaseGateElement}(dr(Eo(Tn(Bo(ao(Wr(Fn(Ir(_r(go(Zr(HTMLElement)))))))))))),lu=ju(su.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"circle"}}),fu=ju(su.prototype,"phi",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cu=su))||cu;function Cu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Tu(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ru(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mu(t,e){return(Mu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Du(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lu(t);if(e){var o=Lu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bu(this,n)}}function Bu(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Iu(t)}function Iu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lu(t){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nu,Uu,Fu,Hu,Gu,Vu,Wu=C((Eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mu(t,e)}(RnotGateElement,t);var e,n,r,o=Du(RnotGateElement);function RnotGateElement(){var t;Ru(this,RnotGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Tu(t=o.call.apply(o,[this].concat(n)),"iconType",Su,Iu(t)),t}return e=RnotGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.draggable,n=void 0!==e&&e,r=document.createElement("rnot-gate");return r.draggable=n,r}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}},{key:"update",value:function(){Gt(Ht(_u||(_u=Cu([""," "," ","\n        "," "," ",'\n\n        <div id="body" data-action="mouseenter:rnot-gate#showHelp">\n          '," ","\n        </div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.labelStyle,this.draggableStyle,this.disabledStyle,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return'"'.concat(ra.h,'"')}},{key:"serialize",value:function(){return{type:ra.h,controls:this.controls,if:""!==this.if?this.if:null}}},{key:"iconSvg",get:function(){return Ht(zu||(zu=Cu(['<svg\n      id="icon"\n      width="48"\n      height="48"\n      viewBox="0 0 48 48"\n      fill="none"\n      stroke-width="2"\n      stroke-linecap="round"\n      stroke-linejoin="round"\n    >\n      <path d="M10 24L13 24L14 36L17 36L18 12L38 12" />\n      <path d="M24 32L34 18M34 32L24 18" />\n    </svg>'])))}}])&&qu(e.prototype,n),r&&qu(e,r),RnotGateElement}(dr(Tn(Bo(ao(Wr(Fn(Ir(_r(go(Zr(HTMLElement))))))))))),Su=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(Eu.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"square"}}),Au=Eu))||Au;function $u(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Yu(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ju(t,e){return(Ju=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ku(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ec(t);if(e){var o=ec(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zu(this,n)}}function Zu(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tc(t)}function tc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ec(t){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nc(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var rc,oc,ic,ac,uc,cc,sc=C((Uu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ju(t,e)}(RxGateElement,t);var e,n,r,o=Ku(RxGateElement);function RxGateElement(){var t;Xu(this,RxGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Yu(t=o.call.apply(o,[this].concat(n)),"iconType",Fu,tc(t)),Yu(t,"theta",Hu,tc(t)),t}return e=RxGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.theta,n=void 0===e?"π/2":e,r=t.draggable,o=void 0!==r&&r,i=document.createElement("rx-gate");return i.theta=n,i.draggable=o,i}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable(),this.addEventListener("mouseenter",this.showHelp),this.addEventListener("mousedown",this.showRightClickPopup))}},{key:"update",value:function(){Gt(Ht(Gu||(Gu=$u([""," "," ","\n        "," "," ",'\n\n        <div id="body">'," ","</div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.draggableStyle,this.disabledStyle,this.labelStyle,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return""===this.theta?'"'.concat(ra.i,'"'):'"'.concat(ra.i,"(").concat(this.theta.replace("/","_"),')"')}},{key:"serialize",value:function(){return{type:ra.i,theta:this.theta.replace("π","pi"),controls:this.controls,targets:this.targets,if:""!==this.if?this.if:null}}},{key:"iconSvg",get:function(){return Ht(Vu||(Vu=$u(['<svg id="icon" width="48" height="48" viewBox="0 0 48 48">\n      <path\n        d="M12.321 13.002V35l.125-9.837c3.147.038 6.353-.042 8.024-1.255 3.393-2.465 2.536-7.83-.883-10.076-1.55-1.019-4.377-.83-7.266-.83zM18.236 25.6L21.73 35zM34.61 13.002L24.746 35m.073-21.998L34.609 35"\n        fill="none"\n        stroke="#FFF"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n      />\n    </svg>'])))}}])&&Qu(e.prototype,n),r&&Qu(e,r),RxGateElement}(An(dr(Eo(Tn(Bo(ao(Wr(Fn(Ir(_r(go(Zr(HTMLElement))))))))))))),Fu=nc(Uu.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"square"}}),Hu=nc(Uu.prototype,"theta",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Nu=Uu))||Nu;function lc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function fc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hc(t,e){return(hc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mc(t);if(e){var o=mc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yc(this,n)}}function yc(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vc(t)}function vc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mc(t){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gc(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var wc,xc,Oc,kc,jc,Ac,Ec=C((oc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hc(t,e)}(RyGateElement,t);var e,n,r,o=bc(RyGateElement);function RyGateElement(){var t;pc(this,RyGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return fc(t=o.call.apply(o,[this].concat(n)),"iconType",ic,vc(t)),fc(t,"theta",ac,vc(t)),t}return e=RyGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.theta,n=void 0===e?"π/2":e,r=t.draggable,o=void 0!==r&&r,i=document.createElement("ry-gate");return i.theta=n,i.draggable=o,i}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable(),this.addEventListener("mouseenter",this.showHelp),this.addEventListener("mousedown",this.showRightClickPopup))}},{key:"update",value:function(){Gt(Ht(uc||(uc=lc([""," "," ","\n        "," "," ",'\n\n        <div id="body">'," ","</div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.draggableStyle,this.disabledStyle,this.labelStyle,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return""===this.theta?'"'.concat(ra.j,'"'):'"'.concat(ra.j,"(").concat(this.theta.replace("/","_"),')"')}},{key:"serialize",value:function(){return{type:ra.j,theta:this.theta.replace("π","pi"),controls:this.controls,targets:this.targets,if:""!==this.if?this.if:null}}},{key:"iconSvg",get:function(){return Ht(cc||(cc=lc(['<svg id="icon" width="48" height="48" viewBox="0 0 48 48">\n      <path\n        d="M12.321 13.002V35l.125-9.837c3.147.038 6.353-.042 8.024-1.255 3.393-2.465 2.536-7.83-.883-10.076-1.55-1.019-4.377-.83-7.266-.83zM18.236 25.6L21.73 35zM34.61 13.002l-4.967 10.927M25.03 13.002l4.613 10.927m0 0L29.676 35"\n        fill="none"\n        stroke="#FFF"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n      />\n    </svg>'])))}}])&&dc(e.prototype,n),r&&dc(e,r),RyGateElement}(An(dr(Eo(Tn(Bo(ao(Wr(Fn(Ir(_r(go(Zr(HTMLElement))))))))))))),ic=gc(oc.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"square"}}),ac=gc(oc.prototype,"theta",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rc=oc))||rc;function Sc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _c(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function zc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cc(t,e){return(Cc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mc(t);if(e){var o=Mc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rc(this,n)}}function Rc(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qc(t)}function qc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mc(t){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dc(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Bc,Ic,Lc,Nc,Uc,Fc=C((xc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cc(t,e)}(RzGateElement,t);var e,n,r,o=Tc(RzGateElement);function RzGateElement(){var t;zc(this,RzGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return _c(t=o.call.apply(o,[this].concat(n)),"iconType",Oc,qc(t)),_c(t,"theta",kc,qc(t)),t}return e=RzGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.theta,n=void 0===e?"π/2":e,r=t.draggable,o=void 0!==r&&r,i=document.createElement("rz-gate");return i.theta=n,i.draggable=o,i}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable(),this.addEventListener("mouseenter",this.showHelp),this.addEventListener("mousedown",this.showRightClickPopup))}},{key:"update",value:function(){Gt(Ht(jc||(jc=Sc([""," "," ","\n        "," "," ",'\n\n        <div id="body">'," ","</div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.draggableStyle,this.disabledStyle,this.labelStyle,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return""===this.theta?'"'.concat(ra.k,'"'):'"'.concat(ra.k,"(").concat(this.theta.replace("/","_"),')"')}},{key:"serialize",value:function(){return{type:ra.k,theta:this.theta.replace("π","pi"),controls:this.controls,targets:this.targets,if:this.if}}},{key:"iconSvg",get:function(){return Ht(Ac||(Ac=Sc(['<svg id="icon" width="48" height="48" viewBox="0 0 48 48">\n      <path\n        d="M12.321 13.002V35l.125-9.837c3.147.038 6.353-.042 8.024-1.255 3.393-2.465 2.536-7.83-.883-10.076-1.55-1.019-4.377-.83-7.266-.83zM18.236 25.6L21.73 35zM34.61 13.002L24.746 35m.073-21.998h9.79M24.747 35h10.074"\n        fill="none"\n        stroke="#FFF"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n      />\n    </svg>'])))}}])&&Pc(e.prototype,n),r&&Pc(e,r),RzGateElement}(An(dr(Eo(Tn(Bo(ao(Wr(Fn(Ir(_r(go(Zr(HTMLElement))))))))))))),Oc=Dc(xc.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"square"}}),kc=Dc(xc.prototype,"theta",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wc=xc))||wc;function Hc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Gc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Vc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $c(t,e){return($c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Jc(t);if(e){var o=Jc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xc(this,n)}}function Xc(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qc(t)}function Qc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jc(t){return(Jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kc,Zc,ts,es,ns,rs,os=C((Ic=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$c(t,e)}(SwapGateElement,t);var e,n,r,o=Yc(SwapGateElement);function SwapGateElement(){var t;Vc(this,SwapGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Gc(t=o.call.apply(o,[this].concat(n)),"iconType",Lc,Qc(t)),t}return e=SwapGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.draggable,n=void 0!==e&&e,r=document.createElement("swap-gate");return r.draggable=n,r}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}},{key:"update",value:function(){Gt(Ht(Nc||(Nc=Hc([""," "," ","\n        ",'\n\n        <style>\n          :host([data-grabbed]) #body {\n            background-color: var(--colors-snow, #ffffff);\n          }\n        </style>\n\n        <div id="body" data-action="mouseenter:swap-gate#showHelp">\n          '," ","\n        </div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.draggableStyle,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return'"'.concat(ra.l,'"')}},{key:"serialize",value:function(){var t=this.targets;if(2!==t.length&&0!==t.length)throw new Error("Invalid swap targets: ".concat(this.targets.toString()));return{type:ra.l,controls:this.controls,targets:t}}},{key:"iconSvg",get:function(){return Ht(Uc||(Uc=Hc(['<svg\n      id="icon"\n      fill="none"\n      stroke-linecap="round"\n      stroke-linejoin="round"\n      stroke-width="2"\n      stroke="currentColor"\n      viewBox="0 0 24 24"\n    >\n      <path d="M6 18L18 6M6 6l12 12"></path>\n    </svg>'])))}}])&&Wc(e.prototype,n),r&&Wc(e,r),SwapGateElement}(dr(Eo(Tn(Bo(Fn(Ir(_r(go(Zr(HTMLElement)))))))))),Lc=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(Ic.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"transparent"}}),Bc=Ic))||Bc;function is(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function as(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ss(t,e){return(ss=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ls(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ds(t);if(e){var o=ds(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fs(this,n)}}function fs(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ps(t)}function ps(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ds(t){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hs(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var bs,ys,vs,ms,gs,ws=C((Zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ss(t,e)}(WriteGateElement,t);var e,n,r,o=ls(WriteGateElement);function WriteGateElement(){var t;us(this,WriteGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return as(t=o.call.apply(o,[this].concat(n)),"iconType",ts,ps(t)),as(t,"value",es,ps(t)),t}return e=WriteGateElement,r=[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.draggable,r=void 0!==n&&n,o=document.createElement("write-gate");return o.value=t,o.draggable=r,o}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}},{key:"update",value:function(){Gt(Ht(ns||(ns=is([""," "," ",'\n\n        <style>\n          :host([data-grabbed]) #body {\n            background-color: var(--colors-snow, #ffffff);\n          }\n\n          #icon {\n            color: var(--colors-eel, #4b4b4b);\n            transform: rotate(90deg);\n          }\n\n          @media (min-width: 768px) {\n            #icon {\n              transform: rotate(0deg);\n            }\n          }\n\n          #ket-label {\n            position: absolute;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            left: 0;\n            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,\n              "Liberation Mono", "Courier New", monospace;\n            writing-mode: vertical-lr;\n          }\n\n          #ket-label::after {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            width: 100%;\n            height: 100%;\n          }\n\n          @media (min-width: 768px) {\n            #ket-label {\n              writing-mode: horizontal-tb;\n              font-size: 1.125rem !important;\n              line-height: 1.75rem !important;\n            }\n          }\n\n          :host([data-size="xs"]) #ket-label {\n            font-size: 0.75rem;\n            line-height: 1rem;\n          }\n\n          :host([data-size="sm"]) #ket-label {\n            font-size: 0.875rem;\n            line-height: 1.25rem;\n          }\n\n          :host #ket-label,\n          :host([data-size="base"]) #ket-label {\n            font-size: 1rem;\n            line-height: 1.5rem;\n          }\n\n          :host([data-size="lg"]) #ket-label {\n            font-size: 1.125rem;\n            line-height: 1.75rem;\n          }\n\n          :host([data-size="xl"]) #ket-label {\n            font-size: 1.25rem;\n            line-height: 1.75rem;\n          }\n\n          :host([data-wire-count="1"]) #ket-label,\n          :host([data-wire-count="2"]) #ket-label,\n          :host([data-wire-count="3"]) #ket-label {\n            font-size: 1.5rem;\n            line-height: 2rem;\n          }\n\n          :host([data-wire-count="4"]) #ket-label,\n          :host([data-wire-count="5"]) #ket-label,\n          :host([data-wire-count="6"]) #ket-label {\n            font-size: 1rem;\n            line-height: 1.5rem;\n          }\n\n          :host([data-wire-count="7"]) #ket-label,\n          :host([data-wire-count="8"]) #ket-label,\n          :host([data-wire-count="9"]) #ket-label,\n          :host([data-wire-count="10"]) #ket-label {\n            font-size: 0.75rem;\n            line-height: 1rem;\n          }\n\n          :host([data-value="0"]) #ket-label {\n            color: var(--colors-cardinal, #ff4b4b);\n          }\n\n          :host([data-value="0"]) #ket-label::after {\n            content: "0";\n          }\n\n          :host([data-value="1"]) #ket-label {\n            color: var(--colors-magnitude, #1cb0f6);\n          }\n\n          :host([data-value="1"]) #ket-label::after {\n            content: "1";\n          }\n        </style>\n\n        <div id="body" data-action="mouseenter:write-gate#showHelp">\n          ','\n          <div id="ket-label"></div>\n        </div>'])),this.sizeableStyle,this.iconStyle,this.draggableStyle,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return'"|'.concat(this.value,'>"')}},{key:"serialize",value:function(){if("0"!==this.value&&"1"!==this.value)throw new Error("Invalid write value: ".concat(this.value));var t=parseInt(this.value);return{type:ra.m,value:t}}},{key:"iconSvg",get:function(){return Ht(rs||(rs=is(['<svg\n      id="icon"\n      width="48"\n      height="48"\n      viewBox="0 0 48 48"\n      fill="none"\n      stroke-width="2"\n      stroke-linecap="round"\n      stroke-linejoin="round"\n    >\n      <path d="M9 10L9 40M34 10L40 24L34 40" />\n    </svg>'])))}}])&&cs(e.prototype,n),r&&cs(e,r),WriteGateElement}(dr(Ir(_r(go(Zr(HTMLElement)))))),ts=hs(Zc.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"transparent"}}),es=hs(Zc.prototype,"value",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0"}}),Kc=Zc))||Kc;function xs(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Os(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ks(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function js(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function As(t,e){return(As=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Es(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zs(t);if(e){var o=zs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ss(this,n)}}function Ss(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _s(t)}function _s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zs(t){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ps,Cs,Ts,Rs,qs,Ms=C((ys=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&As(t,e)}(XGateElement,t);var e,n,r,o=Es(XGateElement);function XGateElement(){var t;ks(this,XGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Os(t=o.call.apply(o,[this].concat(n)),"iconType",vs,_s(t)),t}return e=XGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.draggable,n=void 0!==e&&e,r=document.createElement("x-gate");return r.draggable=n,r}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}},{key:"update",value:function(){Gt(Ht(ms||(ms=xs([""," "," ","\n        "," "," ",'\n\n        <div id="body" data-action="mouseenter:x-gate#showHelp">\n          '," ","\n        </div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.labelStyle,this.draggableStyle,this.disabledStyle,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return'"'.concat(ra.n,'"')}},{key:"serialize",value:function(){return{type:ra.n,controls:this.controls,if:""!==this.if?this.if:null}}},{key:"iconSvg",get:function(){return Ht(gs||(gs=xs(['<svg\n      id="icon"\n      width="48"\n      height="48"\n      viewBox="0 0 48 48"\n      fill="none"\n      stroke-width="2"\n      stroke-linecap="round"\n    >\n      <line x1="50%" y1="28%" x2="50%" y2="72%" />\n      <line x1="28%" y1="50%" x2="72%" y2="50%" />\n    </svg>'])))}}])&&js(e.prototype,n),r&&js(e,r),XGateElement}(dr(Tn(Bo(ao(Wr(Fn(Ir(_r(go(Zr(HTMLElement))))))))))),vs=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(ys.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"circle"}}),bs=ys))||bs;function Ds(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Bs(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Is(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ns(t,e){return(Ns=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Us(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gs(t);if(e){var o=Gs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fs(this,n)}}function Fs(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hs(t)}function Hs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gs(t){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vs,Ws,$s,Ys,Xs,Qs=C((Cs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ns(t,e)}(YGateElement,t);var e,n,r,o=Us(YGateElement);function YGateElement(){var t;Is(this,YGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Bs(t=o.call.apply(o,[this].concat(n)),"iconType",Ts,Hs(t)),t}return e=YGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.draggable,n=void 0!==e&&e,r=document.createElement("y-gate");return r.draggable=n,r}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}},{key:"update",value:function(){Gt(Ht(Rs||(Rs=Ds([""," "," ","\n        "," "," ",'\n\n        <div id="body" data-action="mouseenter:y-gate#showHelp">\n          '," ","\n        </div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.labelStyle,this.draggableStyle,this.disabledStyle,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return'"'.concat(ra.o,'"')}},{key:"serialize",value:function(){return{type:ra.o,controls:this.controls,if:""!==this.if?this.if:null}}},{key:"iconSvg",get:function(){return Ht(qs||(qs=Ds(['<svg\n      id="icon"\n      width="48"\n      height="48"\n      viewBox="0 0 48 48"\n      fill="none"\n      stroke-width="2"\n      stroke-linecap="round"\n    >\n      <path d="M17 13L24 24L31 13M24 24L24 35" />\n    </svg>'])))}}])&&Ls(e.prototype,n),r&&Ls(e,r),YGateElement}(dr(Tn(Bo(ao(Wr(Fn(Ir(_r(go(Zr(HTMLElement))))))))))),Ts=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(Cs.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"square"}}),Ps=Cs))||Ps;function Js(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Ks(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Zs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function el(t,e){return(el=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=il(t);if(e){var o=il(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rl(this,n)}}function rl(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ol(t)}function ol(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function il(t){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var al,ul,cl,sl,ll,fl,pl,dl,hl,bl,yl,vl,ml,gl,wl=C((Ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&el(t,e)}(ZGateElement,t);var e,n,r,o=nl(ZGateElement);function ZGateElement(){var t;Zs(this,ZGateElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ks(t=o.call.apply(o,[this].concat(n)),"iconType",$s,ol(t)),t}return e=ZGateElement,r=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.draggable,n=void 0!==e&&e,r=document.createElement("z-gate");return r.draggable=n,r}}],(n=[{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.initDraggable())}},{key:"update",value:function(){Gt(Ht(Ys||(Ys=Js([""," "," ","\n        "," "," ",'\n\n        <div id="body" data-action="mouseenter:z-gate#showHelp">\n          '," ","\n        </div>"])),this.sizeableStyle,this.wiresStyle,this.iconStyle,this.labelStyle,this.draggableStyle,this.disabledStyle,this.wiresSvg,this.iconSvg),this.shadowRoot)}},{key:"toJson",value:function(){return'"'.concat(ra.p,'"')}},{key:"serialize",value:function(){return{type:ra.p,controls:this.controls,if:""!==this.if?this.if:null}}},{key:"iconSvg",get:function(){return Ht(Xs||(Xs=Js(['<svg\n      id="icon"\n      width="48"\n      height="48"\n      viewBox="0 0 48 48"\n      fill="none"\n      stroke-width="2"\n      stroke-linecap="round"\n    >\n      <path d="M17 13L31 13L17 35L31 35" />\n    </svg>'])))}}])&&tl(e.prototype,n),r&&tl(e,r),ZGateElement}(dr(Tn(Bo(ao(Wr(Fn(Ir(_r(go(Zr(HTMLElement))))))))))),$s=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(Ws.prototype,"iconType",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"square"}}),Vs=Ws))||Vs;function xl(t){return function(t){if(Array.isArray(t))return jl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||kl(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ol(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=kl(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function kl(t,e){if(t){if("string"==typeof t)return jl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jl(t,e):void 0}}function jl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Al(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function El(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _l(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return zl(t)}function zl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pl(t){var e="function"==typeof Map?new Map:void 0;return(Pl=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Cl(t,arguments,ql(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Rl(r,t)})(t)}function Cl(t,e,n){return(Cl=Tl()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Rl(o,n.prototype),o}).apply(null,arguments)}function Tl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Rl(t,e){return(Rl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ql(t){return(ql=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ml(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}C((ul=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rl(t,e)}(QuantumCircuitElement,t);var e,n,r,o,i,a=(e=QuantumCircuitElement,n=Tl(),function(){var t,r=ql(e);if(n){var o=ql(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return _l(this,t)});function QuantumCircuitElement(){var t;El(this,QuantumCircuitElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Al(t=a.call.apply(a,[this].concat(n)),"json",cl,zl(t)),Al(t,"updateUrl",sl,zl(t)),Al(t,"minWireCount",ll,zl(t)),Al(t,"maxWireCount",fl,zl(t)),Al(t,"wireCount",pl,zl(t)),Al(t,"minStepCount",dl,zl(t)),Al(t,"interactive",hl,zl(t)),Al(t,"editing",bl,zl(t)),Al(t,"nqubit",yl,zl(t)),Al(t,"slotEl",vl,zl(t)),Al(t,"blocks",ml,zl(t)),t}return r=QuantumCircuitElement,(o=[{key:"steps",get:function(){return Array.from(this.querySelectorAll("circuit-step"))}},{key:"breakpoint",get:function(){var t,e=Ol(this.steps);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.breakpoint)return n}}catch(t){e.e(t)}finally{e.f()}return null}},{key:"activeStep",get:function(){var t,e=Ol(this.steps);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.active)return n}}catch(t){e.e(t)}finally{e.f()}return null}},{key:"snappedStep",get:function(){var t,e=Ol(this.steps);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.snap)return n}}catch(t){e.e(t)}finally{e.f()}return null}},{key:"serializedSteps",get:function(){return this.steps.map((function(t){return t.serialize()}))}},{key:"emptySteps",get:function(){return this.steps.filter((function(t){return t.isEmpty}))}},{key:"nonEmptySteps",get:function(){return this.steps.filter((function(t){return!t.isEmpty}))}},{key:"largestStep",get:function(){var t,e=null,n=0,r=Ol(this.steps);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.wireCount>0&&o.wireCount>n&&(e=o,n=o.wireCount)}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"dropzones",get:function(){return Array.from(this.querySelectorAll("circuit-dropzone"))}},{key:"freeDropzones",get:function(){return this.dropzones.filter((function(t){return!t.occupied}))}},{key:"step",value:function(t){var e=this.steps[t];if(void 0===e)throw new Error("step ".concat(t," does not exist."));return e}},{key:"appendStep",value:function(){var t=document.createElement("circuit-step"),e=this.blocks.slice(-1)[0]||null;return null===e||e.finalized?this.append(t):e.append(t),t}},{key:"i",value:function(){return this.appendStep().keep=!0,this.resize(),this}},{key:"h",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.applyOperation.apply(this,[Ja.create()].concat(e)),this.resize(),this}},{key:"x",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.applyOperation.apply(this,[Ms.create()].concat(e)),this.resize(),this}},{key:"y",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.applyOperation.apply(this,[Qs.create()].concat(e)),this.resize(),this}},{key:"z",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.applyOperation.apply(this,[wl.create()].concat(e)),this.resize(),this}},{key:"phase",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.applyOperation.apply(this,[Pu.create({phi:t.toString()})].concat(n)),this.resize(),this}},{key:"rnot",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.applyOperation.apply(this,[Wu.create()].concat(e)),this.resize(),this}},{key:"rx",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.applyOperation.apply(this,[sc.create({theta:t.toString()})].concat(n)),this.resize(),this}},{key:"ry",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.applyOperation.apply(this,[Ec.create({theta:t.toString()})].concat(n)),this.resize(),this}},{key:"rz",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.applyOperation.apply(this,[Fc.create({theta:t.toString()})].concat(n)),this.resize(),this}},{key:"control",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.applyOperation.apply(this,[qa.create()].concat(e)),this.resize(),this}},{key:"cnot",value:function(t,e){this.validateQubits(t,e);for(var n=this.appendStep(),r=Math.max(t,e)+1,o=0;o<r;o++)n.appendDropzone();return n.dropzones[t].assign(qa.create()),n.dropzones[e].assign(Ms.create()),this.resize(),this}},{key:"ccnot",value:function(t,e,n){this.validateQubits(t,e,n);for(var r=this.appendStep(),o=Math.max(t,e,n)+1,i=0;i<o;i++)r.appendDropzone();return r.dropzones[t].assign(qa.create()),r.dropzones[e].assign(qa.create()),r.dropzones[n].assign(Ms.create()),this.resize(),this}},{key:"swap",value:function(t,e){return this.applyOperation(os.create(),t,e),this.resize(),this}},{key:"bloch",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.applyOperation.apply(this,[ga.create()].concat(e)),this.resize(),this}},{key:"write",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.applyOperation.apply(this,[ws.create(t)].concat(n)),this.resize(),this}},{key:"measure",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.applyOperation.apply(this,[hu.create()].concat(e)),this.resize(),this}},{key:"block",value:function(t,e){var n=document.createElement("circuit-block");return n.comment=t,n.setAttribute("data-targets","quantum-circuit.blocks"),this.append(n),e(this),n.finalize(),this}},{key:"connectedCallback",value:function(){var t=this;this.addEventListener("draggable.grab",this.prepareDraggableDrop),this.addEventListener("draggable.ungrab",(function(){t.editing=!1})),this.addEventListener("draggable.ungrab",this.resize),this.addEventListener("draggable.ungrab",this.enableDraggablesHover),this.addEventListener("draggable.ungrab",this.dispatchStepHoverEvent),this.addEventListener("draggable.enddragging",(function(){t.editing=!1})),this.addEventListener("draggable.enddragging",this.resize),this.addEventListener("draggable.enddragging",this.enableDraggablesHover),this.addEventListener("draggable.enddragging",this.dispatchStepHoverEvent),this.addEventListener("step.click",this.breakpointClickedStep),this.addEventListener("step.hover",this.hoverStep),this.addEventListener("step.snap",this.snapStep),this.addEventListener("step.snap",this.updateAllSteps),this.addEventListener("step.snap",this.updateNqubit),this.addEventListener("step.unsnap",this.updateAllSteps),this.addEventListener("step.unsnap",this.updateNqubit),this.addEventListener("mouseleave",this.dispatchCircuitMouseLeaveEvent),this.addEventListener("operation.update",this.updateJsonUrl),this.attachShadow({mode:"open"}),this.update(),this.loadFromJson(),this.updateAllSteps(),this.updateNqubit(),this.dispatchEvent(new Event("circuit.loaded",{bubbles:!0}))}},{key:"updateNqubit",value:function(){var t=this.steps;if(0===t.length)return this.nqubit=1,void(this.wireCount=this.minWireCount);var e=Math.max.apply(Math,xl(t.map((function(t){return t.nqubit}))));if(0===e)return this.nqubit=1,void(this.wireCount=this.minWireCount);this.nqubit=e,e>this.minWireCount?this.wireCount=e:this.wireCount=this.minWireCount}},{key:"dispatchStepHoverEvent",value:function(t){var e=t.detail.x,n=t.detail.y,r=document.elementFromPoint(e,n),o=null==r?void 0:r.closest("circuit-step");null==o||o.dispatchStepHoverEvent()}},{key:"dispatchCircuitMouseLeaveEvent",value:function(){var t,e=Ol(this.steps);try{for(e.s();!(t=e.n()).done;)t.value.active=!1}catch(t){e.e(t)}finally{e.f()}this.dispatchEvent(new Event("circuit.mouseleave",{bubbles:!0}))}},{key:"setBreakpoint",value:function(t){var e,n=this.steps[t],r=Ol(this.steps);try{for(r.s();!(e=r.n()).done;)e.value.breakpoint=!1}catch(t){r.e(t)}finally{r.f()}n.breakpoint=!0}},{key:"breakpointClickedStep",value:function(t){var e,n=t.detail,r=Ol(this.steps);try{for(r.s();!(e=r.n()).done;)e.value.breakpoint=!1}catch(t){r.e(t)}finally{r.f()}n.breakpoint=!0}},{key:"hoverStep",value:function(t){if(!this.editing){var e,n=t.detail,r=Ol(this.steps);try{for(r.s();!(e=r.n()).done;)e.value.active=!1}catch(t){r.e(t)}finally{r.f()}n.active=!0}}},{key:"snapStep",value:function(t){if(this.interactive){var e,n=t.detail,r=Ol(this.steps);try{for(r.s();!(e=r.n()).done;){var o=e.value;this.editing&&(o.active=!1),o.snap=!1}}catch(t){r.e(t)}finally{r.f()}this.editing&&(n.active=!0),n.snap=!0}}},{key:"attributeChangedCallback",value:function(t,e,n){null!==this.shadowRoot&&e!==n&&"data-json"===t&&(this.update(),this.loadFromJson())}},{key:"update",value:function(){var t,e;Gt(Ht(gl||(t=['<style>\n          #body {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n          }\n\n          @media (min-width: 768px) {\n            #body {\n              flex-direction: row;\n            }\n          }\n        </style>\n\n        <div\n          id="body"\n          data-action="circuitchange:quantum-circuit#updateAllSteps"\n        >\n          <slot data-target="quantum-circuit.slotEl"></slot>\n        </div>'],e||(e=t.slice(0)),gl=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}})))),this.shadowRoot)}},{key:"applyOperation",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.validateQubits.apply(this,n);for(var o=this.appendStep(),i=Math.max.apply(Math,n)+1,a=0;a<i;a++)o.appendDropzone();for(var u=0,c=n;u<c.length;u++){var s=c[u],l=t.cloneNode();l instanceof Pu&&(l.phi=t.phi),l instanceof sc&&(l.theta=t.theta),l instanceof Ec&&(l.theta=t.theta),l instanceof Fc&&(l.theta=t.theta),l instanceof ws&&(l.value=t.value),o.dropzones[s].assign(l)}}},{key:"validateQubits",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.some((function(t){return t<0})))throw new Error("The index of the qubit must be greater than or equal to 0.")}},{key:"loadFromJson",value:function(){var t,e=null;if(""!==(t=this.updateUrl?this.urlJson:this.json)&&"new"!==t){var n,r=Ol(JSON.parse(t).cols);try{for(r.s();!(n=r.n()).done;){var o,i=n.value,a=this.appendStep(),u=Ol(i);try{for(u.s();!(o=u.n()).done;){var c=o.value;switch(!0){case/^\|0>$/.test(c):a.appendOperation(ws.create("0",{draggable:this.updateUrl}));break;case/^\|1>$/.test(c):a.appendOperation(ws.create("1",{draggable:this.updateUrl}));break;case/^H$/.test(c):a.appendOperation(Ja.create({draggable:this.updateUrl}));break;case/^X$/.test(c):a.appendOperation(Ms.create({draggable:this.updateUrl}));break;case/^Y$/.test(c):a.appendOperation(Qs.create({draggable:this.updateUrl}));break;case/^Z$/.test(c):a.appendOperation(wl.create({draggable:this.updateUrl}));break;case/^P$/.test(c):a.appendOperation(Pu.create({draggable:this.updateUrl}));break;case/^P\((.+)\)$/.test(c):a.appendOperation(Pu.create({phi:RegExp.$1.replace("_","/"),draggable:this.updateUrl}));break;case/^X\^½$/.test(c):a.appendOperation(Wu.create({draggable:this.updateUrl}));break;case/^Rx$/.test(c):a.appendOperation(sc.create({draggable:this.updateUrl}));break;case/^Rx\((.+)\)$/.test(c):a.appendOperation(sc.create({theta:RegExp.$1.replace("_","/"),draggable:this.updateUrl}));break;case/^Ry$/.test(c):a.appendOperation(Ec.create({draggable:this.updateUrl}));break;case/^Ry\((.+)\)$/.test(c):a.appendOperation(Ec.create({theta:RegExp.$1.replace("_","/"),draggable:this.updateUrl}));break;case/^Rz$/.test(c):a.appendOperation(Fc.create({draggable:this.updateUrl}));break;case/^Rz\((.+)\)$/.test(c):a.appendOperation(Fc.create({theta:RegExp.$1.replace("_","/"),draggable:this.updateUrl}));break;case/^Swap$/.test(c):a.appendOperation(os.create({draggable:this.updateUrl}));break;case/^•$/.test(c):a.appendOperation(qa.create({draggable:this.updateUrl}));break;case/^Bloch$/.test(c):a.appendOperation(ga.create({draggable:this.updateUrl}));break;case/^Measure$/.test(c):a.appendOperation(hu.create({draggable:this.updateUrl}));break;case/^\{(.+)$/.test(c):var s=RegExp.$1;a.remove(),e=le.create(s),this.append(e);break;case/^\}$/.test(c):a.remove(),e.finalize();break;default:if(1!==c)throw new Error("Unknown instruction: ".concat(c));a.appendDropzone()}}}catch(t){u.e(t)}finally{u.f()}}}catch(t){r.e(t)}finally{r.f()}this.resize()}else this.updateUrl&&this.resize()}},{key:"urlJson",get:function(){return decodeURIComponent(location.pathname.split("/").pop()||"")}},{key:"updateAllSteps",value:function(){var t,e=Ol(this.steps);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.updateWires(),n.updateConnections()}}catch(t){e.e(t)}finally{e.f()}this.updateJsonUrl()}},{key:"prepareDraggableDrop",value:function(t){t.stopPropagation(),this.interactive=!0,this.editing=!0,this.disableDraggablesOnCircuitHover(),this.appendWire(),this.appendCircuitStepShadow()}},{key:"disableDraggablesOnCircuitHover",value:function(){var t,e=Ol(this.draggablesOnCircuit);try{for(e.s();!(t=e.n()).done;)t.value.hoverable=!1}catch(t){e.e(t)}finally{e.f()}}},{key:"enableDraggablesHover",value:function(){var t,e=Ol(this.draggables);try{for(e.s();!(t=e.n()).done;)t.value.hoverable=!0}catch(t){e.e(t)}finally{e.f()}}},{key:"draggables",get:function(){return Array.from(this.querySelectorAll("[data-draggable]"))}},{key:"draggablesOnCircuit",get:function(){return Array.from(this.querySelectorAll("[data-draggable]:not([data-grabbed])"))}},{key:"appendWire",value:function(){if(!(this.nqubit>=this.maxWireCount)){var t,e=Ol(this.steps);try{for(e.s();!(t=e.n()).done;)t.value.appendDropzone()}catch(t){e.e(t)}finally{e.f()}}}},{key:"appendCircuitStepShadow",value:function(){var t,e=this.largestStep.wireCount,n=Ol(this.steps);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=na.createShadow(e);this.insertBefore(o,r.nextSibling)}}catch(t){n.e(t)}finally{n.f()}var i=na.createShadow(e);this.prepend(i)}},{key:"resize",value:function(){this.removeEmptySteps(),this.appendMinimumSteps(),this.removeLastEmptyWires(),this.updateJsonUrl()}},{key:"removeEmptySteps",value:function(){var t,e=Ol(this.emptySteps);try{for(e.s();!(t=e.n()).done;)t.value.remove()}catch(t){e.e(t)}finally{e.f()}var n,r=Ol(this.steps);try{for(r.s();!(n=r.n()).done;)n.value.shadow=!1}catch(t){r.e(t)}finally{r.f()}}},{key:"appendMinimumSteps",value:function(){for(var t=this.minStepCount-this.steps.length,e=0;e<t;e++)this.appendStep();var n,r=this.largestStep&&this.largestStep.wireCount>this.minWireCount?this.largestStep.wireCount:this.minWireCount,o=Ol(this.steps);try{for(o.s();!(n=o.n()).done;)for(var i=n.value,a=r-i.wireCount,u=0;u<a;u++)i.appendDropzone()}catch(t){o.e(t)}finally{o.f()}}},{key:"removeLastEmptyWires",value:function(){for(var t=this;this.steps.every((function(e){return e.wireCount>t.minWireCount&&!e.lastDropzone.occupied}));){var e,n=Ol(this.steps);try{for(n.s();!(e=n.n()).done;)e.value.lastDropzone.remove()}catch(t){n.e(t)}finally{n.f()}}}},{key:"updateJsonUrl",value:function(){this.updateUrl&&history.pushState("","",this.toJson())}},{key:"toJson",value:function(){var t=this.nonEmptySteps.map((function(t){return t.toJson()}));return'{"cols":['.concat(t.join(","),"]}")}}])&&Sl(r.prototype,o),i&&Sl(r,i),QuantumCircuitElement}(Pl(HTMLElement)),cl=Ml(ul.prototype,"json",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sl=Ml(ul.prototype,"updateUrl",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ll=Ml(ul.prototype,"minWireCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),fl=Ml(ul.prototype,"maxWireCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),pl=Ml(ul.prototype,"wireCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dl=Ml(ul.prototype,"minStepCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),hl=Ml(ul.prototype,"interactive",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bl=Ml(ul.prototype,"editing",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yl=Ml(ul.prototype,"nqubit",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vl=Ml(ul.prototype,"slotEl",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ml=Ml(ul.prototype,"blocks",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),al=ul));var Dl,Bl=n(7);function Il(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ll(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nl(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ul(t){var e="function"==typeof Map?new Map:void 0;return(Ul=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Fl(t,arguments,Vl(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Gl(r,t)})(t)}function Fl(t,e,n){return(Fl=Hl()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Gl(o,n.prototype),o}).apply(null,arguments)}function Hl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Gl(t,e){return(Gl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vl(t){return(Vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}C(Dl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gl(t,e)}(QuantumSimulatorElement,t);var e,n,r,o,i,a=(e=QuantumSimulatorElement,n=Hl(),function(){var t,r=Vl(e);if(n){var o=Vl(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Nl(this,t)});function QuantumSimulatorElement(){var t;Il(this,QuantumSimulatorElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=a.call.apply(a,[this].concat(n))).amplitudes=void 0,t.quantumCircuit=void 0,t.circleNotation=void 0,t.runCircuitButton=void 0,t.visibleQubitCircleKets=void 0,t}return r=QuantumSimulatorElement,(o=[{key:"connectedCallback",value:function(){var t=this;this.circleNotation=null,this.visibleQubitCircleKets=[],this.addEventListener("draggable.grab",this.proxyDraggableGrabEvent),this.addEventListener("draggable.ungrab",this.proxyDraggableUngrabEvent),this.addEventListener("draggable.trash",this.resizeAndRunCircuit),this.addEventListener("step.drop",this.resizeAndRunCircuit),this.addEventListener("step.click",this.gotoClickedStep),this.addEventListener("step.hover",this.showStateVectorOfHoveredStep),this.addEventListener("step.snap",this.run),this.addEventListener("step.unsnap",this.run),this.addEventListener("circuit.loaded",this.registerQuantumCircuit),this.addEventListener("circuit.loaded",this.run),this.addEventListener("circuit.mouseleave",this.gotoBreakpoint),this.addEventListener("circle-notation.loaded",this.registerCircleNotation),this.addEventListener("circle-notation.visibilityChanged",this.showVisibleQubitCircles),this.addEventListener("run-circuit-button.loaded",this.registerRunCircuitButton),this.addEventListener("run-circuit-button.click",this.run),this.addEventListener("operation.change",this.run),this.worker=new Worker("/serviceworker.js"),this.worker.addEventListener("message",(function(e){var n=e.data;if(t.amplitudes=t.amplitudes||[],"step"===n.type){var r=t.quantumCircuit.steps[n.step];for(var o in n.blochVectors){var i=r.dropzones[o].draggableElement;if(i){var a=n.blochVectors[o];i.x=a[0],i.y=a[1],i.z=a[2]}}if(n.bits){var u=n.bits,c=r.dropzones;for(var s in u){var l=c[s].draggableElement;l instanceof hu&&(l.value=u[s])}}var f={};for(var p in n.amplitudes){var d=n.amplitudes[p];f[p]=new Bl.a(d[0],d[1])}t.amplitudes[n.step]=f}else if("finish"===n.type){var h,b=t.quantumCircuit.activeStep,y=t.quantumCircuit.breakpoint;if(b){var v=t.fetchStepIndex(b);t.drawStateVector(v)}else y?t.gotoBreakpoint():t.setBreakpointAndShowStateVector(0);null===(h=t.runCircuitButton)||void 0===h||h.enable()}}))}},{key:"registerCircleNotation",value:function(t){this.circleNotation=t.target}},{key:"registerQuantumCircuit",value:function(t){this.quantumCircuit=t.target}},{key:"registerRunCircuitButton",value:function(t){this.runCircuitButton=t.target}},{key:"showVisibleQubitCircles",value:function(t){this.visibleQubitCircleKets=t.detail,this.run()}},{key:"run",value:function(){if(null!==this.quantumCircuit&&null!==this.circleNotation){var t=this.quantumCircuit.nqubit;this.circleNotation.nqubit=t,this.worker.postMessage({nqubit:t,steps:this.quantumCircuit.serializedSteps,kets:this.visibleQubitCircleKets})}}},{key:"setBreakpointAndShowStateVector",value:function(t){this.quantumCircuit.setBreakpoint(t),this.drawStateVector(t)}},{key:"gotoClickedStep",value:function(t){var e=t.detail,n=this.fetchStepIndex(e);this.setBreakpointAndShowStateVector(n)}},{key:"showStateVectorOfHoveredStep",value:function(t){var e=t.detail,n=this.fetchStepIndex(e);this.drawStateVector(n)}},{key:"resizeAndRunCircuit",value:function(){this.quantumCircuit.resize(),this.run()}},{key:"gotoBreakpoint",value:function(){var t,e=null===(t=this.quantumCircuit)||void 0===t?void 0:t.breakpoint,n=this.fetchStepIndex(e);this.drawStateVector(n)}},{key:"fetchStepIndex",value:function(t){var e=this.quantumCircuit.steps.indexOf(t);if(-1===e)throw new Error("CircuitStep not found");return e}},{key:"drawStateVector",value:function(t){if(void 0!==this.amplitudes&&null!==this.circleNotation){var e=this.amplitudes[t];e&&this.circleNotation.setAmplitudes(e)}}},{key:"proxyDraggableGrabEvent",value:function(){var t;null===(t=this.quantumCircuit)||void 0===t||t.dispatchEvent(new Event("draggable.grab"))}},{key:"proxyDraggableUngrabEvent",value:function(t){var e;null===(e=this.quantumCircuit)||void 0===e||e.dispatchEvent(new CustomEvent("draggable.ungrab",{detail:{x:t.detail.x,y:t.detail.y},bubbles:!1}))}}])&&Ll(r.prototype,o),i&&Ll(r,i),QuantumSimulatorElement}(Ul(HTMLElement)));var Wl,$l,Yl,Xl,Ql,Jl,Kl,Zl,tf,ef,nf,rf,of,af,uf,cf,sf,lf,ff,pf,df=n(49);function hf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function bf(t){return function(t){if(Array.isArray(t))return gf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||mf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yf(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=mf(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function vf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||mf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mf(t,e){if(t){if("string"==typeof t)return gf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gf(t,e):void 0}}function gf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wf(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function xf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Of(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kf(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jf(t)}function jf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Af(t){var e="function"==typeof Map?new Map:void 0;return(Af=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Ef(t,arguments,zf(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_f(r,t)})(t)}function Ef(t,e,n){return(Ef=Sf()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&_f(o,n.prototype),o}).apply(null,arguments)}function Sf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _f(t,e){return(_f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zf(t){return(zf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pf(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Cf,Tf,Rf,qf,Mf,Df;C(($l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_f(t,e)}(CircleNotationElement,t);var e,n,r,o,i,a=(e=CircleNotationElement,n=Sf(),function(){var t,r=zf(e);if(n){var o=zf(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return kf(this,t)});function CircleNotationElement(){var t;xf(this,CircleNotationElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return wf(t=a.call.apply(a,[this].concat(n)),"nqubit",Yl,jf(t)),wf(t,"size",Xl,jf(t)),wf(t,"magnitudes",Ql,jf(t)),wf(t,"phases",Jl,jf(t)),wf(t,"multiQubits",Kl,jf(t)),wf(t,"qubitCircles",Zl,jf(t)),wf(t,"qubitCircleGroups",tf,jf(t)),wf(t,"visibleQubitCircleGroups",ef,jf(t)),t}return r=CircleNotationElement,(o=[{key:"setAmplitudes",value:function(t){for(var e=this.qubitCircles,n=0,r=Object.entries(t);n<r.length;n++){var o=vf(r[n],2),i=o[0],a=o[1],u=e[parseInt(i)];u.setAttribute("data-amplitude-real",a.real.toString()),u.setAttribute("data-amplitude-imag",a.imag.toString());var c=a.abs();if(this.setRoundedMagnitude(u,c),0!==c){var s=a.phase()/Math.PI*180;this.setRoundedPhase(u,s)}}}},{key:"connectedCallback",value:function(){null===this.shadowRoot&&(this.attachShadow({mode:"open"}),this.update(),this.multiQubits&&(this.startQubitCircleVisibilityObserver(),this.initQubitCirclePopup(this.qubitCircles),this.dispatchLoadedEvent()))}},{key:"dispatchLoadedEvent",value:function(){this.dispatchEvent(new Event("circle-notation.loaded",{bubbles:!0}))}},{key:"startQubitCircleVisibilityObserver",value:function(){var t,e=this,n=new IntersectionObserver((function(t){var n,r=yf(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.target;o.intersectionRatio>=.2?(i.setAttribute("data-targets","circle-notation.qubitCircleGroups circle-notation.visibleQubitCircleGroups"),e.dispatchEvent(new CustomEvent("circle-notation.visibilityChanged",{detail:e.visibleQubitCircleKets,bubbles:!0}))):0===o.intersectionRatio&&i.setAttribute("data-targets","circle-notation.qubitCircleGroups")}}catch(t){r.e(t)}finally{r.f()}}),{root:this,threshold:[0,.2]}),r=yf(this.qubitCircleGroups);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.observe(o)}}catch(t){r.e(t)}finally{r.f()}}},{key:"visibleQubitCircleKets",get:function(){return this.visibleQubitCircles.map((function(t){return parseInt(t.getAttribute("data-ket"))}))}},{key:"visibleQubitCircles",get:function(){var t,e=this.visibleQubitCircleGroups.map((function(t){return Array.from(t.querySelectorAll(".qubit-circle"))}));return(t=[]).concat.apply(t,bf(e))}},{key:"update",value:function(){Gt(Ht(nf||(nf=hf(['<style>\n          .qubit-circle-group--size4 {\n            display: flex;\n            flex-direction: row;\n          }\n\n          .qubit-circle-group--size8 {\n            display: flex;\n            flex-direction: row;\n          }\n\n          :host([data-nqubit="3"]) .qubit-circle-group--size8 {\n            flex-direction: column;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="3"]) .qubit-circle-group--size8 {\n              flex-direction: row;\n            }\n          }\n\n          .qubit-circle-group--size16 {\n            display: flex;\n            flex-direction: row;\n          }\n\n          @media (min-width: 768px) {\n            .qubit-circle-group--size16 {\n              flex-direction: row;\n            }\n          }\n\n          :host([data-nqubit="4"]) .qubit-circle-group--size16 {\n            flex-direction: column;\n          }\n\n          :host([data-nqubit="4"])\n            .qubit-circle-group--size16\n            .qubit-circle-group--size8:last-child {\n            margin-left: 0;\n            margin-top: 0;\n          }\n\n          :host([data-nqubit="5"]) .qubit-circle-group--size16 {\n            flex-direction: column;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="5"]) .qubit-circle-group--size16 {\n              flex-direction: row;\n            }\n          }\n\n          :host([data-nqubit="5"])\n            .qubit-circle-group--size16\n            .qubit-circle-group--size8:nth-child(even) {\n            margin-left: 0;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="5"])\n              .qubit-circle-group--size16\n              .qubit-circle-group--size8:nth-child(even) {\n              margin-left: 0;\n            }\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="6"]) .qubit-circle-group--size32 {\n              display: flex;\n              flex-direction: column;\n            }\n            :host([data-nqubit="7"]) .qubit-circle-group--size32,\n            :host([data-nqubit="8"]) .qubit-circle-group--size32,\n            :host([data-nqubit="9"]) .qubit-circle-group--size32,\n            :host([data-nqubit="10"]) .qubit-circle-group--size32 {\n              display: flex;\n              flex-direction: row;\n            }\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="6"]) .qubit-circle-group--size64,\n            :host([data-nqubit="7"]) .qubit-circle-group--size64,\n            :host([data-nqubit="8"]) .qubit-circle-group--size64 {\n              display: flex;\n              flex-direction: column;\n            }\n\n            :host([data-nqubit="9"]) .qubit-circle-group--size64 {\n              display: flex;\n              flex-direction: column;\n            }\n\n            :host([data-nqubit="10"]) .qubit-circle-group--size64 {\n              display: flex;\n              flex-direction: column;\n            }\n          }\n\n          :host([data-nqubit="1"])\n            .qubit-circle-group--size256:nth-of-type(n + 2),\n          :host([data-nqubit="1"])\n            .qubit-circle-group--size128:nth-of-type(n + 2),\n          :host([data-nqubit="1"])\n            .qubit-circle-group--size64:nth-of-type(n + 2),\n          :host([data-nqubit="1"]) .qubit-circle-group--size32:nth-of-type(2),\n          :host([data-nqubit="1"]) .qubit-circle-group--size16:nth-of-type(2),\n          :host([data-nqubit="1"]) .qubit-circle-group--size8:nth-of-type(2),\n          :host([data-nqubit="1"]) .qubit-circle-group--size4:nth-of-type(2),\n          :host([data-nqubit="1"]) .qubit-circle:nth-of-type(n + 3) {\n            display: none;\n          }\n\n          :host([data-nqubit="2"])\n            .qubit-circle-group--size256:nth-of-type(n + 2),\n          :host([data-nqubit="2"])\n            .qubit-circle-group--size128:nth-of-type(n + 2),\n          :host([data-nqubit="2"])\n            .qubit-circle-group--size64:nth-of-type(n + 2),\n          :host([data-nqubit="2"]) .qubit-circle-group--size32:nth-of-type(2),\n          :host([data-nqubit="2"]) .qubit-circle-group--size16:nth-of-type(2),\n          :host([data-nqubit="2"]) .qubit-circle-group--size8:nth-of-type(2),\n          :host([data-nqubit="2"]) .qubit-circle-group--size4:nth-of-type(2),\n          :host([data-nqubit="2"]) .qubit-circle:nth-of-type(n + 5) {\n            display: none;\n          }\n\n          :host([data-nqubit="3"])\n            .qubit-circle-group--size256:nth-of-type(n + 2),\n          :host([data-nqubit="3"])\n            .qubit-circle-group--size128:nth-of-type(n + 2),\n          :host([data-nqubit="3"])\n            .qubit-circle-group--size64:nth-of-type(n + 2),\n          :host([data-nqubit="3"]) .qubit-circle-group--size32:nth-of-type(2),\n          :host([data-nqubit="3"]) .qubit-circle-group--size16:nth-of-type(2),\n          :host([data-nqubit="3"]) .qubit-circle-group--size8:nth-of-type(2) {\n            display: none;\n          }\n\n          :host([data-nqubit="4"])\n            .qubit-circle-group--size256:nth-of-type(n + 2),\n          :host([data-nqubit="4"])\n            .qubit-circle-group--size128:nth-of-type(n + 2),\n          :host([data-nqubit="4"])\n            .qubit-circle-group--size64:nth-of-type(n + 2),\n          :host([data-nqubit="4"]) .qubit-circle-group--size32:nth-of-type(2),\n          :host([data-nqubit="4"]) .qubit-circle-group--size16:nth-of-type(2) {\n            display: none;\n          }\n\n          :host([data-nqubit="5"])\n            .qubit-circle-group--size256:nth-of-type(n + 2),\n          :host([data-nqubit="5"])\n            .qubit-circle-group--size128:nth-of-type(n + 2),\n          :host([data-nqubit="5"])\n            .qubit-circle-group--size64:nth-of-type(n + 2),\n          :host([data-nqubit="5"]) .qubit-circle-group--size32:nth-of-type(2) {\n            display: none;\n          }\n\n          :host([data-nqubit="6"])\n            .qubit-circle-group--size256:nth-of-type(n + 2),\n          :host([data-nqubit="6"])\n            .qubit-circle-group--size128:nth-of-type(n + 2),\n          :host([data-nqubit="6"])\n            .qubit-circle-group--size64:nth-of-type(n + 2) {\n            display: none;\n          }\n\n          :host([data-nqubit="7"])\n            .qubit-circle-group--size256:nth-of-type(n + 2),\n          :host([data-nqubit="7"])\n            .qubit-circle-group--size128:nth-of-type(n + 2),\n          :host([data-nqubit="7"])\n            .qubit-circle-group--size64:nth-of-type(n + 3) {\n            display: none;\n          }\n\n          :host([data-nqubit="8"])\n            .qubit-circle-group--size256:nth-of-type(n + 2),\n          :host([data-nqubit="8"])\n            .qubit-circle-group--size128:nth-of-type(n + 3) {\n            display: none;\n          }\n\n          :host([data-nqubit="9"])\n            .qubit-circle-group--size256:nth-of-type(n + 3) {\n            display: none;\n          }\n\n          #body {\n            display: flex;\n            flex-direction: row;\n          }\n\n          :host([data-multi-qubits]) #body {\n            display: inline-block;\n            margin-top: auto;\n            margin-bottom: auto;\n            padding-top: 1rem;\n            padding-bottom: 1rem;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-multi-qubits]) #body {\n              display: inline-block;\n              padding-left: 1rem;\n              padding-right: 1rem;\n              padding-top: 1.25rem;\n              padding-bottom: 1.25rem;\n            }\n          }\n\n          .qubit-circle {\n            position: relative;\n            height: 32px;\n            width: 32px;\n          }\n\n          :host([data-size="xs"]) .qubit-circle {\n            height: 17px !important;\n            width: 17px !important;\n          }\n\n          :host([data-size="sm"]) .qubit-circle {\n            height: 25px !important;\n            width: 25px !important;\n          }\n\n          :host([data-size="base"]) .qubit-circle {\n            height: 32px !important;\n            width: 32px !important;\n          }\n\n          :host([data-size="lg"]) .qubit-circle {\n            height: 48px !important;\n            width: 48px !important;\n          }\n\n          :host([data-size="xl"]) .qubit-circle {\n            height: 64px !important;\n            width: 64px !important;\n          }\n\n          :host([data-nqubit="1"]:not([data-multi-qubits])) .qubit-circle {\n            height: 32px;\n            width: 32px;\n          }\n\n          :host([data-nqubit="1"]) .qubit-circle,\n          :host([data-nqubit="2"]) .qubit-circle {\n            height: 64px;\n            width: 64px;\n          }\n\n          :host([data-nqubit="3"]) .qubit-circle {\n            height: 48px;\n            width: 48px;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="3"]) .qubit-circle {\n              height: 64px;\n              width: 64px;\n            }\n          }\n\n          :host([data-nqubit="4"]) .qubit-circle {\n            height: 32px;\n            width: 32px;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="4"]) .qubit-circle {\n              height: 48px;\n              width: 48px;\n            }\n          }\n\n          :host([data-nqubit="5"]) .qubit-circle {\n            height: 23px;\n            width: 23px;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="5"]) .qubit-circle {\n              height: 32px;\n              width: 32px;\n            }\n          }\n\n          :host([data-nqubit="6"]) .qubit-circle {\n            height: 15px;\n            width: 15px;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="6"]) .qubit-circle {\n              height: 25px;\n              width: 25px;\n            }\n          }\n\n          :host([data-nqubit="7"]) .qubit-circle {\n            height: 15px;\n            width: 15px;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="7"]) .qubit-circle {\n              height: 17px;\n              width: 17px;\n            }\n          }\n\n          :host([data-nqubit="8"]) .qubit-circle,\n          :host([data-nqubit="9"]) .qubit-circle,\n          :host([data-nqubit="10"]) .qubit-circle {\n            height: 15px;\n            width: 15px;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="8"]) .qubit-circle,\n            :host([data-nqubit="9"]) .qubit-circle,\n            :host([data-nqubit="10"]) .qubit-circle {\n              height: 17px;\n              width: 17px;\n            }\n          }\n\n          .qubit-circle__magnitude {\n            border-width: 2px;\n            position: absolute;\n            top: 1px;\n            right: 1px;\n            bottom: 1px;\n            left: 1px;\n            border-radius: 9999px;\n            border-color: #e5e5e5;\n            border-style: solid;\n          }\n\n          .qubit-circle:hover > .qubit-circle__magnitude {\n            border-color: var(--colors-cardinal, #ff4b4b);\n          }\n\n          :host([data-size="xs"]) .qubit-circle__magnitude,\n          :host([data-size="sm"]) .qubit-circle__magnitude {\n            border-width: 1px;\n          }\n          :host([data-size="base"]) .qubit-circle__magnitude,\n          :host([data-size="lg"]) .qubit-circle__magnitude,\n          :host([data-size="xl"]) .qubit-circle__magnitude {\n            border-width: 2px;\n          }\n\n          :host([data-nqubit="5"]) .qubit-circle__magnitude,\n          :host([data-nqubit="6"]) .qubit-circle__magnitude,\n          :host([data-nqubit="7"]) .qubit-circle__magnitude,\n          :host([data-nqubit="8"]) .qubit-circle__magnitude,\n          :host([data-nqubit="9"]) .qubit-circle__magnitude,\n          :host([data-nqubit="10"]) .qubit-circle__magnitude {\n            border-width: 1px;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="5"]) .qubit-circle__magnitude {\n              border-width: 2px;\n            }\n          }\n\n          .qubit-circle__magnitude::after {\n            position: absolute;\n            top: 0px;\n            right: 0px;\n            bottom: 0px;\n            left: 0px;\n            border-radius: 9999px;\n            content: "";\n            background-color: #1cb0f6;\n            transform: scaleX(0) scaleY(0);\n            transform-origin: center;\n          }\n\n          .qubit-circle:hover > .qubit-circle__magnitude::after {\n            background-color: var(--colors-fox, #ff9600);\n          }\n\n          .qubit-circle[data-rounded-magnitude="0.1"]\n            > .qubit-circle__magnitude::after {\n            transform: scaleX(0.1) scaleY(0.1);\n          }\n\n          .qubit-circle[data-rounded-magnitude="0.2"]\n            > .qubit-circle__magnitude::after {\n            transform: scaleX(0.2) scaleY(0.2);\n          }\n\n          .qubit-circle[data-rounded-magnitude="0.3"]\n            > .qubit-circle__magnitude::after {\n            transform: scaleX(0.3) scaleY(0.3);\n          }\n\n          .qubit-circle[data-rounded-magnitude="0.4"]\n            > .qubit-circle__magnitude::after {\n            transform: scaleX(0.4) scaleY(0.4);\n          }\n\n          .qubit-circle[data-rounded-magnitude="0.5"]\n            > .qubit-circle__magnitude::after {\n            transform: scaleX(0.5) scaleY(0.5);\n          }\n\n          .qubit-circle[data-rounded-magnitude="0.6"]\n            > .qubit-circle__magnitude::after {\n            transform: scaleX(0.6) scaleY(0.6);\n          }\n\n          .qubit-circle[data-rounded-magnitude="0.7"]\n            > .qubit-circle__magnitude::after {\n            transform: scaleX(0.7) scaleY(0.7);\n          }\n\n          .qubit-circle[data-rounded-magnitude="0.8"]\n            > .qubit-circle__magnitude::after {\n            transform: scaleX(0.8) scaleY(0.8);\n          }\n\n          .qubit-circle[data-rounded-magnitude="0.9"]\n            > .qubit-circle__magnitude::after {\n            transform: scaleX(0.9) scaleY(0.9);\n          }\n\n          .qubit-circle[data-rounded-magnitude="1"]\n            > .qubit-circle__magnitude::after {\n            transform: scaleX(1) scaleY(1);\n          }\n\n          .qubit-circle__phase {\n            border-width: 2px;\n            position: absolute;\n            top: 1px;\n            right: 1px;\n            bottom: 1px;\n            left: 1px;\n            border-radius: 9999px;\n            border-color: #777777;\n            border-style: solid;\n            transform: rotate(0deg);\n            transform-origin: center;\n          }\n\n          .qubit-circle:hover > .qubit-circle__phase {\n            border-color: var(--colors-cardinal, #ff4b4b);\n          }\n\n          :host([data-size="xs"]) .qubit-circle__phase,\n          :host([data-size="sm"]) .qubit-circle__phase {\n            border-width: 1px;\n          }\n          :host([data-size="base"]) .qubit-circle__phase,\n          :host([data-size="lg"]) .qubit-circle__phase,\n          :host([data-size="xl"]) .qubit-circle__phase {\n            border-width: 2px;\n          }\n\n          :host([data-nqubit="5"]) .qubit-circle__phase,\n          :host([data-nqubit="6"]) .qubit-circle__phase,\n          :host([data-nqubit="7"]) .qubit-circle__phase,\n          :host([data-nqubit="8"]) .qubit-circle__phase,\n          :host([data-nqubit="9"]) .qubit-circle__phase,\n          :host([data-nqubit="10"]) .qubit-circle__phase {\n            border-width: 1px;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="5"]) .qubit-circle__phase {\n              border-width: 2px;\n            }\n          }\n\n          .qubit-circle:not([data-rounded-magnitude]) > .qubit-circle__phase,\n          .qubit-circle[data-rounded-magnitude="0"] > .qubit-circle__phase {\n            transform: scaleX(0) scaleY(0) !important;\n          }\n\n          .qubit-circle[data-rounded-phase="10"] > .qubit-circle__phase {\n            transform: rotate(-10deg);\n          }\n\n          .qubit-circle[data-rounded-phase="20"] > .qubit-circle__phase {\n            transform: rotate(-20deg);\n          }\n\n          .qubit-circle[data-rounded-phase="30"] > .qubit-circle__phase {\n            transform: rotate(-30deg);\n          }\n\n          .qubit-circle[data-rounded-phase="40"] > .qubit-circle__phase {\n            transform: rotate(-40deg);\n          }\n\n          .qubit-circle[data-rounded-phase="50"] > .qubit-circle__phase {\n            transform: rotate(-50deg);\n          }\n\n          .qubit-circle[data-rounded-phase="60"] > .qubit-circle__phase {\n            transform: rotate(-60deg);\n          }\n\n          .qubit-circle[data-rounded-phase="70"] > .qubit-circle__phase {\n            transform: rotate(-70deg);\n          }\n\n          .qubit-circle[data-rounded-phase="80"] > .qubit-circle__phase {\n            transform: rotate(-80deg);\n          }\n\n          .qubit-circle[data-rounded-phase="90"] > .qubit-circle__phase {\n            transform: rotate(-90deg);\n          }\n\n          .qubit-circle[data-rounded-phase="100"] > .qubit-circle__phase {\n            transform: rotate(-100deg);\n          }\n\n          .qubit-circle[data-rounded-phase="110"] > .qubit-circle__phase {\n            transform: rotate(-110deg);\n          }\n\n          .qubit-circle[data-rounded-phase="120"] > .qubit-circle__phase {\n            transform: rotate(-120deg);\n          }\n\n          .qubit-circle[data-rounded-phase="130"] > .qubit-circle__phase {\n            transform: rotate(-130deg);\n          }\n\n          .qubit-circle[data-rounded-phase="140"] > .qubit-circle__phase {\n            transform: rotate(-140deg);\n          }\n\n          .qubit-circle[data-rounded-phase="150"] > .qubit-circle__phase {\n            transform: rotate(-150deg);\n          }\n\n          .qubit-circle[data-rounded-phase="160"] > .qubit-circle__phase {\n            transform: rotate(-160deg);\n          }\n\n          .qubit-circle[data-rounded-phase="170"] > .qubit-circle__phase {\n            transform: rotate(-170deg);\n          }\n\n          .qubit-circle[data-rounded-phase="180"] > .qubit-circle__phase {\n            transform: rotate(-180deg);\n          }\n\n          .qubit-circle[data-rounded-phase="190"] > .qubit-circle__phase {\n            transform: rotate(-190deg);\n          }\n\n          .qubit-circle[data-rounded-phase="200"] > .qubit-circle__phase {\n            transform: rotate(-200deg);\n          }\n\n          .qubit-circle[data-rounded-phase="210"] > .qubit-circle__phase {\n            transform: rotate(-210deg);\n          }\n\n          .qubit-circle[data-rounded-phase="220"] > .qubit-circle__phase {\n            transform: rotate(-220deg);\n          }\n\n          .qubit-circle[data-rounded-phase="230"] > .qubit-circle__phase {\n            transform: rotate(-230deg);\n          }\n\n          .qubit-circle[data-rounded-phase="240"] > .qubit-circle__phase {\n            transform: rotate(-240deg);\n          }\n\n          .qubit-circle[data-rounded-phase="250"] > .qubit-circle__phase {\n            transform: rotate(-250deg);\n          }\n\n          .qubit-circle[data-rounded-phase="260"] > .qubit-circle__phase {\n            transform: rotate(-260deg);\n          }\n\n          .qubit-circle[data-rounded-phase="270"] > .qubit-circle__phase {\n            transform: rotate(-270deg);\n          }\n\n          .qubit-circle[data-rounded-phase="280"] > .qubit-circle__phase {\n            transform: rotate(-280deg);\n          }\n\n          .qubit-circle[data-rounded-phase="290"] > .qubit-circle__phase {\n            transform: rotate(-290deg);\n          }\n\n          .qubit-circle[data-rounded-phase="300"] > .qubit-circle__phase {\n            transform: rotate(-300deg);\n          }\n\n          .qubit-circle[data-rounded-phase="310"] > .qubit-circle__phase {\n            transform: rotate(-310deg);\n          }\n\n          .qubit-circle[data-rounded-phase="320"] > .qubit-circle__phase {\n            transform: rotate(-320deg);\n          }\n\n          .qubit-circle[data-rounded-phase="330"] > .qubit-circle__phase {\n            transform: rotate(-330deg);\n          }\n\n          .qubit-circle[data-rounded-phase="340"] > .qubit-circle__phase {\n            transform: rotate(-340deg);\n          }\n\n          .qubit-circle[data-rounded-phase="350"] > .qubit-circle__phase {\n            transform: rotate(-350deg);\n          }\n\n          .qubit-circle[data-rounded-phase="360"] > .qubit-circle__phase {\n            transform: rotate(-360deg);\n          }\n\n          .qubit-circle__phase::after {\n            width: 2px;\n            position: absolute;\n            top: 0px;\n            right: 0px;\n            left: 0px;\n            background-color: #4b4b4b;\n            height: 50%;\n            margin-left: auto;\n            margin-right: auto;\n            border-bottom-right-radius: 0.25rem;\n            border-bottom-left-radius: 0.25rem;\n            content: "";\n          }\n\n          :host([data-nqubit="5"]) .qubit-circle__phase::after,\n          :host([data-nqubit="6"]) .qubit-circle__phase::after,\n          :host([data-nqubit="7"]) .qubit-circle__phase::after,\n          :host([data-nqubit="8"]) .qubit-circle__phase::after,\n          :host([data-nqubit="9"]) .qubit-circle__phase::after,\n          :host([data-nqubit="10"]) .qubit-circle__phase::after {\n            width: 1px;\n          }\n\n          @media (min-width: 768px) {\n            :host([data-nqubit="5"]) .qubit-circle__phase::after {\n              width: 2px;\n            }\n          }\n\n          :host([data-size="xs"]) .qubit-circle__phase::after,\n          :host([data-size="sm"]) .qubit-circle__phase::after {\n            width: 1px;\n          }\n          :host([data-size="base"]) .qubit-circle__phase::after,\n          :host([data-size="lg"]) .qubit-circle__phase::after,\n          :host([data-size="xl"]) .qubit-circle__phase::after {\n            width: 2px;\n          }\n        </style>\n\n        <div id="body">',"</div>"])),this.qubitCirclesHtml),this.shadowRoot);var t,e=yf(this.magnitudes.split(",").entries());try{for(e.s();!(t=e.n()).done;){var n=vf(t.value,2),r=n[0],o=n[1];this.setRoundedMagnitude(this.qubitCircles[r],parseFloat(o))}}catch(t){e.e(t)}finally{e.f()}var i,a=yf(this.phases.split(",").entries());try{for(a.s();!(i=a.n()).done;){var u=vf(i.value,2),c=u[0],s=u[1];this.qubitCircles[c].querySelector(".qubit-circle__phase").style.transform="rotate(".concat(-parseFloat(s),"deg)")}}catch(t){a.e(t)}finally{a.f()}}},{key:"setRoundedMagnitude",value:function(t,e){if(null!=t){var n=Math.round(100*e);n=n<10?0===n?0:10:10*Math.round(n/10),n/=100,t.setAttribute("data-magnitude",e.toString()),t.setAttribute("data-rounded-magnitude",n.toString())}}},{key:"setRoundedPhase",value:function(t,e){if(null!=t){var n=10*Math.round(e/10);n<0&&(n=360+n),t.setAttribute("data-phase",e.toString()),t.setAttribute("data-rounded-phase",n.toString())}}},{key:"qubitCirclesHtml",get:function(){return this.multiQubits?this.stateVectorHtml(10):Ht(rf||(rf=hf([""," ",""])),this.qubitCircleHtml(0),this.qubitCircleHtml(1))}},{key:"qubitCircleHtml",value:function(t){return Ht(of||(of=hf(['<div\n      class="qubit-circle"\n      data-ket="','"\n      data-action="mouseenter:circle-notation#setPopupContent"\n      data-targets="circle-notation.qubitCircles"\n    >\n      <div class="qubit-circle__magnitude"></div>\n      <div class="qubit-circle__phase"></div>\n    </div>'])),t)}},{key:"stateVectorHtml",value:function(t){var e,n=this,r=Ht(af||(af=hf([""]))),o=yf(this.qubitCircleGroup(bf(Array(Math.pow(2,t)).keys()),(function(t){return n.qubitCircleGroup(t,(function(t){return n.qubitCircleGroup(t,(function(t){return n.qubitCircleGroup(t,(function(t){return n.qubitCircleGroup(t,(function(t){return n.qubitCircleGroup(t,(function(t){return n.qubitCircleGroup(t)}))}))}))}))}))}),256));try{for(o.s();!(e=o.n()).done;){var i=e.value;r=Ht(uf||(uf=hf([""," ",""])),r,i)}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"qubitCircleGroup",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length/2,o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.reduce((function(n,r,o){return o%e?n:[].concat(bf(n),[t.slice(o,o+e)])}),[])};return o(t,r).map((function(t){var o=Ht(cf||(cf=hf([""])));if(e){var i,a=yf(e(t));try{for(a.s();!(i=a.n()).done;){var u=i.value;o=Ht(sf||(sf=hf([""," ",""])),o,u)}}catch(t){a.e(t)}finally{a.f()}}else{var c,s=yf(t);try{for(s.s();!(c=s.n()).done;){var l=c.value;o=Ht(lf||(lf=hf([""," ",""])),o,n.qubitCircleHtml(l))}}catch(t){s.e(t)}finally{s.f()}}return Ht(64===r?ff||(ff=hf(['<div\n          class="qubit-circle-group--size','"\n          data-targets="circle-notation.qubitCircleGroups"\n        >\n          ',"\n        </div>"])):pf||(pf=hf(['<div class="qubit-circle-group--size','">',"</div>"])),r,o)}))}},{key:"initQubitCirclePopup",value:function(t){var e=Object(gr.b)(t);Object(gr.a)(e,{allowHTML:!0,animation:!1,arrow:gr.c+gr.c,delay:0,theme:"qni"})}},{key:"setPopupContent",value:function(t){if(this.multiQubits){var e=t.target,n=Object(df.a)(e),r=e.getAttribute("data-amplitude-real"),o=e.getAttribute("data-amplitude-imag"),i=e.getAttribute("data-magnitude"),a=e.getAttribute("data-phase");if(null===r||null===o||null===i||null===a)this.setQubitCirclePopupContent(this.popupEl.content,e,n,Bl.a.ZERO,0,0,this.nqubit);else{var u=new Bl.a(parseFloat(r),parseFloat(o));this.setQubitCirclePopupContent(this.popupEl.content,e,n,u,parseFloat(i),parseFloat(a),this.nqubit)}}}},{key:"setQubitCirclePopupContent",value:function(t,e,n,r,o,i,a){e._tippy.setContent(this.popupContent(t,n,r,o,i,a))}},{key:"popupContent",value:function(t,e,n,r,o,i){var a=t.querySelector(".circle-notation-popup__ket-binary"),u=t.querySelector(".circle-notation-popup__ket-decimal"),c=t.querySelector(".circle-notation-popup__amplitude-real"),s=t.querySelector(".circle-notation-popup__amplitude-imag"),l=t.querySelector(".circle-notation-popup__probability"),f=t.querySelector(".circle-notation-popup__phase");a.textContent=e.toString(2).padStart(i,"0"),u.textContent=e.toString(),c.textContent=this.forceSigned(n.real,5),s.textContent="".concat(this.forceSigned(n.imag,5),"i"),l.textContent="".concat(this.forceSigned(r*r*100,4),"%"),f.textContent="".concat(this.forceSigned(o,2),"°");var p=document.createElement("div");return p.appendChild(t.cloneNode(!0)),p.innerHTML}},{key:"popupEl",get:function(){return this.querySelector("#circle-notation-popup")}},{key:"forceSigned",value:function(t,e){return(t>=0?"+":"")+t.toFixed(e)}}])&&Of(r.prototype,o),i&&Of(r,i),CircleNotationElement}(Af(HTMLElement)),Yl=Pf($l.prototype,"nqubit",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xl=Pf($l.prototype,"size",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ql=Pf($l.prototype,"magnitudes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1.0"}}),Jl=Pf($l.prototype,"phases",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kl=Pf($l.prototype,"multiQubits",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zl=Pf($l.prototype,"qubitCircles",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tf=Pf($l.prototype,"qubitCircleGroups",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ef=Pf($l.prototype,"visibleQubitCircleGroups",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wl=$l));function Bf(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function If(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nf(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Uf(t)}function Uf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ff(t){var e="function"==typeof Map?new Map:void 0;return(Ff=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Hf(t,arguments,Wf(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Vf(r,t)})(t)}function Hf(t,e,n){return(Hf=Gf()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Vf(o,n.prototype),o}).apply(null,arguments)}function Gf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Vf(t,e){return(Vf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wf(t){return(Wf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $f(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Yf=Ht(Cf||(Cf=$f(['<style>\n    .reload-icon {\n      fill: currentColor;\n      color: rgb(255, 255, 255);\n      height: 60%;\n      width: 60%;\n    }\n\n    #button:disabled > .reload-icon {\n      display: none;\n    }\n  </style>\n\n  <svg\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 20 20"\n    class="reload-icon"\n  >\n    <path\n      d="M14.66 15.66A8 8 0 1 1 17 10h-2a6 6 0 1 0-1.76 4.24l1.42 1.42zM12 10h8l-4 4-4-4z"\n    />\n  </svg>']))),Xf=Ht(Tf||(Tf=$f(['<style>\n    .oval-loader-icon {\n      display: none;\n      height: 60%;\n      width: 60%;\n    }\n\n    #button:disabled > .oval-loader-icon {\n      stroke: currentColor;\n      color: rgb(255, 255, 255);\n      display: block;\n    }\n  </style>\n\n  <svg\n    viewBox="0 0 38 38"\n    xmlns="http://www.w3.org/2000/svg"\n    class="oval-loader-icon"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <g transform="translate(1 1)" stroke-width="2">\n        <circle stroke-opacity=".5" cx="18" cy="18" r="18" />\n        <path d="M36 18c0-9.94-8.06-18-18-18">\n          <animateTransform\n            attributeName="transform"\n            type="rotate"\n            from="0 18 18"\n            to="360 18 18"\n            dur="1s"\n            repeatCount="indefinite"\n          />\n        </path>\n      </g>\n    </g>\n  </svg>'])));C((qf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vf(t,e)}(RunCircuitButtonElement,t);var e,n,r,o,i,a=(e=RunCircuitButtonElement,n=Gf(),function(){var t,r=Wf(e);if(n){var o=Wf(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Nf(this,t)});function RunCircuitButtonElement(){var t;If(this,RunCircuitButtonElement);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Bf(t=a.call.apply(a,[this].concat(n)),"button",Mf,Uf(t)),t}return r=RunCircuitButtonElement,(o=[{key:"runSimulator",value:function(){this.disable(),this.dispatchEvent(new Event("run-circuit-button.click",{bubbles:!0}))}},{key:"disable",value:function(){this.button.disabled=!0}},{key:"enable",value:function(){this.button.disabled=!1}},{key:"connectedCallback",value:function(){this.attachShadow({mode:"open"}),this.update(),this.dispatchEvent(new Event("run-circuit-button.loaded",{bubbles:!0}))}},{key:"update",value:function(){Gt(Ht(Df||(Df=$f(['<style>\n          #button {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background-color: rgb(206, 130, 255);\n            border-radius: 9999px;\n            border-width: 0px;\n            cursor: pointer;\n            width: 4rem;\n            height: 4rem;\n            box-shadow: 0 0 #0000, 0 0 #0000,\n              0 10px 15px -3px rgba(0, 0, 0, 0.1),\n              0 4px 6px -2px rgba(0, 0, 0, 0.05);\n          }\n\n          #button:disabled {\n            cursor: wait;\n          }\n\n          #button:focus {\n            outline: 2px solid transparent;\n            outline-offset: 2px;\n          }\n        </style>\n\n        <button\n          id="button"\n          type="button"\n          data-action="click:run-circuit-button#runSimulator"\n          data-target="run-circuit-button.button"\n          aria-label="Run circuit"\n        >\n          '," ","\n        </button>"])),Yf,Xf),this.shadowRoot)}}])&&Lf(r.prototype,o),i&&Lf(r,i),RunCircuitButtonElement}(Ff(HTMLElement)),Mf=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}(qf.prototype,"button",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rf=qf))},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);n(57),n(84),n(86),n(88),n(90)},function(t,e,n){var r=n(50),o=n(85);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);t.exports=o.locals||{}},function(t,e,n){(e=n(51)(!0)).push([t.i,"/* purgecss start ignore */\n\n.tippy-box[data-placement^=top]>.tippy-svg-arrow{\n  bottom:0\n}\n\n.tippy-box[data-placement^=top]>.tippy-svg-arrow:after,.tippy-box[data-placement^=top]>.tippy-svg-arrow>svg{\n  top:16px;\n  transform:rotate(180deg)\n}\n\n.tippy-box[data-placement^=bottom]>.tippy-svg-arrow{\n  top:0\n}\n\n.tippy-box[data-placement^=bottom]>.tippy-svg-arrow>svg{\n  bottom:16px\n}\n\n.tippy-box[data-placement^=left]>.tippy-svg-arrow{\n  right:0\n}\n\n.tippy-box[data-placement^=left]>.tippy-svg-arrow:after,.tippy-box[data-placement^=left]>.tippy-svg-arrow>svg{\n  transform:rotate(90deg);\n  top:calc(50% - 3px);\n  left:11px\n}\n\n.tippy-box[data-placement^=right]>.tippy-svg-arrow{\n  left:0\n}\n\n.tippy-box[data-placement^=right]>.tippy-svg-arrow:after,.tippy-box[data-placement^=right]>.tippy-svg-arrow>svg{\n  transform:rotate(-90deg);\n  top:calc(50% - 3px);\n  right:11px\n}\n\n.tippy-svg-arrow{\n  width:16px;\n  height:16px;\n  fill:#333;\n  text-align:left;\n  text-align:initial\n}\n\n.tippy-svg-arrow,.tippy-svg-arrow>svg{\n  position:absolute\n}\n\n/* purgecss end ignore */","",{version:3,sources:["/Users/yasuhito/Documents/GitHub/qni/<no source>","/Users/yasuhito/Documents/GitHub/qni/node_modules/tippy.js/dist/svg-arrow.css"],names:[],mappings:"AAAA,0BAAA;;ACAA;EAAiD;AAAQ;;AAAC;EAA4G,QAAQ;EAAC;AAAwB;;AAAC;EAAoD;AAAK;;AAAC;EAAwD;AAAW;;AAAC;EAAkD;AAAO;;AAAC;EAA8G,uBAAuB;EAAC,mBAAmB;EAAC;AAAS;;AAAC;EAAmD;AAAM;;AAAC;EAAgH,wBAAwB;EAAC,mBAAmB;EAAC;AAAU;;AAAC;EAAiB,UAAU;EAAC,WAAW;EAAC,SAAS;EAAC,eAAiB;EAAjB;AAAkB;;AAAC;EAAsC;AAAiB;;ADAl4B,wBAAA",file:"svg-arrow.css",sourcesContent:[null,".tippy-box[data-placement^=top]>.tippy-svg-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-svg-arrow:after,.tippy-box[data-placement^=top]>.tippy-svg-arrow>svg{top:16px;transform:rotate(180deg)}.tippy-box[data-placement^=bottom]>.tippy-svg-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-svg-arrow>svg{bottom:16px}.tippy-box[data-placement^=left]>.tippy-svg-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-svg-arrow:after,.tippy-box[data-placement^=left]>.tippy-svg-arrow>svg{transform:rotate(90deg);top:calc(50% - 3px);left:11px}.tippy-box[data-placement^=right]>.tippy-svg-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-svg-arrow:after,.tippy-box[data-placement^=right]>.tippy-svg-arrow>svg{transform:rotate(-90deg);top:calc(50% - 3px);right:11px}.tippy-svg-arrow{width:16px;height:16px;fill:#333;text-align:initial}.tippy-svg-arrow,.tippy-svg-arrow>svg{position:absolute}"]}]),t.exports=e},function(t,e,n){var r=n(50),o=n(87);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);t.exports=o.locals||{}},function(t,e,n){(e=n(51)(!0)).push([t.i,'/* purgecss start ignore */\n\n.tippy-box[data-animation=fade][data-state=hidden]{\n  opacity:0\n}\n\n[data-tippy-root]{\n  max-width:calc(100vw - 10px)\n}\n\n.tippy-box{\n  position:relative;\n  background-color:#333;\n  color:#fff;\n  border-radius:4px;\n  font-size:14px;\n  line-height:1.4;\n  white-space:normal;\n  outline:0;\n  transition-property:transform,visibility,opacity\n}\n\n.tippy-box[data-placement^=top]>.tippy-arrow{\n  bottom:0\n}\n\n.tippy-box[data-placement^=top]>.tippy-arrow:before{\n  bottom:-7px;\n  left:0;\n  border-width:8px 8px 0;\n  border-top-color:currentColor;\n  border-top-color:initial;\n  transform-origin:center top\n}\n\n.tippy-box[data-placement^=bottom]>.tippy-arrow{\n  top:0\n}\n\n.tippy-box[data-placement^=bottom]>.tippy-arrow:before{\n  top:-7px;\n  left:0;\n  border-width:0 8px 8px;\n  border-bottom-color:currentColor;\n  border-bottom-color:initial;\n  transform-origin:center bottom\n}\n\n.tippy-box[data-placement^=left]>.tippy-arrow{\n  right:0\n}\n\n.tippy-box[data-placement^=left]>.tippy-arrow:before{\n  border-width:8px 0 8px 8px;\n  border-left-color:currentColor;\n  border-left-color:initial;\n  right:-7px;\n  transform-origin:center left\n}\n\n.tippy-box[data-placement^=right]>.tippy-arrow{\n  left:0\n}\n\n.tippy-box[data-placement^=right]>.tippy-arrow:before{\n  left:-7px;\n  border-width:8px 8px 8px 0;\n  border-right-color:currentColor;\n  border-right-color:initial;\n  transform-origin:center right\n}\n\n.tippy-box[data-inertia][data-state=visible]{\n  transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)\n}\n\n.tippy-arrow{\n  width:16px;\n  height:16px;\n  color:#333\n}\n\n.tippy-arrow:before{\n  content:"";\n  position:absolute;\n  border-color:transparent;\n  border-style:solid\n}\n\n.tippy-content{\n  position:relative;\n  padding:5px 9px;\n  z-index:1\n}\n\n/* purgecss end ignore */',"",{version:3,sources:["/Users/yasuhito/Documents/GitHub/qni/<no source>","/Users/yasuhito/Documents/GitHub/qni/node_modules/tippy.js/dist/tippy.css"],names:[],mappings:"AAAA,0BAAA;;ACAA;EAAmD;AAAS;;AAAC;EAAkB;AAA4B;;AAAC;EAAW,iBAAiB;EAAC,qBAAqB;EAAC,UAAU;EAAC,iBAAiB;EAAC,cAAc;EAAC,eAAe;EAAC,kBAAkB;EAAC,SAAS;EAAC;AAAgD;;AAAC;EAA6C;AAAQ;;AAAC;EAAoD,WAAW;EAAC,MAAM;EAAC,sBAAsB;EAAC,6BAAwB;EAAxB,wBAAwB;EAAC;AAA2B;;AAAC;EAAgD;AAAK;;AAAC;EAAuD,QAAQ;EAAC,MAAM;EAAC,sBAAsB;EAAC,gCAA2B;EAA3B,2BAA2B;EAAC;AAA8B;;AAAC;EAA8C;AAAO;;AAAC;EAAqD,0BAA0B;EAAC,8BAAyB;EAAzB,yBAAyB;EAAC,UAAU;EAAC;AAA4B;;AAAC;EAA+C;AAAM;;AAAC;EAAsD,SAAS;EAAC,0BAA0B;EAAC,+BAA0B;EAA1B,0BAA0B;EAAC;AAA6B;;AAAC;EAA6C;AAAyD;;AAAC;EAAa,UAAU;EAAC,WAAW;EAAC;AAAU;;AAAC;EAAoB,UAAU;EAAC,iBAAiB;EAAC,wBAAwB;EAAC;AAAkB;;AAAC;EAAe,iBAAiB;EAAC,eAAe;EAAC;AAAS;;ADAh4C,wBAAA",file:"tippy.css",sourcesContent:[null,'.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}']}]),t.exports=e},function(t,e,n){var r=n(50),o=n(89);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);t.exports=o.locals||{}},function(t,e,n){(e=n(51)(!0)).push([t.i,"/* purgecss start ignore */\n\n.tippy-box[data-theme~=qni]{\n  --tw-bg-opacity:1;\n  background-color:rgba(255, 255, 255, var(--tw-bg-opacity));\n  border-width:2px;\n  border-style:solid;\n  --tw-border-opacity:1;\n  border-color:rgba(75, 75, 75, var(--tw-border-opacity));\n  --tw-text-opacity:1;\n  color:rgba(119, 119, 119, var(--tw-text-opacity));\n  font-size:0.75rem;\n  line-height:1rem\n}\n\n@media (min-width: 768px){\n  .tippy-box[data-theme~=qni]{\n    font-size:0.875rem;\n    line-height:1.25rem\n  }\n}\n\n.tippy-box[data-theme~=qni] .tippy-svg-arrow>svg:first-child{\n  fill:#4B4B4B\n}\n\n.tippy-box[data-theme~=qni] .tippy-svg-arrow>svg:last-child{\n  fill:#FFFFFF\n}\n\n.tippy-box[data-theme~=qni][data-placement^=top]>.tippy-svg-arrow svg:first-child{\n  top:18px\n}\n\n.tippy-box[data-theme~=qni][data-placement^=bottom]>.tippy-svg-arrow svg:first-child{\n  bottom:18px\n}\n\n.tippy-box[data-theme~=qni][data-placement^=left]>.tippy-svg-arrow svg:first-child{\n  left:13px\n}\n\n.tippy-box[data-theme~=qni][data-placement^=right]>.tippy-svg-arrow svg:first-child{\n  right:13px\n}\n\n.tippy-box[data-theme~=qni] header h1{\n  font-weight:700;\n  --tw-text-opacity:1;\n  color:rgba(75, 75, 75, var(--tw-text-opacity));\n  font-size:1.125rem;\n  line-height:1.75rem\n}\n\n.tippy-box[data-theme~=qni] header p{\n  line-height:1.25\n}\n\n/* purgecss end ignore */","",{version:3,sources:["/Users/yasuhito/Documents/GitHub/qni/<no source>","/Users/yasuhito/Documents/GitHub/qni/app/components/tippy/tippy.scss","/Users/yasuhito/Documents/GitHub/qni/node_modules/tailwindcss/lib/lib/substituteClassApplyAtRules.js"],names:[],mappings:"AAAA,0BAAA;;ACAA;ECEA,iBAAmB;EAAnB,0DAAmB;EAAnB,gBAAmB;EAAnB,kBAAmB;EAAnB,qBAAmB;EAAnB,uDAAmB;EAAnB,mBAAmB;EAAnB,iDAAmB;EAAnB,iBAAmB;EAAnB;ADEE;;AAEA;EANF;ICEA,kBAAmB;IAAnB;EDKI;AAAA;;AAIF;EACE;AAAA;;AAIF;EACE;AAAA;;AAGF;EACE;AAAA;;AAGF;EACE;AAAA;;AAGF;EACE;AAAA;;AAGF;EACE;AAAA;;AAIF;ECnCF,eAAmB;EAAnB,mBAAmB;EAAnB,8CAAmB;EAAnB,kBAAmB;EAAnB;ADsCI;;AAGF;ECzCF;AD0CI;;AD5CJ,wBAAA",file:"tippy.scss",sourcesContent:[null,'.tippy-box[data-theme~="qni"] {\n  @apply bg-snow;\n  @apply border-2 border-solid border-eel;\n  @apply text-wolf;\n  @apply text-xs;\n\n  @screen md {\n    @apply text-sm;\n  }\n\n  // The border\n  .tippy-svg-arrow > svg:first-child {\n    fill: theme("colors.eel");\n  }\n\n  // The fill\n  .tippy-svg-arrow > svg:last-child {\n    fill: theme("colors.snow");\n  }\n\n  &[data-placement^="top"] > .tippy-svg-arrow svg:first-child {\n    top: 18px;\n  }\n\n  &[data-placement^="bottom"] > .tippy-svg-arrow svg:first-child {\n    bottom: 18px;\n  }\n\n  &[data-placement^="left"] > .tippy-svg-arrow svg:first-child {\n    left: 13px;\n  }\n\n  &[data-placement^="right"] > .tippy-svg-arrow svg:first-child {\n    right: 13px;\n  }\n\n  // Description popup\n  header h1 {\n    @apply font-bold;\n    @apply text-eel;\n    @apply text-lg;\n  }\n\n  header p {\n    @apply leading-tight;\n  }\n}\n',"@tailwind base;\n@tailwind components;\n@tailwind utilities;"]}]),t.exports=e},function(t,e,n){var r=n(50),o=n(91);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);t.exports=o.locals||{}},function(t,e,n){(e=n(51)(!0)).push([t.i,'/* purgecss start ignore */\n\n.bloch-display__inspector{\n  display: flex;\n  flex-direction: column;\n  --tw-text-opacity: 1;\n  color: rgba(119, 119, 119, var(--tw-text-opacity))\n}\n\n.bloch-display__inspector header h1{\n  font-weight: 700;\n  --tw-text-opacity: 1;\n  color: rgba(75, 75, 75, var(--tw-text-opacity));\n  font-size: 1.125rem;\n  line-height: 1.75rem\n}\n\n.bloch-display__inspector section{\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  white-space: nowrap\n}\n\n.bloch-display__inspector-d, .bloch-display__inspector-phi, .bloch-display__inspector-theta, .bloch-display__inspector-x, .bloch-display__inspector-y, .bloch-display__inspector-z{\n  font-weight: 500\n}\n\n.bloch-display__inspector-d, .bloch-display__inspector-phi, .bloch-display__inspector-theta, .bloch-display__inspector-x, .bloch-display__inspector-y, .bloch-display__inspector-z{\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace\n}\n\n.bloch-display__inspector-d, .bloch-display__inspector-phi, .bloch-display__inspector-theta, .bloch-display__inspector-x, .bloch-display__inspector-y, .bloch-display__inspector-z{\n  --tw-text-opacity: 1;\n  color: rgba(75, 75, 75, var(--tw-text-opacity))\n}\n\n.bloch-display__inspector-d, .bloch-display__inspector-phi, .bloch-display__inspector-theta, .bloch-display__inspector-x, .bloch-display__inspector-y, .bloch-display__inspector-z{\n  font-size: 0.875rem;\n  line-height: 1.25rem\n}\n\n/* purgecss end ignore */',"",{version:3,sources:["/Users/yasuhito/Documents/GitHub/qni/<no source>","/Users/yasuhito/Documents/GitHub/qni/app/components/bloch_display_component/bloch_display_component.scss","/Users/yasuhito/Documents/GitHub/qni/node_modules/tailwindcss/lib/lib/substituteClassApplyAtRules.js"],names:[],mappings:"AAAA,0BAAA;;ACGE;ECDF,aAAmB;EAAnB,sBAAmB;EAAnB,oBAAmB;EAAnB;ADGI;;AAEA;ECLJ,gBAAmB;EAAnB,oBAAmB;EAAnB,+CAAmB;EAAnB,mBAAmB;EAAnB;ADQM;;AAGF;ECXJ,mBAAmB;EAAnB,oBAAmB;EAAnB;ADaM;;ACbN;EAAA;AAAmB;;AAAnB;EAAA;AAAmB;;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;;AAAnB;EAAA,mBAAmB;EAAnB;AAAmB;;AFFnB,wBAAA",file:"bloch_display_component.scss",sourcesContent:[null,".bloch-display {\n  $parent: &;\n\n  &__inspector {\n    @apply flex flex-col;\n    @apply text-wolf;\n\n    header h1 {\n      @apply font-bold;\n      @apply text-eel;\n      @apply text-lg;\n    }\n\n    section {\n      @apply text-sm;\n      @apply whitespace-nowrap;\n    }\n  }\n\n  &__inspector-d,\n  &__inspector-phi,\n  &__inspector-theta,\n  &__inspector-x,\n  &__inspector-y,\n  &__inspector-z {\n    @apply font-medium;\n    @apply font-mono;\n    @apply text-eel;\n    @apply text-sm;\n  }\n}\n","@tailwind base;\n@tailwind components;\n@tailwind utilities;"]}]),t.exports=e}]);