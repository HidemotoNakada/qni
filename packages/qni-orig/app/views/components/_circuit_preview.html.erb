<% circuit = local_assigns.fetch(:circuit) %>
<% heading = circuit.name %>
<% circuit_erb = circuit.erb %>
<% klass = local_assigns.fetch(:class, nil) %>

<% cache circuit do %>
  <div class="shuffle-item sm:w-full lg:w-1/2 xl:w-1/3 p-4">
    <%= card class: klass do %>
      <%= card_header do %>
        <%= card_title text: heading %>
        <div class="flex flex-shrink-0 items-center ml-4">
          <%= link_to 'Open', circuit, type: 'button', class: 'button button--secondary button--sm' %>
        </div>
      <% end %>

      <%= card_body do %>
        <div class="w-full h-full">
          <%= circuit_thumbnail circuit: circuit %>
        </div>
      <% end %>
    <% end %>
  </div>
<% end %>
