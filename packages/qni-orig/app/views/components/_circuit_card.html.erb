<% heading = local_assigns.fetch(:heading) %>
<% circuit_erb = local_assigns.fetch(:circuit_erb) %>
<% klass = local_assigns[:class] %>
<% circle_notation = yield.presence %>

<%= card class: klass, data: { controller: 'circuit-card', circuit_card_active_pill_class: 'pill--active', circuit_card_body_no_padding_class: 'card__body--nopadding', circuit_card_hidden_class: 'hidden' } do %>
  <%= card_header do %>
    <%= circuit_heading text: heading %>
    <%= circuit_pills %>
  <% end %>

  <%= card_body data: { target: 'circuit-card.body' } do %>
    <%= simulator do %>
      <%= circuit_preview circuit_erb: circuit_erb %>
      <%= circuit_code circuit_erb: circuit_erb %>
      <%= circle_notation %>
    <% end %>
  <% end %>
<% end %>
