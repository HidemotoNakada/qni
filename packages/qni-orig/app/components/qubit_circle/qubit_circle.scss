.qubit-circle {
  $parent: &;

  @apply m-px;

  @each $nqubit in $nqubits {
    .circle-notation[data-circle-notation-nqubit="#{$nqubit}"] & {
      @apply h-#{map-get($qubit-circle-size-mobile, $nqubit)};
      @apply w-#{map-get($qubit-circle-size-mobile, $nqubit)};

      @screen md {
        @apply h-#{map-get($qubit-circle-size, $nqubit)};
        @apply w-#{map-get($qubit-circle-size, $nqubit)};
      }
    }
  }

  // Disable double tap zoom
  touch-action: manipulation;

  &__border {
    @apply absolute;
    @apply border-wolf;
    @apply rounded-full;

    @each $nqubit in $nqubits {
      .circle-notation[data-circle-notation-nqubit="#{$nqubit}"] & {
        @apply border-#{map-get($qubit-circle-border-width-mobile, $nqubit)};
        @apply h-#{map-get($qubit-circle-size-mobile, $nqubit)};
        @apply w-#{map-get($qubit-circle-size-mobile, $nqubit)};

        @screen md {
          @apply border-#{map-get($qubit-circle-border-width, $nqubit)};
          @apply h-#{map-get($qubit-circle-size, $nqubit)};
          @apply w-#{map-get($qubit-circle-size, $nqubit)};
        }
      }
    }

    #{$parent}:hover & {
      @apply border-cardinal;
    }

    #{$parent}[data-magnitude-int="0"] & {
      @apply opacity-25;
    }
  }

  &__phase {
    @apply absolute;
    @apply origin-center;
    @apply text-eel;

    @each $nqubit in $nqubits {
      .circle-notation[data-circle-notation-nqubit="#{$nqubit}"] & {
        @if $nqubit < 6 {
          @apply transition-transform;
        }

        @apply h-#{map-get($qubit-circle-size-mobile, $nqubit)};
        @apply w-#{map-get($qubit-circle-size-mobile, $nqubit)};

        @screen md {
          @apply h-#{map-get($qubit-circle-size, $nqubit)};
          @apply w-#{map-get($qubit-circle-size, $nqubit)};
        }
      }
    }

    #{$parent}[data-phase-int="0"] & {
      @apply transform rotate-0;
    }

    @for $phase from 1 through 360 {
      #{$parent}[data-phase-int="#{$phase}"] & {
        @apply transform -rotate-#{$phase};
      }

      #{$parent}[data-phase-int="-#{$phase}"] & {
        @apply transform rotate-#{$phase};
      }
    }

    #{$parent}[data-magnitude-int="0"] & {
      @apply transform scale-0;
    }
  }

  &__phase-line {
    @each $nqubit in $nqubits {
      .circle-notation[data-circle-notation-nqubit="#{$nqubit}"] & {
        @apply stroke-#{map-get($qubit-circle-border-width-mobile, $nqubit)};

        @screen md {
          @apply stroke-#{map-get($qubit-circle-border-width, $nqubit)};
        }
      }
    }
  }

  &__magnitude {
    @apply absolute;
    @apply bg-magnitude;
    @apply origin-center;
    @apply rounded-full;
    @apply transform scale-0;

    @each $nqubit in $nqubits {
      .circle-notation[data-circle-notation-nqubit="#{$nqubit}"] & {
        @if $nqubit < 6 {
          @apply transition-transform;
        }

        @apply h-#{map-get($qubit-circle-size-mobile, $nqubit)};
        @apply w-#{map-get($qubit-circle-size-mobile, $nqubit)};

        @screen md {
          @apply h-#{map-get($qubit-circle-size, $nqubit)};
          @apply w-#{map-get($qubit-circle-size, $nqubit)};
        }
      }
    }

    #{$parent}:hover & {
      @apply bg-fox;
    }

    $zmagnitude: "";
    @for $magnitude from 1 through 100 {
      #{$parent}[data-magnitude-int="#{$magnitude}"] & {
        @apply transform scale-#{$magnitude};
      }
    }
  }
}
