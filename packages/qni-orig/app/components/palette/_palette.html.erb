<div id="palette" class="palette" data-controller="gate-description">
  <%= dropzone palette: true, no_wire: true do %>
    <%= hadamard_gate popup: false, palette: true %>
    <%= gate_description title: 'Hadamard Gate', subtitles: ['Creates simple superpositions.'] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= hadamard_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= hadamard_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70, phase: 180 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= not_gate popup: false, palette: true %>
    <% subtitle = capture do %>
      Swaps the qubit pair of |<span class="font-mono">0</span>&#x27e9; and |<span class="font-mono">1</span>&#x27e9;.
    <% end %>
    <%= gate_description title: 'NOT Gate (Pauli X Gate)', subtitles: [subtitle] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= not_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= not_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 90, phase: 340 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 40, phase: 70 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= not_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 40, phase: 70 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 90, phase: 340 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= y_gate popup: false, palette: true %>
    <%= gate_description title: 'Pauli Y Gate', subtitles: ['A combination of the NOT (X) and Z gates.'] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= y_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100, phase: 90 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= y_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100, phase: 270 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 90, phase: 340 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 40, phase: 70 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= y_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 40, phase: 160 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 90, phase: 250 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= z_gate popup: false, palette: true %>
    <%= gate_description title: 'Pauli Z Gate', subtitles: ['The phase flip gate.', 'Negate phases when the qubit is ON.'] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= z_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= z_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100, phase: 180 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 90, phase: 340 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 40, phase: 70 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= z_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 90, phase: 340 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 40, phase: 250 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= phase_gate phi: 'π/2', popup: false, palette: true %>
    <% subtitle = capture do %>
      Applies a phase of e<sup>iφ</sup> to the |<span class="font-mono">1</span>&#x27e9; state.
    <% end %>
    <%= gate_description title: 'Phase Gate', subtitles: [subtitle, 'Default φ = π/2'] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= phase_gate phi: 'π/2' %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= phase_gate phi: 'π/2' %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100, phase: 90 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 90, phase: 340 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 40, phase: 70 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= phase_gate phi: 'π/2' %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 90, phase: 340 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 40, phase: 160 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= root_not_gate popup: false, palette: true %>
    <%= gate_description title: 'Square Root of NOT Gate', subtitles: ['Rotates around the X-axis by π/2.'] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= root_not_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70, phase: 50 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70, phase: 310 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= root_not_gate %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70, phase: 310 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70, phase: 50 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= rx_gate theta: 'π/2', popup: false, palette: true %>
    <%= gate_description title: 'Rx Gate', subtitles: ['Rotates around the X-axis by the angle θ.', 'Default θ = π/2'] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= rx_gate theta: 'π/2' %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70, phase: 270 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= rx_gate theta: 'π/2' %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70, phase: 270 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= ry_gate theta: 'π/2', popup: false, palette: true %>
    <%= gate_description title: 'Ry Gate', subtitles: ['Rotates around the Y-axis by the angle θ.', 'Default θ = π/2'] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= ry_gate theta: 'π/2' %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= ry_gate theta: 'π/2' %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70, phase: 180 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 70 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= rz_gate theta: 'π/2', popup: false, palette: true %>
    <%= gate_description title: 'Rz Gate', subtitles: ['Rotates around the Z-axis by the angle θ.', 'Default θ = π/2'] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= rz_gate theta: 'π/2' %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100, phase: 310 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= rz_gate theta: 'π/2' %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100, phase: 50 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= swap_gate palette: true %>
    <%= gate_description title: 'Swap Gate', subtitles: ['Swaps the values of two qubits.', '(Place two in the same column.)'] %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= control_gate palette: true %>
    <%= gate_description title: 'Control', subtitles: ['Conditions on a qubit being ON.', 'Gates in the same column only apply to states meeting the condition.'] %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= bloch_display palette: true %>
    <%= gate_description title: 'Bloch Sphere Display', subtitles: ["Shows a wire's local state as a point on the Bloch sphere."] %>
  <% end %>

    <%= dropzone palette: true, no_wire: true do %>
    <%= write 0, palette: true %>
    <% title = capture do %>
      |<span class="font-mono">0</span>&#x27e9; Operation
    <% end %>
    <% subtitle = capture do %>
      (Re)sets a qubit to state |<span class="font-mono">0</span>&#x27e9;.
    <% end %>
    <%= gate_description title: title, subtitles: [subtitle] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= write 0 %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= write 0 %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= write 1, palette: true %>
    <% title = capture do %>
      |<span class="font-mono">1</span>&#x27e9; Operation
    <% end %>
    <% subtitle = capture do %>
      (Re)sets a qubit to state |<span class="font-mono">1</span>&#x27e9;.
    <% end %>
    <%= gate_description title: title, subtitles: [subtitle] do %>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= write 1 %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
      <div class="gate-description__example">
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
        <%= gate_arrow do %>
          <%= write 1 %>
        <% end %>
        <div class="flex flex-row">
          <div class="flex flex-col items-center">
            <%= qubit_circle %>
            <%= qubit_circle_ket 0 %>
          </div>
          <div class="flex flex-col items-center">
            <%= qubit_circle magnitude: 100 %>
            <%= qubit_circle_ket 1 %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>

  <%= dropzone palette: true, no_wire: true do %>
    <%= measure popup: false, palette: true %>
    <%= gate_description title: 'Measurement Gate', subtitles: ['Measures whether a qubit is ON or OFF.'] %>
  <% end %>
</div>
