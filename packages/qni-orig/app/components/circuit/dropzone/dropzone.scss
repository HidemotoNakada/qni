.dropzone {
  $parent: &;

  @apply relative;

  &--palette {
    @apply w-#{$instruction-size-base};
    @apply h-#{$instruction-size-base};
    @apply mr-2;
  }

  &--circuit {
    @each $nqubit in $nqubits {
      .circuit[data-nqubit="#{$nqubit}"] & {
        @apply w-#{map-get($instruction-size, $nqubit)};
        @apply h-#{map-get($instruction-size, $nqubit) + map-get($instruction-margin, $nqubit) * 2};
        @apply mx-#{map-get($instruction-margin, $nqubit)};

        @screen md {
          @apply w-#{$instruction-size-base + $instruction-margin-base};
          @apply h-#{$instruction-size-base};
          @apply mx-0;
        }
      }
    }

    &:nth-of-type(n + 2) {
      @screen md {
        @apply mt-#{$instruction-margin-base};
      }
    }

    .circuit-preview .circuit & {
      @apply w-#{$instruction-size-base + $instruction-margin-base};
      @apply h-#{$instruction-size-base};
      @apply mx-0;
    }

    .circuit-preview &:nth-of-type(n + 2) {
      @apply mt-#{$instruction-margin-base};
    }
  }

  &--trash {
    @apply flex;
    @apply px-4 py-5;
  }

  &__wire {
    @apply stroke-current text-#{$wire-color};
    @apply w-full h-full;

    #{$parent}--wire-inactive & {
      @apply stroke-current text-#{$wire-inactive-color};
    }

    #{$parent}--palette &,
    #{$parent}--trash &,
    #{$parent}--no-wire & {
      @apply hidden;
    }
  }

  &__wire-pc {
    @apply hidden;

    @screen md {
      @apply block;
    }

    .circuit-preview & {
      @apply block;
    }
  }

  &__wire-pc-left,
  &__wire-mobile-top {
    #{$parent}--input-wire-inactive & {
      @apply stroke-current text-#{$wire-inactive-color};
    }
  }

  &__wire-pc-right,
  &__wire-mobile-bottom {
    #{$parent}--output-wire-inactive & {
      @apply stroke-current text-#{$wire-inactive-color};
    }
  }

  .draggable--write ~ &__wire &__wire-pc-left {
    @apply stroke-current text-#{$wire-inactive-color};
  }

  .draggable--write ~ &__wire &__wire-pc-left-right {
    @apply invisible;
  }

  .draggable--write ~ &__wire &__wire-pc-right {
    @apply stroke-current text-#{$wire-color};
  }

  .draggable--write ~ &__wire &__wire-pc-right-left {
    @apply invisible;
  }

  .draggable--readout ~ &__wire &__wire-pc-left {
    @apply stroke-current text-#{$wire-color};
  }

  .draggable--readout ~ &__wire &__wire-pc-left-right {
    @apply invisible;
  }

  .draggable--readout ~ &__wire &__wire-pc-right {
    @apply stroke-current text-#{$wire-inactive-color};
  }

  .draggable--readout ~ &__wire &__wire-pc-right-left {
    @apply invisible;
  }

  &__wire-mobile {
    @screen md {
      @apply hidden;
    }

    .circuit-preview & {
      @apply hidden;
    }
  }

  .draggable--write ~ &__wire &__wire-mobile-top {
    @apply stroke-current text-#{$wire-inactive-color};
  }

  .draggable--write ~ &__wire &__wire-mobile-top-bottom {
    @apply invisible;
  }

  .draggable--write ~ &__wire &__wire-mobile-bottom {
    @apply stroke-current text-#{$wire-color};
  }

  .draggable--write ~ &__wire &__wire-mobile-bottom-top {
    @apply invisible;
  }

  .draggable--readout ~ &__wire &__wire-mobile-top {
    @apply stroke-current text-#{$wire-color};
  }

  .draggable--readout ~ &__wire &__wire-mobile-top-bottom {
    @apply invisible;
  }

  .draggable--readout ~ &__wire &__wire-mobile-bottom {
    @apply stroke-current text-#{$wire-inactive-color};
  }

  .draggable--readout ~ &__wire &__wire-mobile-bottom-top {
    @apply invisible;
  }
}
