<% dropzone = local_assigns.fetch(:dropzone) %>

<%= tag.div class: class_string('dropzone',
                                'dropzone--circuit' => dropzone.circuit?,
                                'dropzone--palette' => dropzone.palette?,
                                'dropzone--trash' => dropzone.trash?,
                                'dropzone--occupied' => dropzone.occupied?,
                                'dropzone--wire-inactive' => !dropzone.wire_active?,
                                'dropzone--input-wire-inactive' => !dropzone.input_wire_active?,
                                'dropzone--output-wire-inactive' => !dropzone.output_wire_active?,
                                'dropzone--no-wire' => dropzone.no_wire?,
                                'dropzone--connected-with-lower-bit' => dropzone.wire_top?,
                                'dropzone--connected-with-upper-bit' => dropzone.wire_bottom?) do %>
  <%= dropzone.content %>
  <svg class="dropzone__wire" width="100" height="100" viewBox="0 0 100 100" preserveAspectRatio="none">
    <g class="dropzone__wire-pc">
      <g class="dropzone__wire-pc-left">
        <line class="dropzone__wire-pc-left-left" x1="0" y1="50%" x2="25%" y2="50%" stroke-width="2" vector-effect="non-scaling-stroke"></line>
        <line class="dropzone__wire-pc-left-right" x1="25%" y1="50%" x2="50%" y2="50%" stroke-width="2" vector-effect="non-scaling-stroke"></line>
      </g>
      <g class="dropzone__wire-pc-right">
        <line class="dropzone__wire-pc-right-left" x1="50%" y1="50%" x2="75%" y2="50%" stroke-width="2" vector-effect="non-scaling-stroke"></line>
        <line class="dropzone__wire-pc-right-right" x1="75%" y1="50%" x2="100%" y2="50%" stroke-width="2" vector-effect="non-scaling-stroke"></line>
      </g>
    </g>
    <g class="dropzone__wire-mobile">
      <g class="dropzone__wire-mobile-top">
        <line class="dropzone__wire-mobile-top-top" x1="50%" y1="0%" x2="50%" y2="25%" stroke-width="2" vector-effect="non-scaling-stroke"></line>
        <line class="dropzone__wire-mobile-top-bottom" x1="50%" y1="25%" x2="50%" y2="50%" stroke-width="2" vector-effect="non-scaling-stroke"></line>
      </g>
      <g class="dropzone__wire-mobile-bottom">
        <line class="dropzone__wire-mobile-bottom-top" x1="50%" y1="50%" x2="50%" y2="75%" stroke-width="2" vector-effect="non-scaling-stroke"></line>
        <line class="dropzone__wire-mobile-bottom-bottom" x1="50%" y1="75%" x2="50%" y2="100%" stroke-width="2" vector-effect="non-scaling-stroke"></line>
      </g>
    </g>
  </svg>
  <%= connection_top %>
  <%= connection_bottom %>
<% end %>
