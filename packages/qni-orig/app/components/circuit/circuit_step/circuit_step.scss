.circuit-step {
  $parent: &;

  @apply flex items-stretch flex-col justify-center items-center;
  @apply cursor-pointer;

  @each $nqubit in $nqubits {
    .circuit[data-nqubit="#{$nqubit}"] & {
      @apply -mx-#{map-get($instruction-size, $nqubit) / 2} px-#{map-get($instruction-size, $nqubit) / 2};

      @screen md {
        @apply mx-0 px-0;
      }
    }
  }

  @screen md {
    @apply flex-row items-stretch;
    @apply -my-#{$instruction-size-base / 2} py-#{$instruction-size-base / 2};
  }

  .circuit-preview & {
    @apply flex-row items-stretch;
  }

  &__body {
    @apply flex flex-row-reverse flex-nowrap;

    @screen md {
      @apply flex-col;
    }

    .circuit-preview #{$parent} & {
      @apply flex-col;
    }
  }

  &--shadow {
    @apply w-0;

    .wires {
      @apply hidden;
    }
  }

  &--shadow-source {
    @apply hidden;
  }
}
