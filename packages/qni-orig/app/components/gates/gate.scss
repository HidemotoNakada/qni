.gate {
  --animate-duration: 0.2s;

  @apply relative;
  @apply border-#{$gate-border-width} border-transparent;

  @mixin box($nqubit) {
    @apply w-#{map-get($instruction-size, $nqubit)};
    @apply h-#{map-get($instruction-size, $nqubit)};
  }

  @mixin box-md {
    @apply w-#{$instruction-size-base};
    @apply h-#{$instruction-size-base};
  }

  @each $nqubit in $nqubits {
    .circuit[data-nqubit="#{$nqubit}"] & {
      @include box($nqubit);

      @screen md {
        @include box-md;
      }
    }
  }

  .palette & {
    @screen md {
      @include box-md;
    }
  }

  .circuit-preview .circuit & {
    @include box-md;
  }
}
