.swap-gate {
  $gate-shape-class: ".gate__shape";

  @apply rounded;

  #{$gate-shape-class} svg {
    @apply stroke-3;
    @apply stroke-current;
    @apply text-#{$gate-color};
  }

  &::before {
    @screen md {
      @apply absolute inset-0;
      @apply border-#{$gate-border-width} border-transparent rounded;
      @apply w-full h-full;
      content: "";
    }
  }

  .draggable:not(.draggable--source):hover &::before {
    @screen md {
      @apply bg-white;
      @apply border-#{$gate-hover-color};
    }
  }

  .draggable:not(.draggable--source):hover & #{$gate-shape-class}--square {
    @screen md {
      @apply bg-transparent;
    }
  }

  .draggable:not(.draggable--source):hover & #{$gate-shape-class} svg {
    @screen md {
      @apply text-#{$gate-hover-color};
    }
  }

  // Reference for coordinates during dragging
  .draggable--source &::before {
    @apply border-#{$gate-source-color};
  }

  .draggable--source & #{$gate-shape-class} {
    @apply bg-transparent;
  }

  .draggable--source & #{$gate-shape-class} svg {
    @apply text-#{$gate-source-color};
  }

  // Placeholder to display when it is droppable
  .draggable--shadow &::before {
    @apply bg-white;
    @apply border-#{$gate-shadow-color};
  }

  .draggable--shadow & #{$gate-shape-class} svg {
    @apply text-#{$gate-shadow-color};
  }

  // Disabled state
  &.gate--disabled #{$gate-shape-class} {
    @apply bg-transparent;
  }

  &.gate--disabled #{$gate-shape-class} svg {
    @apply text-#{$gate-label-color-disabled};
  }

  &.instruction--bordered::before {
    @apply bg-white;
    @apply border-#{$gate-border-color};
  }
}
